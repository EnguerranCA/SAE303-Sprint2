(function(){const nt=document.createElement("link").relList;if(nt&&nt.supports&&nt.supports("modulepreload"))return;for(const V of document.querySelectorAll('link[rel="modulepreload"]'))$(V);new MutationObserver(V=>{for(const x of V)if(x.type==="childList")for(const C of x.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&$(C)}).observe(document,{childList:!0,subtree:!0});function W(V){const x={};return V.integrity&&(x.integrity=V.integrity),V.referrerPolicy&&(x.referrerPolicy=V.referrerPolicy),V.crossOrigin==="use-credentials"?x.credentials="include":V.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function $(V){if(V.ep)return;V.ep=!0;const x=W(V);fetch(V.href,x)}})();let Is=await fetch("./src/data/json/codespostaux.json");Is=await Is.json();Is.sort((K,nt)=>K.code_postal.toString().padStart(6,"0").localeCompare(nt.code_postal.toString().padStart(6,"0")));let eh={},kl=function(K){let nt=0,W=Is.length-1,$;for(;nt<=W;){if($=Math.floor((nt+W)/2),Is[$].code_postal==K)return Is[$];Is[$].code_postal<K?nt=$+1:W=$-1}};eh.getDepartementName=function(K){return kl(postalCode).nom_departement};eh.getPostalCode=function(K){K=K.toString().padStart(5,"0"),K.startsWith("97")?K=K.substring(0,3)+"00":K=K.substring(0,2)+"000";let nt=kl(K);return nt?{appellation_officielle:nt.nom_departement,code_departement:nt.code_departement,latitude:nt.latitude,longitude:nt.longitude}:(console.log("Code postal non trouvé : "+K),{nom_departement:"Inconnu",code_departement:"0",latitude:0,longitude:0})};let gn=await fetch("./src/data/json/candidatures.json");gn=await gn.json();let vi={};vi.getAll=function(){return gn};vi.getDepartements=function(K){let nt={};for(let W=0;W<gn.length;W++){let $=gn[W],V=null;if(($.Baccalaureat.TypeDiplomeCode==K||K==0)&&(V=$.Scolarite[1]),!V.CommuneEtablissementOrigineCodePostal)continue;let x=V.CommuneEtablissementOrigineCodePostal.substring(0,2);x==="97"&&(x=V.CommuneEtablissementOrigineCodePostal.substring(0,3)),nt[x]||(nt[x]={count:{generale:0,sti2d:0,other:0,postbac:0},appellation_officielle:x,code:x}),$.Baccalaureat.TypeDiplomeCode===1?nt[x].count.postbac++:$.Baccalaureat.SerieDiplomeCode==="Générale"?nt[x].count.generale++:$.Baccalaureat.SerieDiplomeCode==="STI2D"?nt[x].count.sti2d++:nt[x].count.other++}return nt};vi.getPostBacCandidats=function(K){return gn.filter(W=>W.Baccalaureat.TypeDiplomeCode===1)};vi.formatChart=function(K,nt){let W=[];for(let T in K)W.push(K[T].appellation_officielle);W.sort((T,O)=>(K[O]?.count?.generale||0)+(K[O]?.count?.sti2d||0)+(K[O]?.count?.postbac||0)+(K[O]?.count?.other||0)-((K[T]?.count?.generale||0)+(K[T]?.count?.sti2d||0)+(K[T]?.count?.postbac||0)+(K[T]?.count?.other||0)));let $=[],V={generale:0,sti2d:0,postbac:0,other:0};for(let T of W)K[T].count.generale+K[T].count.sti2d+K[T].count.postbac+K[T].count.other>nt?$.push(T):(V.generale+=K[T].count.generale,V.sti2d+=K[T].count.sti2d,V.postbac+=K[T].count.postbac,V.other+=K[T].count.other);(V.generale>0||V.sti2d>0||V.postbac>0||V.other>0)&&($.push("Autres"),K.Autres={appellation_officielle:"Autres",count:V}),W=$;let x=W;return{seriesData:[{name:"Générale",data:W.map(T=>K[T].count.generale)},{name:"STI2D",data:W.map(T=>K[T].count.sti2d)},{name:"Postbac",data:W.map(T=>K[T].count.postbac)},{name:"Other",data:W.map(T=>K[T].count.other)}],categories:x}};let Ye=await fetch("./src/data/json/lycees.json");Ye=await Ye.json();Ye.sort((K,nt)=>K.numero_uai.localeCompare(nt.numero_uai));let th=vi.getAll();for(let K of th)if(K.Baccalaureat.TypeDiplomeLibelle==="Baccalauréat en préparation"){let nt=K.Scolarite[0].UAIEtablissementorigine,W=Ye.find($=>$.numero_uai===nt);if(W)switch(W.count||(W.count={generale:0,sti2d:0,other:0,postbac:0}),K.Baccalaureat.SerieDiplomeCode){case"Générale":W.count.generale++;break;case"STI2D":W.count.sti2d++;break;default:W.count.other++;break}}Ye=Ye.filter(K=>K.count);let ue={};ue.getAll=function(){return Ye};ue.binarySearch=function(K){let nt=0,W=Ye.length-1,$;for(;nt<=W;){if($=Math.floor((nt+W)/2),Ye[$].numero_uai===K)return Ye[$];Ye[$].numero_uai<K?nt=$+1:W=$-1}};ue.getLyceesAvecCandidats=function(){let K=[],nt=[];for(let W=1;W<th.length;W++){let $=th[W];for(let V=0;V<6;V++){let x=$.Scolarite[V].UAIEtablissementorigine,C=ue.binarySearch(x);if(C){K.find(T=>T.numero_uai===x)?K.find(T=>T.numero_uai===x).count++:(C.count=1,K.push(C));break}V===5&&nt.push($)}}for(let W of nt);return K};let Mu=function(K,nt,W,$){let V=Math.PI/180,x=K*V,C=W*V,T=nt*V,O=$*V,Z=Math.sin(x)*Math.sin(C),G=Math.cos(x)*Math.cos(C),R=Math.cos(T-O),q=G*R,j=Z+q;return(Math.atan(-j/Math.sqrt(-j*j+1))+2*Math.atan(1))*3437.74677*1.1508*1.6093470878864446};ue.filtrerParDistance=function(K,nt){return K.filter(W=>(W.distance=Mu(W.latitude,W.longitude,45.83101313440399,1.259036035081095),W.distance<=nt))};ue.getNeoBacheliers=function(){return Ye};ue.getPostBac=function(){let K=[],nt=vi.getPostBacCandidats();for(let W of nt)if(W.Scolarite[0].CommuneEtablissementOrigineCodePostal){let $=eh.getPostalCode(W.Scolarite[0].CommuneEtablissementOrigineCodePostal),V=K.find(x=>x.code_departement===$.code_departement);V?V.count.postbac++:K.push({count:{generale:0,sti2d:0,other:0,postbac:1},appellation_officielle:$.appellation_officielle,code_departement:$.code_departement,latitude:$.latitude,longitude:$.longitude})}return K};ue.getAllLieux=function(){return ue.getPostBac().concat(ue.getNeoBacheliers())};ue.getPostBac();var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pu(K){return K&&K.__esModule&&Object.prototype.hasOwnProperty.call(K,"default")?K.default:K}var Ar={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var wl;function Ml(){return wl||(wl=1,function(K,nt){(function(W,$){$(nt)})(Or,function(W){var $="1.9.4";function V(e){var n,l,f,_;for(l=1,f=arguments.length;l<f;l++){_=arguments[l];for(n in _)e[n]=_[n]}return e}var x=Object.create||function(){function e(){}return function(n){return e.prototype=n,new e}}();function C(e,n){var l=Array.prototype.slice;if(e.bind)return e.bind.apply(e,l.call(arguments,1));var f=l.call(arguments,2);return function(){return e.apply(n,f.length?f.concat(l.call(arguments)):arguments)}}var T=0;function O(e){return"_leaflet_id"in e||(e._leaflet_id=++T),e._leaflet_id}function Z(e,n,l){var f,_,M,A;return A=function(){f=!1,_&&(M.apply(l,_),_=!1)},M=function(){f?_=arguments:(e.apply(l,arguments),setTimeout(A,n),f=!0)},M}function G(e,n,l){var f=n[1],_=n[0],M=f-_;return e===f&&l?e:((e-_)%M+M)%M+_}function R(){return!1}function q(e,n){if(n===!1)return e;var l=Math.pow(10,n===void 0?6:n);return Math.round(e*l)/l}function j(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function rt(e){return j(e).split(/\s+/)}function Q(e,n){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?x(e.options):{});for(var l in n)e.options[l]=n[l];return e.options}function Ot(e,n,l){var f=[];for(var _ in e)f.push(encodeURIComponent(l?_.toUpperCase():_)+"="+encodeURIComponent(e[_]));return(!n||n.indexOf("?")===-1?"?":"&")+f.join("&")}var xt=/\{ *([\w_ -]+) *\}/g;function Nt(e,n){return e.replace(xt,function(l,f){var _=n[f];if(_===void 0)throw new Error("No value provided for variable "+l);return typeof _=="function"&&(_=_(n)),_})}var Rt=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function ze(e,n){for(var l=0;l<e.length;l++)if(e[l]===n)return l;return-1}var ae="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ei(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var U=0;function _o(e){var n=+new Date,l=Math.max(0,16-(n-U));return U=n+l,window.setTimeout(e,l)}var Ii=window.requestAnimationFrame||Ei("RequestAnimationFrame")||_o,ai=window.cancelAnimationFrame||Ei("CancelAnimationFrame")||Ei("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ee(e,n,l){if(l&&Ii===_o)e.call(n);else return Ii.call(window,C(e,n))}function Le(e){e&&ai.call(window,e)}var ns={__proto__:null,extend:V,create:x,bind:C,get lastId(){return T},stamp:O,throttle:Z,wrapNum:G,falseFn:R,formatNum:q,trim:j,splitWords:rt,setOptions:Q,getParamString:Ot,template:Nt,isArray:Rt,indexOf:ze,emptyImageUrl:ae,requestFn:Ii,cancelFn:ai,requestAnimFrame:ee,cancelAnimFrame:Le};function Ce(){}Ce.extend=function(e){var n=function(){Q(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=n.__super__=this.prototype,f=x(l);f.constructor=n,n.prototype=f;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(n[_]=this[_]);return e.statics&&V(n,e.statics),e.includes&&(zi(e.includes),V.apply(null,[f].concat(e.includes))),V(f,e),delete f.statics,delete f.includes,f.options&&(f.options=l.options?x(l.options):{},V(f.options,e.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,A=f._initHooks.length;M<A;M++)f._initHooks[M].call(this)}},n},Ce.include=function(e){var n=this.prototype.options;return V(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},Ce.mergeOptions=function(e){return V(this.prototype.options,e),this},Ce.addInitHook=function(e){var n=Array.prototype.slice.call(arguments,1),l=typeof e=="function"?e:function(){this[e].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function zi(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=Rt(e)?e:[e];for(var n=0;n<e.length;n++)e[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var pe={on:function(e,n,l){if(typeof e=="object")for(var f in e)this._on(f,e[f],n);else{e=rt(e);for(var _=0,M=e.length;_<M;_++)this._on(e[_],n,l)}return this},off:function(e,n,l){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var f in e)this._off(f,e[f],n);else{e=rt(e);for(var _=arguments.length===1,M=0,A=e.length;M<A;M++)_?this._off(e[M]):this._off(e[M],n,l)}return this},_on:function(e,n,l,f){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(e,n,l)===!1){l===this&&(l=void 0);var _={fn:n,ctx:l};f&&(_.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(_)}},_off:function(e,n,l){var f,_,M;if(this._events&&(f=this._events[e],!!f)){if(arguments.length===1){if(this._firingCount)for(_=0,M=f.length;_<M;_++)f[_].fn=R;delete this._events[e];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var A=this._listens(e,n,l);if(A!==!1){var N=f[A];this._firingCount&&(N.fn=R,this._events[e]=f=f.slice()),f.splice(A,1)}}},fire:function(e,n,l){if(!this.listens(e,l))return this;var f=V({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var _=this._events[e];if(_){this._firingCount=this._firingCount+1||1;for(var M=0,A=_.length;M<A;M++){var N=_[M],H=N.fn;N.once&&this.off(e,H,N.ctx),H.call(N.ctx||this,f)}this._firingCount--}}return l&&this._propagateEvent(f),this},listens:function(e,n,l,f){typeof e!="string"&&console.warn('"string" type argument expected');var _=n;typeof n!="function"&&(f=!!n,_=void 0,l=void 0);var M=this._events&&this._events[e];if(M&&M.length&&this._listens(e,_,l)!==!1)return!0;if(f){for(var A in this._eventParents)if(this._eventParents[A].listens(e,n,l,f))return!0}return!1},_listens:function(e,n,l){if(!this._events)return!1;var f=this._events[e]||[];if(!n)return!!f.length;l===this&&(l=void 0);for(var _=0,M=f.length;_<M;_++)if(f[_].fn===n&&f[_].ctx===l)return _;return!1},once:function(e,n,l){if(typeof e=="object")for(var f in e)this._on(f,e[f],n,!0);else{e=rt(e);for(var _=0,M=e.length;_<M;_++)this._on(e[_],n,l,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[O(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[O(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,V({layer:e.target,propagatedFrom:e.target},e),!0)}};pe.addEventListener=pe.on,pe.removeEventListener=pe.clearAllEventListeners=pe.off,pe.addOneTimeEventListener=pe.once,pe.fireEvent=pe.fire,pe.hasEventListeners=pe.listens;var Bi=Ce.extend(pe);function vt(e,n,l){this.x=l?Math.round(e):e,this.y=l?Math.round(n):n}var yi=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};vt.prototype={clone:function(){return new vt(this.x,this.y)},add:function(e){return this.clone()._add(_t(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(_t(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new vt(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new vt(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=yi(this.x),this.y=yi(this.y),this},distanceTo:function(e){e=_t(e);var n=e.x-this.x,l=e.y-this.y;return Math.sqrt(n*n+l*l)},equals:function(e){return e=_t(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=_t(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+q(this.x)+", "+q(this.y)+")"}};function _t(e,n,l){return e instanceof vt?e:Rt(e)?new vt(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new vt(e.x,e.y):new vt(e,n,l)}function Ht(e,n){if(e)for(var l=n?[e,n]:e,f=0,_=l.length;f<_;f++)this.extend(l[f])}Ht.prototype={extend:function(e){var n,l;if(!e)return this;if(e instanceof vt||typeof e[0]=="number"||"x"in e)n=l=_t(e);else if(e=te(e),n=e.min,l=e.max,!n||!l)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=l.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(e){return _t((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return _t(this.min.x,this.max.y)},getTopRight:function(){return _t(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var n,l;return typeof e[0]=="number"||e instanceof vt?e=_t(e):e=te(e),e instanceof Ht?(n=e.min,l=e.max):n=l=e,n.x>=this.min.x&&l.x<=this.max.x&&n.y>=this.min.y&&l.y<=this.max.y},intersects:function(e){e=te(e);var n=this.min,l=this.max,f=e.min,_=e.max,M=_.x>=n.x&&f.x<=l.x,A=_.y>=n.y&&f.y<=l.y;return M&&A},overlaps:function(e){e=te(e);var n=this.min,l=this.max,f=e.min,_=e.max,M=_.x>n.x&&f.x<l.x,A=_.y>n.y&&f.y<l.y;return M&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var n=this.min,l=this.max,f=Math.abs(n.x-l.x)*e,_=Math.abs(n.y-l.y)*e;return te(_t(n.x-f,n.y-_),_t(l.x+f,l.y+_))},equals:function(e){return e?(e=te(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function te(e,n){return!e||e instanceof Ht?e:new Ht(e,n)}function ie(e,n){if(e)for(var l=n?[e,n]:e,f=0,_=l.length;f<_;f++)this.extend(l[f])}ie.prototype={extend:function(e){var n=this._southWest,l=this._northEast,f,_;if(e instanceof At)f=e,_=e;else if(e instanceof ie){if(f=e._southWest,_=e._northEast,!f||!_)return this}else return e?this.extend(kt(e)||Ut(e)):this;return!n&&!l?(this._southWest=new At(f.lat,f.lng),this._northEast=new At(_.lat,_.lng)):(n.lat=Math.min(f.lat,n.lat),n.lng=Math.min(f.lng,n.lng),l.lat=Math.max(_.lat,l.lat),l.lng=Math.max(_.lng,l.lng)),this},pad:function(e){var n=this._southWest,l=this._northEast,f=Math.abs(n.lat-l.lat)*e,_=Math.abs(n.lng-l.lng)*e;return new ie(new At(n.lat-f,n.lng-_),new At(l.lat+f,l.lng+_))},getCenter:function(){return new At((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new At(this.getNorth(),this.getWest())},getSouthEast:function(){return new At(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof At||"lat"in e?e=kt(e):e=Ut(e);var n=this._southWest,l=this._northEast,f,_;return e instanceof ie?(f=e.getSouthWest(),_=e.getNorthEast()):f=_=e,f.lat>=n.lat&&_.lat<=l.lat&&f.lng>=n.lng&&_.lng<=l.lng},intersects:function(e){e=Ut(e);var n=this._southWest,l=this._northEast,f=e.getSouthWest(),_=e.getNorthEast(),M=_.lat>=n.lat&&f.lat<=l.lat,A=_.lng>=n.lng&&f.lng<=l.lng;return M&&A},overlaps:function(e){e=Ut(e);var n=this._southWest,l=this._northEast,f=e.getSouthWest(),_=e.getNorthEast(),M=_.lat>n.lat&&f.lat<l.lat,A=_.lng>n.lng&&f.lng<l.lng;return M&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,n){return e?(e=Ut(e),this._southWest.equals(e.getSouthWest(),n)&&this._northEast.equals(e.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ut(e,n){return e instanceof ie?e:new ie(e,n)}function At(e,n,l){if(isNaN(e)||isNaN(n))throw new Error("Invalid LatLng object: ("+e+", "+n+")");this.lat=+e,this.lng=+n,l!==void 0&&(this.alt=+l)}At.prototype={equals:function(e,n){if(!e)return!1;e=kt(e);var l=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return l<=(n===void 0?1e-9:n)},toString:function(e){return"LatLng("+q(this.lat,e)+", "+q(this.lng,e)+")"},distanceTo:function(e){return be.distance(this,kt(e))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(e){var n=180*e/40075017,l=n/Math.cos(Math.PI/180*this.lat);return Ut([this.lat-n,this.lng-l],[this.lat+n,this.lng+l])},clone:function(){return new At(this.lat,this.lng,this.alt)}};function kt(e,n,l){return e instanceof At?e:Rt(e)&&typeof e[0]!="object"?e.length===3?new At(e[0],e[1],e[2]):e.length===2?new At(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new At(e.lat,"lng"in e?e.lng:e.lon,e.alt):n===void 0?null:new At(e,n,l)}var Ve={latLngToPoint:function(e,n){var l=this.projection.project(e),f=this.scale(n);return this.transformation._transform(l,f)},pointToLatLng:function(e,n){var l=this.scale(n),f=this.transformation.untransform(e,l);return this.projection.unproject(f)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var n=this.projection.bounds,l=this.scale(e),f=this.transformation.transform(n.min,l),_=this.transformation.transform(n.max,l);return new Ht(f,_)},infinite:!1,wrapLatLng:function(e){var n=this.wrapLng?G(e.lng,this.wrapLng,!0):e.lng,l=this.wrapLat?G(e.lat,this.wrapLat,!0):e.lat,f=e.alt;return new At(l,n,f)},wrapLatLngBounds:function(e){var n=e.getCenter(),l=this.wrapLatLng(n),f=n.lat-l.lat,_=n.lng-l.lng;if(f===0&&_===0)return e;var M=e.getSouthWest(),A=e.getNorthEast(),N=new At(M.lat-f,M.lng-_),H=new At(A.lat-f,A.lng-_);return new ie(N,H)}},be=V({},Ve,{wrapLng:[-180,180],R:6371e3,distance:function(e,n){var l=Math.PI/180,f=e.lat*l,_=n.lat*l,M=Math.sin((n.lat-e.lat)*l/2),A=Math.sin((n.lng-e.lng)*l/2),N=M*M+Math.cos(f)*Math.cos(_)*A*A,H=2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N));return this.R*H}}),_n=6378137,Bs={R:_n,MAX_LATITUDE:85.0511287798,project:function(e){var n=Math.PI/180,l=this.MAX_LATITUDE,f=Math.max(Math.min(l,e.lat),-l),_=Math.sin(f*n);return new vt(this.R*e.lng*n,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(e){var n=180/Math.PI;return new At((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*n,e.x*n/this.R)},bounds:function(){var e=_n*Math.PI;return new Ht([-e,-e],[e,e])}()};function vn(e,n,l,f){if(Rt(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=n,this._c=l,this._d=f}vn.prototype={transform:function(e,n){return this._transform(e.clone(),n)},_transform:function(e,n){return n=n||1,e.x=n*(this._a*e.x+this._b),e.y=n*(this._c*e.y+this._d),e},untransform:function(e,n){return n=n||1,new vt((e.x/n-this._b)/this._a,(e.y/n-this._d)/this._c)}};function ht(e,n,l,f){return new vn(e,n,l,f)}var Di=V({},be,{code:"EPSG:3857",projection:Bs,transformation:function(){var e=.5/(Math.PI*Bs.R);return ht(e,.5,-e,.5)}()}),Ds=V({},Di,{code:"EPSG:900913"});function yn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function os(e,n){var l="",f,_,M,A,N,H;for(f=0,M=e.length;f<M;f++){for(N=e[f],_=0,A=N.length;_<A;_++)H=N[_],l+=(_?"L":"M")+H.x+" "+H.y;l+=n?lt.svg?"z":"x":""}return l||"M0 0"}var Ns=document.documentElement.style,Ni="ActiveXObject"in window,rs=Ni&&!document.addEventListener,vo="msLaunchUri"in navigator&&!("documentMode"in document),xn=Se("webkit"),qe=Se("android"),yo=Se("android 2")||Se("android 3"),Ft=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ir=qe&&Se("Google")&&Ft<537&&!("AudioNode"in window),bn=!!window.opera,xo=!vo&&Se("chrome"),wn=Se("gecko")&&!xn&&!bn&&!Ni,Ln=!xo&&Se("safari"),bo=Se("phantom"),wo="OTransition"in Ns,zr=navigator.platform.indexOf("Win")===0,$e=Ni&&"transition"in Ns,as="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!yo,ke="MozPerspective"in Ns,Rs=!window.L_DISABLE_3D&&($e||as||ke)&&!wo&&!bo,hs=typeof orientation<"u"||Se("mobile"),fe=hs&&xn,Lo=hs&&as,Vt=!window.PointerEvent&&window.MSPointerEvent,kn=!!(window.PointerEvent||Vt),ko="ontouchstart"in window||!!window.TouchEvent,Mn=!window.L_NO_TOUCH&&(ko||kn),Br=hs&&bn,me=hs&&wn,Dr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Nr=function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",R,n),window.removeEventListener("testPassiveEventSupport",R,n)}catch{}return e}(),Rr=function(){return!!document.createElement("canvas").getContext}(),Pn=!!(document.createElementNS&&yn("svg").createSVGRect),Cn=!!Pn&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Mo=!Pn&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var n=e.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),Zr=navigator.platform.indexOf("Mac")===0,Wr=navigator.platform.indexOf("Linux")===0;function Se(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var lt={ie:Ni,ielt9:rs,edge:vo,webkit:xn,android:qe,android23:yo,androidStock:Ir,opera:bn,chrome:xo,gecko:wn,safari:Ln,phantom:bo,opera12:wo,win:zr,ie3d:$e,webkit3d:as,gecko3d:ke,any3d:Rs,mobile:hs,mobileWebkit:fe,mobileWebkit3d:Lo,msPointer:Vt,pointer:kn,touch:Mn,touchNative:ko,mobileOpera:Br,mobileGecko:me,retina:Dr,passiveEvents:Nr,canvas:Rr,svg:Pn,vml:Mo,inlineSvg:Cn,mac:Zr,linux:Wr},se=lt.msPointer?"MSPointerDown":"pointerdown",Sn=lt.msPointer?"MSPointerMove":"pointermove",Po=lt.msPointer?"MSPointerUp":"pointerup",Co=lt.msPointer?"MSPointerCancel":"pointercancel",Tn={touchstart:se,touchmove:Sn,touchend:Po,touchcancel:Co},So={touchstart:Eo,touchmove:Et,touchend:Et,touchcancel:Et},xi={},To=!1;function Ao(e,n,l){return n==="touchstart"&&Fr(),So[n]?(l=So[n].bind(this,l),e.addEventListener(Tn[n],l,!1),l):(console.warn("wrong event specified:",n),R)}function Oo(e,n,l){if(!Tn[n]){console.warn("wrong event specified:",n);return}e.removeEventListener(Tn[n],l,!1)}function Hr(e){xi[e.pointerId]=e}function An(e){xi[e.pointerId]&&(xi[e.pointerId]=e)}function ls(e){delete xi[e.pointerId]}function Fr(){To||(document.addEventListener(se,Hr,!0),document.addEventListener(Sn,An,!0),document.addEventListener(Po,ls,!0),document.addEventListener(Co,ls,!0),To=!0)}function Et(e,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var l in xi)n.touches.push(xi[l]);n.changedTouches=[n],e(n)}}function Eo(e,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&zt(n),Et(e,n)}function Io(e){var n={},l,f;for(f in e)l=e[f],n[f]=l&&l.bind?l.bind(e):l;return e=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var Gr=200;function Xr(e,n){e.addEventListener("dblclick",n);var l=0,f;function _(M){if(M.detail!==1){f=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var A=Do(M);if(!(A.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!A.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var N=Date.now();N-l<=Gr?(f++,f===2&&n(Io(M))):f=1,l=N}}}return e.addEventListener("click",_),{dblclick:n,simDblclick:_}}function jr(e,n){e.removeEventListener("dblclick",n.dblclick),e.removeEventListener("click",n.simDblclick)}var On=wi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ri=wi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zo=Ri==="webkitTransition"||Ri==="OTransition"?Ri+"End":"transitionend";function Bo(e){return typeof e=="string"?document.getElementById(e):e}function ds(e,n){var l=e.style[n]||e.currentStyle&&e.currentStyle[n];if((!l||l==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(e,null);l=f?f[n]:null}return l==="auto"?null:l}function St(e,n,l){var f=document.createElement(e);return f.className=n||"",l&&l.appendChild(f),f}function Bt(e){var n=e.parentNode;n&&n.removeChild(e)}function cs(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function bi(e){var n=e.parentNode;n&&n.lastChild!==e&&n.appendChild(e)}function Ke(e){var n=e.parentNode;n&&n.firstChild!==e&&n.insertBefore(e,n.firstChild)}function Zs(e,n){if(e.classList!==void 0)return e.classList.contains(n);var l=Ws(e);return l.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(l)}function ut(e,n){if(e.classList!==void 0)for(var l=rt(n),f=0,_=l.length;f<_;f++)e.classList.add(l[f]);else if(!Zs(e,n)){var M=Ws(e);En(e,(M?M+" ":"")+n)}}function Zt(e,n){e.classList!==void 0?e.classList.remove(n):En(e,j((" "+Ws(e)+" ").replace(" "+n+" "," ")))}function En(e,n){e.className.baseVal===void 0?e.className=n:e.className.baseVal=n}function Ws(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Te(e,n){"opacity"in e.style?e.style.opacity=n:"filter"in e.style&&In(e,n)}function In(e,n){var l=!1,f="DXImageTransform.Microsoft.Alpha";try{l=e.filters.item(f)}catch{if(n===1)return}n=Math.round(n*100),l?(l.Enabled=n!==100,l.Opacity=n):e.style.filter+=" progid:"+f+"(opacity="+n+")"}function wi(e){for(var n=document.documentElement.style,l=0;l<e.length;l++)if(e[l]in n)return e[l];return!1}function Li(e,n,l){var f=n||new vt(0,0);e.style[On]=(lt.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(l?" scale("+l+")":"")}function Kt(e,n){e._leaflet_pos=n,lt.any3d?Li(e,n):(e.style.left=n.x+"px",e.style.top=n.y+"px")}function hi(e){return e._leaflet_pos||new vt(0,0)}var Zi,Ze,zn;if("onselectstart"in document)Zi=function(){gt(window,"selectstart",zt)},Ze=function(){It(window,"selectstart",zt)};else{var li=wi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Zi=function(){if(li){var e=document.documentElement.style;zn=e[li],e[li]="none"}},Ze=function(){li&&(document.documentElement.style[li]=zn,zn=void 0)}}function Bn(){gt(window,"dragstart",zt)}function Dn(){It(window,"dragstart",zt)}var Hs,us;function Nn(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(ki(),Hs=e,us=e.style.outlineStyle,e.style.outlineStyle="none",gt(window,"keydown",ki))}function ki(){Hs&&(Hs.style.outlineStyle=us,Hs=void 0,us=void 0,It(window,"keydown",ki))}function Rn(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Ae(e){var n=e.getBoundingClientRect();return{x:n.width/e.offsetWidth||1,y:n.height/e.offsetHeight||1,boundingClientRect:n}}var Ur={__proto__:null,TRANSFORM:On,TRANSITION:Ri,TRANSITION_END:zo,get:Bo,getStyle:ds,create:St,remove:Bt,empty:cs,toFront:bi,toBack:Ke,hasClass:Zs,addClass:ut,removeClass:Zt,setClass:En,getClass:Ws,setOpacity:Te,testProp:wi,setTransform:Li,setPosition:Kt,getPosition:hi,get disableTextSelection(){return Zi},get enableTextSelection(){return Ze},disableImageDrag:Bn,enableImageDrag:Dn,preventOutline:Nn,restoreOutline:ki,getSizedParentNode:Rn,getScale:Ae};function gt(e,n,l,f){if(n&&typeof n=="object")for(var _ in n)Wn(e,_,n[_],l);else{n=rt(n);for(var M=0,A=n.length;M<A;M++)Wn(e,n[M],l,f)}return this}var Oe="_leaflet_events";function It(e,n,l,f){if(arguments.length===1)Zn(e),delete e[Oe];else if(n&&typeof n=="object")for(var _ in n)Hn(e,_,n[_],l);else if(n=rt(n),arguments.length===2)Zn(e,function(N){return ze(n,N)!==-1});else for(var M=0,A=n.length;M<A;M++)Hn(e,n[M],l,f);return this}function Zn(e,n){for(var l in e[Oe]){var f=l.split(/\d/)[0];(!n||n(f))&&Hn(e,f,null,null,l)}}var Fs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Wn(e,n,l,f){var _=n+O(l)+(f?"_"+O(f):"");if(e[Oe]&&e[Oe][_])return this;var M=function(N){return l.call(f||e,N||window.event)},A=M;!lt.touchNative&&lt.pointer&&n.indexOf("touch")===0?M=Ao(e,n,M):lt.touch&&n==="dblclick"?M=Xr(e,M):"addEventListener"in e?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?e.addEventListener(Fs[n]||n,M,lt.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(M=function(N){N=N||window.event,qt(e,N)&&A(N)},e.addEventListener(Fs[n],M,!1)):e.addEventListener(n,A,!1):e.attachEvent("on"+n,M),e[Oe]=e[Oe]||{},e[Oe][_]=M}function Hn(e,n,l,f,_){_=_||n+O(l)+(f?"_"+O(f):"");var M=e[Oe]&&e[Oe][_];if(!M)return this;!lt.touchNative&&lt.pointer&&n.indexOf("touch")===0?Oo(e,n,M):lt.touch&&n==="dblclick"?jr(e,M):"removeEventListener"in e?e.removeEventListener(Fs[n]||n,M,!1):e.detachEvent("on"+n,M),e[Oe][_]=null}function di(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function ps(e){return Wn(e,"wheel",di),this}function We(e){return gt(e,"mousedown touchstart dblclick contextmenu",di),e._leaflet_disable_click=!0,this}function zt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function He(e){return zt(e),di(e),this}function Do(e){if(e.composedPath)return e.composedPath();for(var n=[],l=e.target;l;)n.push(l),l=l.parentNode;return n}function No(e,n){if(!n)return new vt(e.clientX,e.clientY);var l=Ae(n),f=l.boundingClientRect;return new vt((e.clientX-f.left)/l.x-n.clientLeft,(e.clientY-f.top)/l.y-n.clientTop)}var Yr=lt.linux&&lt.chrome?window.devicePixelRatio:lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Fn(e){return lt.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Yr:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function qt(e,n){var l=n.relatedTarget;if(!l)return!0;try{for(;l&&l!==e;)l=l.parentNode}catch{return!1}return l!==e}var Fe={__proto__:null,on:gt,off:It,stopPropagation:di,disableScrollPropagation:ps,disableClickPropagation:We,preventDefault:zt,stop:He,getPropagationPath:Do,getMousePosition:No,getWheelDelta:Fn,isExternalTarget:qt,addListener:gt,removeListener:It},Gn=Bi.extend({run:function(e,n,l,f){this.stop(),this._el=e,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=hi(e),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ee(this._animate,this),this._step()},_step:function(e){var n=+new Date-this._startTime,l=this._duration*1e3;n<l?this._runFrame(this._easeOut(n/l),e):(this._runFrame(1),this._complete())},_runFrame:function(e,n){var l=this._startPos.add(this._offset.multiplyBy(e));n&&l._round(),Kt(this._el,l),this.fire("step")},_complete:function(){Le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Pt=Bi.extend({options:{crs:Di,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,n){n=Q(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=C(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(kt(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ri&&lt.any3d&&!lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),gt(this._proxy,zo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,l){if(n=n===void 0?this._zoom:this._limitZoom(n),e=this._limitCenter(kt(e),n,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=V({animate:l.animate},l.zoom),l.pan=V({animate:l.animate,duration:l.duration},l.pan));var f=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,l.zoom):this._tryAnimatedPan(e,l.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(e,n,l.pan&&l.pan.noMoveStart),this},setZoom:function(e,n){return this._loaded?this.setView(this.getCenter(),e,{zoom:n}):(this._zoom=e,this)},zoomIn:function(e,n){return e=e||(lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,n)},zoomOut:function(e,n){return e=e||(lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,n)},setZoomAround:function(e,n,l){var f=this.getZoomScale(n),_=this.getSize().divideBy(2),M=e instanceof vt?e:this.latLngToContainerPoint(e),A=M.subtract(_).multiplyBy(1-1/f),N=this.containerPointToLatLng(_.add(A));return this.setView(N,n,{zoom:l})},_getBoundsCenterZoom:function(e,n){n=n||{},e=e.getBounds?e.getBounds():Ut(e);var l=_t(n.paddingTopLeft||n.padding||[0,0]),f=_t(n.paddingBottomRight||n.padding||[0,0]),_=this.getBoundsZoom(e,!1,l.add(f));if(_=typeof n.maxZoom=="number"?Math.min(n.maxZoom,_):_,_===1/0)return{center:e.getCenter(),zoom:_};var M=f.subtract(l).divideBy(2),A=this.project(e.getSouthWest(),_),N=this.project(e.getNorthEast(),_),H=this.unproject(A.add(N).divideBy(2).add(M),_);return{center:H,zoom:_}},fitBounds:function(e,n){if(e=Ut(e),!e.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(e,n);return this.setView(l.center,l.zoom,n)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,n){return this.setView(e,this._zoom,{pan:n})},panBy:function(e,n){if(e=_t(e).round(),n=n||{},!e.x&&!e.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Gn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){ut(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,l,n.duration||.25,n.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,n,l){if(l=l||{},l.animate===!1||!lt.any3d)return this.setView(e,n,l);this._stop();var f=this.project(this.getCenter()),_=this.project(e),M=this.getSize(),A=this._zoom;e=kt(e),n=n===void 0?A:n;var N=Math.max(M.x,M.y),H=N*this.getZoomScale(A,n),J=_.distanceTo(f)||1,it=1.42,pt=it*it;function wt(Jt){var Ss=Jt?-1:1,da=Jt?H:N,ca=H*H-N*N+Ss*pt*pt*J*J,rn=2*da*pt*J,oo=ca/rn,ro=Math.sqrt(oo*oo+1)-oo,ua=ro<1e-9?-18:Math.log(ro);return ua}function _e(Jt){return(Math.exp(Jt)-Math.exp(-Jt))/2}function ne(Jt){return(Math.exp(Jt)+Math.exp(-Jt))/2}function Ie(Jt){return _e(Jt)/ne(Jt)}var ve=wt(0);function Yi(Jt){return N*(ne(ve)/ne(ve+it*Jt))}function ha(Jt){return N*(ne(ve)*Ie(ve+it*Jt)-_e(ve))/pt}function ir(Jt){return 1-Math.pow(1-Jt,1.5)}var sr=Date.now(),Ne=(wt(1)-ve)/it,la=l.duration?1e3*l.duration:1e3*Ne*.8;function nr(){var Jt=(Date.now()-sr)/la,Ss=ir(Jt)*Ne;Jt<=1?(this._flyToFrame=ee(nr,this),this._move(this.unproject(f.add(_.subtract(f).multiplyBy(ha(Ss)/J)),A),this.getScaleZoom(N/Yi(Ss),A),{flyTo:!0})):this._move(e,n)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),nr.call(this),this},flyToBounds:function(e,n){var l=this._getBoundsCenterZoom(e,n);return this.flyTo(l.center,l.zoom,n)},setMaxBounds:function(e){return e=Ut(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var n=this.options.minZoom;return this.options.minZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var n=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,n){this._enforcingBounds=!0;var l=this.getCenter(),f=this._limitCenter(l,this._zoom,Ut(e));return l.equals(f)||this.panTo(f,n),this._enforcingBounds=!1,this},panInside:function(e,n){n=n||{};var l=_t(n.paddingTopLeft||n.padding||[0,0]),f=_t(n.paddingBottomRight||n.padding||[0,0]),_=this.project(this.getCenter()),M=this.project(e),A=this.getPixelBounds(),N=te([A.min.add(l),A.max.subtract(f)]),H=N.getSize();if(!N.contains(M)){this._enforcingBounds=!0;var J=M.subtract(N.getCenter()),it=N.extend(M).getSize().subtract(H);_.x+=J.x<0?-it.x:it.x,_.y+=J.y<0?-it.y:it.y,this.panTo(this.unproject(_),n),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=V({animate:!1,pan:!0},e===!0?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),f=n.divideBy(2).round(),_=l.divideBy(2).round(),M=f.subtract(_);return!M.x&&!M.y?this:(e.animate&&e.pan?this.panBy(M):(e.pan&&this._rawPanBy(M),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(C(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=V({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=C(this._handleGeolocationResponse,this),l=C(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,l,e):navigator.geolocation.getCurrentPosition(n,l,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var n=e.code,l=e.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var n=e.coords.latitude,l=e.coords.longitude,f=new At(n,l),_=f.toBounds(e.coords.accuracy*2),M=this._locateOptions;if(M.setView){var A=this.getBoundsZoom(_);this.setView(f,M.maxZoom?Math.min(A,M.maxZoom):A)}var N={latlng:f,bounds:_,timestamp:e.timestamp};for(var H in e.coords)typeof e.coords[H]=="number"&&(N[H]=e.coords[H]);this.fire("locationfound",N)}},addHandler:function(e,n){if(!n)return this;var l=this[e]=new n(this);return this._handlers.push(l),this.options[e]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Bt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,n){var l="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),f=St("div",l,n||this._mapPane);return e&&(this._panes[e]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),n=this.unproject(e.getBottomLeft()),l=this.unproject(e.getTopRight());return new ie(n,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,n,l){e=Ut(e),l=_t(l||[0,0]);var f=this.getZoom()||0,_=this.getMinZoom(),M=this.getMaxZoom(),A=e.getNorthWest(),N=e.getSouthEast(),H=this.getSize().subtract(l),J=te(this.project(N,f),this.project(A,f)).getSize(),it=lt.any3d?this.options.zoomSnap:1,pt=H.x/J.x,wt=H.y/J.y,_e=n?Math.max(pt,wt):Math.min(pt,wt);return f=this.getScaleZoom(_e,f),it&&(f=Math.round(f/(it/100))*(it/100),f=n?Math.ceil(f/it)*it:Math.floor(f/it)*it),Math.max(_,Math.min(M,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new vt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,n){var l=this._getTopLeftPoint(e,n);return new Ht(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,n){var l=this.options.crs;return n=n===void 0?this._zoom:n,l.scale(e)/l.scale(n)},getScaleZoom:function(e,n){var l=this.options.crs;n=n===void 0?this._zoom:n;var f=l.zoom(e*l.scale(n));return isNaN(f)?1/0:f},project:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(kt(e),n)},unproject:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(_t(e),n)},layerPointToLatLng:function(e){var n=_t(e).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(e){var n=this.project(kt(e))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(kt(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(Ut(e))},distance:function(e,n){return this.options.crs.distance(kt(e),kt(n))},containerPointToLayerPoint:function(e){return _t(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return _t(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var n=this.containerPointToLayerPoint(_t(e));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(kt(e)))},mouseEventToContainerPoint:function(e){return No(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var n=this._container=Bo(e);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");gt(n,"scroll",this._onScroll,this),this._containerId=O(n)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&lt.any3d,ut(e,"leaflet-container"+(lt.touch?" leaflet-touch":"")+(lt.retina?" leaflet-retina":"")+(lt.ielt9?" leaflet-oldie":"")+(lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=ds(e,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Kt(this._mapPane,new vt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(e.markerPane,"leaflet-zoom-hide"),ut(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,n,l){Kt(this._mapPane,new vt(0,0));var f=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var _=this._zoom!==n;this._moveStart(_,l)._move(e,n)._moveEnd(_),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(e,n){return e&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(e,n,l,f){n===void 0&&(n=this._zoom);var _=this._zoom!==n;return this._zoom=n,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),f?l&&l.pinch&&this.fire("zoom",l):((_||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Kt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[O(this._container)]=this;var n=e?It:gt;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),lt.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Le(this._resizeRequest),this._resizeRequest=ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,n){for(var l=[],f,_=n==="mouseout"||n==="mouseover",M=e.target||e.srcElement,A=!1;M;){if(f=this._targets[O(M)],f&&(n==="click"||n==="preclick")&&this._draggableMoved(f)){A=!0;break}if(f&&f.listens(n,!0)&&(_&&!qt(M,e)||(l.push(f),_))||M===this._container)break;M=M.parentNode}return!l.length&&!A&&!_&&this.listens(n,!0)&&(l=[this]),l},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var n=e.target||e.srcElement;if(!(!this._loaded||n._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(n))){var l=e.type;l==="mousedown"&&Nn(n),this._fireDOMEvent(e,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,l){if(e.type==="click"){var f=V({},e);f.type="preclick",this._fireDOMEvent(f,f.type,l)}var _=this._findEventTargets(e,n);if(l){for(var M=[],A=0;A<l.length;A++)l[A].listens(n,!0)&&M.push(l[A]);_=M.concat(_)}if(_.length){n==="contextmenu"&&zt(e);var N=_[0],H={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var J=N.getLatLng&&(!N._radius||N._radius<=10);H.containerPoint=J?this.latLngToContainerPoint(N.getLatLng()):this.mouseEventToContainerPoint(e),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=J?N.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(A=0;A<_.length;A++)if(_[A].fire(n,H,!0),H.originalEvent._stopped||_[A].options.bubblingMouseEvents===!1&&ze(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,n=this._handlers.length;e<n;e++)this._handlers[e].disable()},whenReady:function(e,n){return this._loaded?e.call(n||this,{target:this}):this.on("load",e,n),this},_getMapPanePos:function(){return hi(this._mapPane)||new vt(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,n){var l=e&&n!==void 0?this._getNewPixelOrigin(e,n):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,n){var l=this.getSize()._divideBy(2);return this.project(e,n)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,n,l){var f=this._getNewPixelOrigin(l,n);return this.project(e,n)._subtract(f)},_latLngBoundsToNewLayerBounds:function(e,n,l){var f=this._getNewPixelOrigin(l,n);return te([this.project(e.getSouthWest(),n)._subtract(f),this.project(e.getNorthWest(),n)._subtract(f),this.project(e.getSouthEast(),n)._subtract(f),this.project(e.getNorthEast(),n)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,n,l){if(!l)return e;var f=this.project(e,n),_=this.getSize().divideBy(2),M=new Ht(f.subtract(_),f.add(_)),A=this._getBoundsOffset(M,l,n);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?e:this.unproject(f.add(A),n)},_limitOffset:function(e,n){if(!n)return e;var l=this.getPixelBounds(),f=new Ht(l.min.add(e),l.max.add(e));return e.add(this._getBoundsOffset(f,n))},_getBoundsOffset:function(e,n,l){var f=te(this.project(n.getNorthEast(),l),this.project(n.getSouthWest(),l)),_=f.min.subtract(e.min),M=f.max.subtract(e.max),A=this._rebound(_.x,-M.x),N=this._rebound(_.y,-M.y);return new vt(A,N)},_rebound:function(e,n){return e+n>0?Math.round(e-n)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(n))},_limitZoom:function(e){var n=this.getMinZoom(),l=this.getMaxZoom(),f=lt.any3d?this.options.zoomSnap:1;return f&&(e=Math.round(e/f)*f),Math.max(n,Math.min(l,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Zt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,n){var l=this._getCenterOffset(e)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,n),!0)},_createAnimProxy:function(){var e=this._proxy=St("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(n){var l=On,f=this._proxy.style[l];Li(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),f===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),n=this.getZoom();Li(this._proxy,this.project(e,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,n,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(n),_=this._getCenterOffset(e)._divideBy(1-1/f);return l.animate!==!0&&!this.getSize().contains(_)?!1:(ee(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(e,n,!0)},this),!0)},_animateZoom:function(e,n,l,f){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=n,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:n,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(C(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Zt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ro(e,n){return new Pt(e,n)}var ge=Ce.extend({options:{position:"topright"},initialize:function(e){Q(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var n=this._map;return n&&n.removeControl(this),this.options.position=e,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var n=this._container=this.onAdd(e),l=this.getPosition(),f=e._controlCorners[l];return ut(n,"leaflet-control"),l.indexOf("bottom")!==-1?f.insertBefore(n,f.firstChild):f.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),fs=function(e){return new ge(e)};Pt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",l=this._controlContainer=St("div",n+"control-container",this._container);function f(_,M){var A=n+_+" "+n+M;e[_+M]=St("div",A,l)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Bt(this._controlCorners[e]);Bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ms=ge.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,n,l,f){return l<f?-1:f<l?1:0}},initialize:function(e,n,l){Q(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in e)this._addLayer(e[f],f);for(f in n)this._addLayer(n[f],f,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return ge.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,n){return this._addLayer(e,n),this._map?this._update():this},addOverlay:function(e,n){return this._addLayer(e,n,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var n=this._getLayer(O(e));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Zt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Zt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",n=this._container=St("div",e),l=this.options.collapsed;n.setAttribute("aria-haspopup",!0),We(n),ps(n);var f=this._section=St("section",e+"-list");l&&(this._map.on("click",this.collapse,this),gt(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=St("a",e+"-toggle",n);_.href="#",_.title="Layers",_.setAttribute("role","button"),gt(_,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){zt(M),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=St("div",e+"-base",f),this._separator=St("div",e+"-separator",f),this._overlaysList=St("div",e+"-overlays",f),n.appendChild(f)},_getLayer:function(e){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&O(this._layers[n].layer)===e)return this._layers[n]},_addLayer:function(e,n,l){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:n,overlay:l}),this.options.sortLayers&&this._layers.sort(C(function(f,_){return this.options.sortFunction(f.layer,_.layer,f.name,_.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cs(this._baseLayersList),cs(this._overlaysList),this._layerControlInputs=[];var e,n,l,f,_=0;for(l=0;l<this._layers.length;l++)f=this._layers[l],this._addItem(f),n=n||f.overlay,e=e||!f.overlay,_+=f.overlay?0:1;return this.options.hideSingleBase&&(e=e&&_>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=n&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var n=this._getLayer(O(e.target)),l=n.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;l&&this._map.fire(l,n)},_createRadioElement:function(e,n){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(n?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=l,f.firstChild},_addItem:function(e){var n=document.createElement("label"),l=this._map.hasLayer(e.layer),f;e.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=l):f=this._createRadioElement("leaflet-base-layers_"+O(this),l),this._layerControlInputs.push(f),f.layerId=O(e.layer),gt(f,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+e.name;var M=document.createElement("span");n.appendChild(M),M.appendChild(f),M.appendChild(_);var A=e.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,n,l,f=[],_=[];this._handlingClick=!0;for(var M=e.length-1;M>=0;M--)n=e[M],l=this._getLayer(n.layerId).layer,n.checked?f.push(l):n.checked||_.push(l);for(M=0;M<_.length;M++)this._map.hasLayer(_[M])&&this._map.removeLayer(_[M]);for(M=0;M<f.length;M++)this._map.hasLayer(f[M])||this._map.addLayer(f[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,n,l,f=this._map.getZoom(),_=e.length-1;_>=0;_--)n=e[_],l=this._getLayer(n.layerId).layer,n.disabled=l.options.minZoom!==void 0&&f<l.options.minZoom||l.options.maxZoom!==void 0&&f>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,gt(e,"click",zt),this.expand();var n=this;setTimeout(function(){It(e,"click",zt),n._preventClick=!1})}}),Zo=function(e,n,l){return new ms(e,n,l)},Je=ge.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var n="leaflet-control-zoom",l=St("div",n+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,n+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,n+"-out",l,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,n,l,f,_){var M=St("a",l,f);return M.innerHTML=e,M.href="#",M.title=n,M.setAttribute("role","button"),M.setAttribute("aria-label",n),We(M),gt(M,"click",He),gt(M,"click",_,this),gt(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var e=this._map,n="leaflet-disabled";Zt(this._zoomInButton,n),Zt(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(ut(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(ut(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});Pt.mergeOptions({zoomControl:!0}),Pt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Je,this.addControl(this.zoomControl))});var Wo=function(e){return new Je(e)},Ho=ge.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var n="leaflet-control-scale",l=St("div",n),f=this.options;return this._addScales(f,n+"-line",l),e.on(f.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),l},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,n,l){e.metric&&(this._mScale=St("div",n,l)),e.imperial&&(this._iScale=St("div",n,l))},_update:function(){var e=this._map,n=e.getSize().y/2,l=e.distance(e.containerPointToLatLng([0,n]),e.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(l)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var n=this._getRoundNum(e),l=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,l,n/e)},_updateImperial:function(e){var n=e*3.2808399,l,f,_;n>5280?(l=n/5280,f=this._getRoundNum(l),this._updateScale(this._iScale,f+" mi",f/l)):(_=this._getRoundNum(n),this._updateScale(this._iScale,_+" ft",_/n))},_updateScale:function(e,n,l){e.style.width=Math.round(this.options.maxWidth*l)+"px",e.innerHTML=n},_getRoundNum:function(e){var n=Math.pow(10,(Math.floor(e)+"").length-1),l=e/n;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,n*l}}),gs=function(e){return new Ho(e)},Fo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Gs=ge.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(lt.inlineSvg?Fo+" ":"")+"Leaflet</a>"},initialize:function(e){Q(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=St("div","leaflet-control-attribution"),We(this._container);for(var n in e._layers)e._layers[n].getAttribution&&this.addAttribution(e._layers[n].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var n in this._attributions)this._attributions[n]&&e.push(n);var l=[];this.options.prefix&&l.push(this.options.prefix),e.length&&l.push(e.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});Pt.mergeOptions({attributionControl:!0}),Pt.addInitHook(function(){this.options.attributionControl&&new Gs().addTo(this)});var Xn=function(e){return new Gs(e)};ge.Layers=ms,ge.Zoom=Je,ge.Scale=Ho,ge.Attribution=Gs,fs.layers=Zo,fs.zoom=Wo,fs.scale=gs,fs.attribution=Xn;var Be=Ce.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Be.addTo=function(e,n){return e.addHandler(n,this),this};var jn={Events:pe},Go=lt.touch?"touchstart mousedown":"mousedown",Qe=Bi.extend({options:{clickTolerance:3},initialize:function(e,n,l,f){Q(this,f),this._element=e,this._dragStartTarget=n||e,this._preventOutline=l},enable:function(){this._enabled||(gt(this._dragStartTarget,Go,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Qe._dragging===this&&this.finishDrag(!0),It(this._dragStartTarget,Go,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Zs(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Qe._dragging===this&&this.finishDrag();return}if(!(Qe._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Qe._dragging=this,this._preventOutline&&Nn(this._element),Bn(),Zi(),!this._moving)){this.fire("down");var n=e.touches?e.touches[0]:e,l=Rn(this._element);this._startPoint=new vt(n.clientX,n.clientY),this._startPos=hi(this._element),this._parentScale=Ae(l);var f=e.type==="mousedown";gt(document,f?"mousemove":"touchmove",this._onMove,this),gt(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var n=e.touches&&e.touches.length===1?e.touches[0]:e,l=new vt(n.clientX,n.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,zt(e),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Kt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){Zt(document.body,"leaflet-dragging"),this._lastTarget&&(Zt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),It(document,"mousemove touchmove",this._onMove,this),It(document,"mouseup touchend touchcancel",this._onUp,this),Dn(),Ze();var n=this._moved&&this._moving;this._moving=!1,Qe._dragging=!1,n&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Xs(e,n,l){var f,_=[1,4,2,8],M,A,N,H,J,it,pt,wt;for(M=0,it=e.length;M<it;M++)e[M]._code=ci(e[M],n);for(N=0;N<4;N++){for(pt=_[N],f=[],M=0,it=e.length,A=it-1;M<it;A=M++)H=e[M],J=e[A],H._code&pt?J._code&pt||(wt=_s(J,H,pt,n,l),wt._code=ci(wt,n),f.push(wt)):(J._code&pt&&(wt=_s(J,H,pt,n,l),wt._code=ci(wt,n),f.push(wt)),f.push(H));e=f}return e}function Xo(e,n){var l,f,_,M,A,N,H,J,it;if(!e||e.length===0)throw new Error("latlngs not passed");Ee(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var pt=kt([0,0]),wt=Ut(e),_e=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());_e<1700&&(pt=Un(e));var ne=e.length,Ie=[];for(l=0;l<ne;l++){var ve=kt(e[l]);Ie.push(n.project(kt([ve.lat-pt.lat,ve.lng-pt.lng])))}for(N=H=J=0,l=0,f=ne-1;l<ne;f=l++)_=Ie[l],M=Ie[f],A=_.y*M.x-M.y*_.x,H+=(_.x+M.x)*A,J+=(_.y+M.y)*A,N+=A*3;N===0?it=Ie[0]:it=[H/N,J/N];var Yi=n.unproject(_t(it));return kt([Yi.lat+pt.lat,Yi.lng+pt.lng])}function Un(e){for(var n=0,l=0,f=0,_=0;_<e.length;_++){var M=kt(e[_]);n+=M.lat,l+=M.lng,f++}return kt([n/f,l/f])}var Vr={__proto__:null,clipPolygon:Xs,polygonCenter:Xo,centroid:Un};function jo(e,n){if(!n||!e.length)return e.slice();var l=n*n;return e=$r(e,l),e=qr(e,l),e}function Uo(e,n,l){return Math.sqrt(vs(e,n,l,!0))}function Yn(e,n,l){return vs(e,n,l)}function qr(e,n){var l=e.length,f=typeof Uint8Array<"u"?Uint8Array:Array,_=new f(l);_[0]=_[l-1]=1,Vn(e,_,n,0,l-1);var M,A=[];for(M=0;M<l;M++)_[M]&&A.push(e[M]);return A}function Vn(e,n,l,f,_){var M=0,A,N,H;for(N=f+1;N<=_-1;N++)H=vs(e[N],e[f],e[_],!0),H>M&&(A=N,M=H);M>l&&(n[A]=1,Vn(e,n,l,f,A),Vn(e,n,l,A,_))}function $r(e,n){for(var l=[e[0]],f=1,_=0,M=e.length;f<M;f++)Kr(e[f],e[_])>n&&(l.push(e[f]),_=f);return _<M-1&&l.push(e[M-1]),l}var qn;function Mi(e,n,l,f,_){var M=f?qn:ci(e,l),A=ci(n,l),N,H,J;for(qn=A;;){if(!(M|A))return[e,n];if(M&A)return!1;N=M||A,H=_s(e,n,N,l,_),J=ci(H,l),N===M?(e=H,M=J):(n=H,A=J)}}function _s(e,n,l,f,_){var M=n.x-e.x,A=n.y-e.y,N=f.min,H=f.max,J,it;return l&8?(J=e.x+M*(H.y-e.y)/A,it=H.y):l&4?(J=e.x+M*(N.y-e.y)/A,it=N.y):l&2?(J=H.x,it=e.y+A*(H.x-e.x)/M):l&1&&(J=N.x,it=e.y+A*(N.x-e.x)/M),new vt(J,it,_)}function ci(e,n){var l=0;return e.x<n.min.x?l|=1:e.x>n.max.x&&(l|=2),e.y<n.min.y?l|=4:e.y>n.max.y&&(l|=8),l}function Kr(e,n){var l=n.x-e.x,f=n.y-e.y;return l*l+f*f}function vs(e,n,l,f){var _=n.x,M=n.y,A=l.x-_,N=l.y-M,H=A*A+N*N,J;return H>0&&(J=((e.x-_)*A+(e.y-M)*N)/H,J>1?(_=l.x,M=l.y):J>0&&(_+=A*J,M+=N*J)),A=e.x-_,N=e.y-M,f?A*A+N*N:new vt(_,M)}function Ee(e){return!Rt(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Wi(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ee(e)}function js(e,n){var l,f,_,M,A,N,H,J;if(!e||e.length===0)throw new Error("latlngs not passed");Ee(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var it=kt([0,0]),pt=Ut(e),wt=pt.getNorthWest().distanceTo(pt.getSouthWest())*pt.getNorthEast().distanceTo(pt.getNorthWest());wt<1700&&(it=Un(e));var _e=e.length,ne=[];for(l=0;l<_e;l++){var Ie=kt(e[l]);ne.push(n.project(kt([Ie.lat-it.lat,Ie.lng-it.lng])))}for(l=0,f=0;l<_e-1;l++)f+=ne[l].distanceTo(ne[l+1])/2;if(f===0)J=ne[0];else for(l=0,M=0;l<_e-1;l++)if(A=ne[l],N=ne[l+1],_=A.distanceTo(N),M+=_,M>f){H=(M-f)/_,J=[N.x-H*(N.x-A.x),N.y-H*(N.y-A.y)];break}var ve=n.unproject(_t(J));return kt([ve.lat+it.lat,ve.lng+it.lng])}var Us={__proto__:null,simplify:jo,pointToSegmentDistance:Uo,closestPointOnSegment:Yn,clipSegment:Mi,_getEdgeIntersection:_s,_getBitCode:ci,_sqClosestPointOnSegment:vs,isFlat:Ee,_flat:Wi,polylineCenter:js},Hi={project:function(e){return new vt(e.lng,e.lat)},unproject:function(e){return new At(e.y,e.x)},bounds:new Ht([-180,-90],[180,90])},$n={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ht([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var n=Math.PI/180,l=this.R,f=e.lat*n,_=this.R_MINOR/l,M=Math.sqrt(1-_*_),A=M*Math.sin(f),N=Math.tan(Math.PI/4-f/2)/Math.pow((1-A)/(1+A),M/2);return f=-l*Math.log(Math.max(N,1e-10)),new vt(e.lng*n*l,f)},unproject:function(e){for(var n=180/Math.PI,l=this.R,f=this.R_MINOR/l,_=Math.sqrt(1-f*f),M=Math.exp(-e.y/l),A=Math.PI/2-2*Math.atan(M),N=0,H=.1,J;N<15&&Math.abs(H)>1e-7;N++)J=_*Math.sin(A),J=Math.pow((1-J)/(1+J),_/2),H=Math.PI/2-2*Math.atan(M*J)-A,A+=H;return new At(A*n,e.x*n/l)}},Yo={__proto__:null,LonLat:Hi,Mercator:$n,SphericalMercator:Bs},Ys=V({},be,{code:"EPSG:3395",projection:$n,transformation:function(){var e=.5/(Math.PI*$n.R);return ht(e,.5,-e,.5)}()}),ui=V({},be,{code:"EPSG:4326",projection:Hi,transformation:ht(1/180,1,-1/180,.5)}),Jr=V({},Ve,{projection:Hi,transformation:ht(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,n){var l=n.lng-e.lng,f=n.lat-e.lat;return Math.sqrt(l*l+f*f)},infinite:!0});Ve.Earth=be,Ve.EPSG3395=Ys,Ve.EPSG3857=Di,Ve.EPSG900913=Ds,Ve.EPSG4326=ui,Ve.Simple=Jr;var he=Bi.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[O(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[O(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var n=e.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var l=this.getEvents();n.on(l,this),this.once("remove",function(){n.off(l,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});Pt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var n=O(e);return this._layers[n]?this:(this._layers[n]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var n=O(e);return this._layers[n]?(this._loaded&&e.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return O(e)in this._layers},eachLayer:function(e,n){for(var l in this._layers)e.call(n,this._layers[l]);return this},_addLayers:function(e){e=e?Rt(e)?e:[e]:[];for(var n=0,l=e.length;n<l;n++)this.addLayer(e[n])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[O(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var n=O(e);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,n=-1/0,l=this._getZoomSpan();for(var f in this._zoomBoundLayers){var _=this._zoomBoundLayers[f].options;e=_.minZoom===void 0?e:Math.min(e,_.minZoom),n=_.maxZoom===void 0?n:Math.max(n,_.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=e===1/0?void 0:e,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fi=he.extend({initialize:function(e,n){Q(this,n),this._layers={};var l,f;if(e)for(l=0,f=e.length;l<f;l++)this.addLayer(e[l])},addLayer:function(e){var n=this.getLayerId(e);return this._layers[n]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var n=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(e){var n=typeof e=="number"?e:this.getLayerId(e);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var n=Array.prototype.slice.call(arguments,1),l,f;for(l in this._layers)f=this._layers[l],f[e]&&f[e].apply(f,n);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,n){for(var l in this._layers)e.call(n,this._layers[l]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return O(e)}}),ys=function(e,n){return new Fi(e,n)},Me=Fi.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Fi.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Fi.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new ie;for(var n in this._layers){var l=this._layers[n];e.extend(l.getBounds?l.getBounds():l.getLatLng())}return e}}),Qr=function(e,n){return new Me(e,n)},pi=Ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){Q(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,n){var l=this._getIconUrl(e);if(!l){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(l,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(f,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(e,n){var l=this.options,f=l[n+"Size"];typeof f=="number"&&(f=[f,f]);var _=_t(f),M=_t(n==="shadow"&&l.shadowAnchor||l.iconAnchor||_&&_.divideBy(2,!0));e.className="leaflet-marker-"+n+" "+(l.className||""),M&&(e.style.marginLeft=-M.x+"px",e.style.marginTop=-M.y+"px"),_&&(e.style.width=_.x+"px",e.style.height=_.y+"px")},_createImg:function(e,n){return n=n||document.createElement("img"),n.src=e,n},_getIconUrl:function(e){return lt.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Kn(e){return new pi(e)}var xs=pi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof xs.imagePath!="string"&&(xs.imagePath=this._detectIconPath()),(this.options.imagePath||xs.imagePath)+pi.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var n=function(l,f,_){var M=f.exec(l);return M&&M[_]};return e=n(e,/^url\((['"])?(.+)\1\)$/,2),e&&n(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=St("div","leaflet-default-icon-path",document.body),n=ds(e,"background-image")||ds(e,"backgroundImage");if(document.body.removeChild(e),n=this._stripUrl(n),n)return n;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Vo=Be.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Qe(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Zt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var n=this._marker,l=n._map,f=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,M=hi(n._icon),A=l.getPixelBounds(),N=l.getPixelOrigin(),H=te(A.min._subtract(N).add(_),A.max._subtract(N).subtract(_));if(!H.contains(M)){var J=_t((Math.max(H.max.x,M.x)-H.max.x)/(A.max.x-H.max.x)-(Math.min(H.min.x,M.x)-H.min.x)/(A.min.x-H.min.x),(Math.max(H.max.y,M.y)-H.max.y)/(A.max.y-H.max.y)-(Math.min(H.min.y,M.y)-H.min.y)/(A.min.y-H.min.y)).multiplyBy(f);l.panBy(J,{animate:!1}),this._draggable._newPos._add(J),this._draggable._startPos._add(J),Kt(n._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ee(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(Le(this._panRequest),this._panRequest=ee(this._adjustPan.bind(this,e)))},_onDrag:function(e){var n=this._marker,l=n._shadow,f=hi(n._icon),_=n._map.layerPointToLatLng(f);l&&Kt(l,f),n._latlng=_,e.latlng=_,e.oldLatLng=this._oldLatLng,n.fire("move",e).fire("drag",e)},_onDragEnd:function(e){Le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Vs=he.extend({options:{icon:new xs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,n){Q(this,n),this._latlng=kt(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var n=this._latlng;return this._latlng=kt(e),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=e.icon.createIcon(this._icon),f=!1;l!==this._icon&&(this._icon&&this._removeIcon(),f=!0,e.title&&(l.title=e.title),l.tagName==="IMG"&&(l.alt=e.alt||"")),ut(l,n),e.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&gt(l,"focus",this._panOnFocus,this);var _=e.icon.createShadow(this._shadow),M=!1;_!==this._shadow&&(this._removeShadow(),M=!0),_&&(ut(_,n),_.alt=""),this._shadow=_,e.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&M&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(this._icon,"focus",this._panOnFocus,this),Bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Bt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Kt(this._icon,e),this._shadow&&Kt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Vo)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Vo(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Te(this._icon,e),this._shadow&&Te(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var n=this.options.icon.options,l=n.iconSize?_t(n.iconSize):_t(0,0),f=n.iconAnchor?_t(n.iconAnchor):_t(0,0);e.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:l.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qs(e,n){return new Vs(e,n)}var fi=he.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return Q(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),$s=fi.extend({options:{fill:!0,radius:10},initialize:function(e,n){Q(this,n),this._latlng=kt(e),this._radius=this.options.radius},setLatLng:function(e){var n=this._latlng;return this._latlng=kt(e),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var n=e&&e.radius||this._radius;return fi.prototype.setStyle.call(this,e),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,n=this._radiusY||e,l=this._clickTolerance(),f=[e+l,n+l];this._pxBounds=new Ht(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gi(e,n){return new $s(e,n)}var Jn=$s.extend({initialize:function(e,n,l){if(typeof n=="number"&&(n=V({},l,{radius:n})),Q(this,n),this._latlng=kt(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:fi.prototype.setStyle,_project:function(){var e=this._latlng.lng,n=this._latlng.lat,l=this._map,f=l.options.crs;if(f.distance===be.distance){var _=Math.PI/180,M=this._mRadius/be.R/_,A=l.project([n+M,e]),N=l.project([n-M,e]),H=A.add(N).divideBy(2),J=l.unproject(H).lat,it=Math.acos((Math.cos(M*_)-Math.sin(n*_)*Math.sin(J*_))/(Math.cos(n*_)*Math.cos(J*_)))/_;(isNaN(it)||it===0)&&(it=M/Math.cos(Math.PI/180*n)),this._point=H.subtract(l.getPixelOrigin()),this._radius=isNaN(it)?0:H.x-l.project([J,e-it]).x,this._radiusY=H.y-A.y}else{var pt=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(pt).x}this._updateBounds()}});function qo(e,n,l){return new Jn(e,n,l)}var ti=fi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,n){Q(this,n),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var n=1/0,l=null,f=vs,_,M,A=0,N=this._parts.length;A<N;A++)for(var H=this._parts[A],J=1,it=H.length;J<it;J++){_=H[J-1],M=H[J];var pt=f(e,_,M,!0);pt<n&&(n=pt,l=f(e,_,M))}return l&&(l.distance=Math.sqrt(n)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return js(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,n){return n=n||this._defaultShape(),e=kt(e),n.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new ie,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ee(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var n=[],l=Ee(e),f=0,_=e.length;f<_;f++)l?(n[f]=kt(e[f]),this._bounds.extend(n[f])):n[f]=this._convertLatLngs(e[f]);return n},_project:function(){var e=new Ht;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),n=new vt(e,e);this._rawPxBounds&&(this._pxBounds=new Ht([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(e,n,l){var f=e[0]instanceof At,_=e.length,M,A;if(f){for(A=[],M=0;M<_;M++)A[M]=this._map.latLngToLayerPoint(e[M]),l.extend(A[M]);n.push(A)}else for(M=0;M<_;M++)this._projectLatlngs(e[M],n,l)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,l,f,_,M,A,N,H;for(l=0,_=0,M=this._rings.length;l<M;l++)for(H=this._rings[l],f=0,A=H.length;f<A-1;f++)N=Mi(H[f],H[f+1],e,f,!0),N&&(n[_]=n[_]||[],n[_].push(N[0]),(N[1]!==H[f+1]||f===A-2)&&(n[_].push(N[1]),_++))}},_simplifyPoints:function(){for(var e=this._parts,n=this.options.smoothFactor,l=0,f=e.length;l<f;l++)e[l]=jo(e[l],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,n){var l,f,_,M,A,N,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(l=0,M=this._parts.length;l<M;l++)for(N=this._parts[l],f=0,A=N.length,_=A-1;f<A;_=f++)if(!(!n&&f===0)&&Uo(e,N[_],N[f])<=H)return!0;return!1}});function ta(e,n){return new ti(e,n)}ti._flat=Wi;var Xi=ti.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var n=ti.prototype._convertLatLngs.call(this,e),l=n.length;return l>=2&&n[0]instanceof At&&n[0].equals(n[l-1])&&n.pop(),n},_setLatLngs:function(e){ti.prototype._setLatLngs.call(this,e),Ee(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ee(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,n=this.options.weight,l=new vt(n,n);if(e=new Ht(e.min.subtract(l),e.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,_=this._rings.length,M;f<_;f++)M=Xs(this._rings[f],e,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var n=!1,l,f,_,M,A,N,H,J;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(M=0,H=this._parts.length;M<H;M++)for(l=this._parts[M],A=0,J=l.length,N=J-1;A<J;N=A++)f=l[A],_=l[N],f.y>e.y!=_.y>e.y&&e.x<(_.x-f.x)*(e.y-f.y)/(_.y-f.y)+f.x&&(n=!n);return n||ti.prototype._containsPoint.call(this,e,!0)}});function ea(e,n){return new Xi(e,n)}var ei=Me.extend({initialize:function(e,n){Q(this,n),this._layers={},e&&this.addData(e)},addData:function(e){var n=Rt(e)?e:e.features,l,f,_;if(n){for(l=0,f=n.length;l<f;l++)_=n[l],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var M=this.options;if(M.filter&&!M.filter(e))return this;var A=bs(e,M);return A?(A.feature=Js(e),A.defaultOptions=A.options,this.resetStyle(A),M.onEachFeature&&M.onEachFeature(e,A),this.addLayer(A)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=V({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(n){this._setLayerStyle(n,e)},this)},_setLayerStyle:function(e,n){e.setStyle&&(typeof n=="function"&&(n=n(e.feature)),e.setStyle(n))}});function bs(e,n){var l=e.type==="Feature"?e.geometry:e,f=l?l.coordinates:null,_=[],M=n&&n.pointToLayer,A=n&&n.coordsToLatLng||Pi,N,H,J,it;if(!f&&!l)return null;switch(l.type){case"Point":return N=A(f),$o(M,e,N,n);case"MultiPoint":for(J=0,it=f.length;J<it;J++)N=A(f[J]),_.push($o(M,e,N,n));return new Me(_);case"LineString":case"MultiLineString":return H=Ge(f,l.type==="LineString"?0:1,A),new ti(H,n);case"Polygon":case"MultiPolygon":return H=Ge(f,l.type==="Polygon"?1:2,A),new Xi(H,n);case"GeometryCollection":for(J=0,it=l.geometries.length;J<it;J++){var pt=bs({geometry:l.geometries[J],type:"Feature",properties:e.properties},n);pt&&_.push(pt)}return new Me(_);case"FeatureCollection":for(J=0,it=l.features.length;J<it;J++){var wt=bs(l.features[J],n);wt&&_.push(wt)}return new Me(_);default:throw new Error("Invalid GeoJSON object.")}}function $o(e,n,l,f){return e?e(n,l):new Vs(l,f&&f.markersInheritOptions&&f)}function Pi(e){return new At(e[1],e[0],e[2])}function Ge(e,n,l){for(var f=[],_=0,M=e.length,A;_<M;_++)A=n?Ge(e[_],n-1,l):(l||Pi)(e[_]),f.push(A);return f}function Qn(e,n){return e=kt(e),e.alt!==void 0?[q(e.lng,n),q(e.lat,n),q(e.alt,n)]:[q(e.lng,n),q(e.lat,n)]}function Ks(e,n,l,f){for(var _=[],M=0,A=e.length;M<A;M++)_.push(n?Ks(e[M],Ee(e[M])?0:n-1,l,f):Qn(e[M],f));return!n&&l&&_.length>0&&_.push(_[0].slice()),_}function ji(e,n){return e.feature?V({},e.feature,{geometry:n}):Js(n)}function Js(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var to={toGeoJSON:function(e){return ji(this,{type:"Point",coordinates:Qn(this.getLatLng(),e)})}};Vs.include(to),Jn.include(to),$s.include(to),ti.include({toGeoJSON:function(e){var n=!Ee(this._latlngs),l=Ks(this._latlngs,n?1:0,!1,e);return ji(this,{type:(n?"Multi":"")+"LineString",coordinates:l})}}),Xi.include({toGeoJSON:function(e){var n=!Ee(this._latlngs),l=n&&!Ee(this._latlngs[0]),f=Ks(this._latlngs,l?2:n?1:0,!0,e);return n||(f=[f]),ji(this,{type:(l?"Multi":"")+"Polygon",coordinates:f})}}),Fi.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(l){n.push(l.toGeoJSON(e).geometry.coordinates)}),ji(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(e){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(e);var l=n==="GeometryCollection",f=[];return this.eachLayer(function(_){if(_.toGeoJSON){var M=_.toGeoJSON(e);if(l)f.push(M.geometry);else{var A=Js(M);A.type==="FeatureCollection"?f.push.apply(f,A.features):f.push(A)}}}),l?ji(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function ws(e,n){return new ei(e,n)}var eo=ws,Qs=he.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,n,l){this._url=e,this._bounds=Ut(n),Q(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&bi(this._image),this},bringToBack:function(){return this._map&&Ke(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=Ut(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",n=this._image=e?this._url:St("img");if(ut(n,"leaflet-image-layer"),this._zoomAnimated&&ut(n,"leaflet-zoom-animated"),this.options.className&&ut(n,this.options.className),n.onselectstart=R,n.onmousemove=R,n.onload=C(this.fire,this,"load"),n.onerror=C(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Li(this._image,l,n)},_reset:function(){var e=this._image,n=new Ht(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=n.getSize();Kt(e,n.min),e.style.width=l.x+"px",e.style.height=l.y+"px"},_updateOpacity:function(){Te(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),tn=function(e,n,l){return new Qs(e,n,l)},en=Qs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",n=this._image=e?this._url:St("video");if(ut(n,"leaflet-image-layer"),this._zoomAnimated&&ut(n,"leaflet-zoom-animated"),this.options.className&&ut(n,this.options.className),n.onselectstart=R,n.onmousemove=R,n.onloadeddata=C(this.fire,this,"load"),e){for(var l=n.getElementsByTagName("source"),f=[],_=0;_<l.length;_++)f.push(l[_].src);this._url=l.length>0?f:[n.src];return}Rt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var A=St("source");A.src=this._url[M],n.appendChild(A)}}});function ia(e,n,l){return new en(e,n,l)}var io=Qs.extend({_initImage:function(){var e=this._image=this._url;ut(e,"leaflet-image-layer"),this._zoomAnimated&&ut(e,"leaflet-zoom-animated"),this.options.className&&ut(e,this.options.className),e.onselectstart=R,e.onmousemove=R}});function Ls(e,n,l){return new io(e,n,l)}var Xe=he.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,n){e&&(e instanceof At||Rt(e))?(this._latlng=kt(e),Q(this,n)):(Q(this,e),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Te(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Te(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Te(this._container,0),this._removeTimeout=setTimeout(C(Bt,void 0,this._container),200)):Bt(this._container),this.options.interactive&&(Zt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=kt(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bi(this._container),this},bringToBack:function(){return this._map&&Ke(this._container),this},_prepareOpen:function(e){var n=this._source;if(!n._map)return!1;if(n instanceof Me){n=null;var l=this._source._layers;for(var f in l)if(l[f]._map){n=l[f];break}if(!n)return!1;this._source=n}if(!e)if(n.getCenter)e=n.getCenter();else if(n.getLatLng)e=n.getLatLng();else if(n.getBounds)e=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")e.innerHTML=n;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),n=_t(this.options.offset),l=this._getAnchor();this._zoomAnimated?Kt(this._container,e.add(l)):n=n.add(e).add(l);var f=this._containerBottom=-n.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=f+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Pt.include({_initOverlay:function(e,n,l,f){var _=n;return _ instanceof e||(_=new e(f).setContent(n)),l&&_.setLatLng(l),_}}),he.include({_initOverlay:function(e,n,l,f){var _=l;return _ instanceof e?(Q(_,f),_._source=this):(_=n&&!f?n:new e(f,this),_.setContent(l)),_}});var Ci=Xe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Xe.prototype.openOn.call(this,e)},onAdd:function(e){Xe.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof fi||this._source.on("preclick",di))},onRemove:function(e){Xe.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof fi||this._source.off("preclick",di))},getEvents:function(){var e=Xe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",n=this._container=St("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=St("div",e+"-content-wrapper",n);if(this._contentNode=St("div",e+"-content",l),We(n),ps(this._contentNode),gt(n,"contextmenu",di),this._tipContainer=St("div",e+"-tip-container",n),this._tip=St("div",e+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=St("a",e+"-close-button",n);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',gt(f,"click",function(_){zt(_),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,n=e.style;n.width="",n.whiteSpace="nowrap";var l=e.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),n.width=l+1+"px",n.whiteSpace="",n.height="";var f=e.offsetHeight,_=this.options.maxHeight,M="leaflet-popup-scrolled";_&&f>_?(n.height=_+"px",ut(e,M)):Zt(e,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),l=this._getAnchor();Kt(this._container,n.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,n=parseInt(ds(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+n,f=this._containerWidth,_=new vt(this._containerLeft,-l-this._containerBottom);_._add(hi(this._container));var M=e.layerPointToContainerPoint(_),A=_t(this.options.autoPanPadding),N=_t(this.options.autoPanPaddingTopLeft||A),H=_t(this.options.autoPanPaddingBottomRight||A),J=e.getSize(),it=0,pt=0;M.x+f+H.x>J.x&&(it=M.x+f-J.x+H.x),M.x-it-N.x<0&&(it=M.x-N.x),M.y+l+H.y>J.y&&(pt=M.y+l-J.y+H.y),M.y-pt-N.y<0&&(pt=M.y-N.y),(it||pt)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([it,pt]))}},_getAnchor:function(){return _t(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),sa=function(e,n){return new Ci(e,n)};Pt.mergeOptions({closePopupOnClick:!0}),Pt.include({openPopup:function(e,n,l){return this._initOverlay(Ci,e,n,l).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),he.include({bindPopup:function(e,n){return this._popup=this._initOverlay(Ci,this._popup,e,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Me||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){He(e);var n=e.layer||e.target;if(this._popup._source===n&&!(n instanceof fi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=n,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var sn=Xe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Xe.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Xe.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Xe.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",n=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=St("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+O(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var n,l,f=this._map,_=this._container,M=f.latLngToContainerPoint(f.getCenter()),A=f.layerPointToContainerPoint(e),N=this.options.direction,H=_.offsetWidth,J=_.offsetHeight,it=_t(this.options.offset),pt=this._getAnchor();N==="top"?(n=H/2,l=J):N==="bottom"?(n=H/2,l=0):N==="center"?(n=H/2,l=J/2):N==="right"?(n=0,l=J/2):N==="left"?(n=H,l=J/2):A.x<M.x?(N="right",n=0,l=J/2):(N="left",n=H+(it.x+pt.x)*2,l=J/2),e=e.subtract(_t(n,l,!0)).add(it).add(pt),Zt(_,"leaflet-tooltip-right"),Zt(_,"leaflet-tooltip-left"),Zt(_,"leaflet-tooltip-top"),Zt(_,"leaflet-tooltip-bottom"),ut(_,"leaflet-tooltip-"+N),Kt(_,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Te(this._container,e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(n)},_getAnchor:function(){return _t(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),De=function(e,n){return new sn(e,n)};Pt.include({openTooltip:function(e,n,l){return this._initOverlay(sn,e,n,l).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),he.include({bindTooltip:function(e,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(sn,this._tooltip,e,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var n=e?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[n](l),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Me||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&(gt(n,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),gt(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var n=e.latlng,l,f;this._tooltip.options.sticky&&e.originalEvent&&(l=this._map.mouseEventToContainerPoint(e.originalEvent),f=this._map.containerPointToLayerPoint(l),n=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(n)}});var Si=pi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var n=e&&e.tagName==="DIV"?e:document.createElement("div"),l=this.options;if(l.html instanceof Element?(cs(n),n.appendChild(l.html)):n.innerHTML=l.html!==!1?l.html:"",l.bgPos){var f=_t(l.bgPos);n.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function na(e){return new Si(e)}pi.Default=xs;var Ui=he.extend({options:{tileSize:256,opacity:1,updateWhenIdle:lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){Q(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Bt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ke(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Z(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof vt?e:new vt(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var n=this.getPane().children,l=-e(-1/0,1/0),f=0,_=n.length,M;f<_;f++)M=n[f].style.zIndex,n[f]!==this._container&&M&&(l=e(l,+M));isFinite(l)&&(this.options.zIndex=l+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!lt.ielt9){Te(this._container,this.options.opacity);var e=+new Date,n=!1,l=!1;for(var f in this._tiles){var _=this._tiles[f];if(!(!_.current||!_.loaded)){var M=Math.min(1,(e-_.loaded)/200);Te(_.el,M),M<1?n=!0:(_.active?l=!0:this._onOpaqueTile(_),_.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),n&&(Le(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this))}},_onOpaqueTile:R,_initContainer:function(){this._container||(this._container=St("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,n=this.options.maxZoom;if(e!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===e?(this._levels[l].el.style.zIndex=n-Math.abs(e-l),this._onUpdateLevel(l)):(Bt(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var f=this._levels[e],_=this._map;return f||(f=this._levels[e]={},f.el=St("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=n,f.origin=_.project(_.unproject(_.getPixelOrigin()),e).round(),f.zoom=e,this._setZoomTransform(f,_.getCenter(),_.getZoom()),R(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:R,_onRemoveLevel:R,_onCreateLevel:R,_pruneTiles:function(){if(this._map){var e,n,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)n=this._tiles[e],n.retain=n.current;for(e in this._tiles)if(n=this._tiles[e],n.current&&!n.active){var f=n.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var n in this._tiles)this._tiles[n].coords.z===e&&this._removeTile(n)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Bt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,n,l,f){var _=Math.floor(e/2),M=Math.floor(n/2),A=l-1,N=new vt(+_,+M);N.z=+A;var H=this._tileCoordsToKey(N),J=this._tiles[H];return J&&J.active?(J.retain=!0,!0):(J&&J.loaded&&(J.retain=!0),A>f?this._retainParent(_,M,A,f):!1)},_retainChildren:function(e,n,l,f){for(var _=2*e;_<2*e+2;_++)for(var M=2*n;M<2*n+2;M++){var A=new vt(_,M);A.z=l+1;var N=this._tileCoordsToKey(A),H=this._tiles[N];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);l+1<f&&this._retainChildren(_,M,l+1,f)}},_resetView:function(e){var n=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var n=this.options;return n.minNativeZoom!==void 0&&e<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<e?n.maxNativeZoom:e},_setView:function(e,n,l,f){var _=Math.round(n);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var M=this.options.updateWhenZooming&&_!==this._tileZoom;(!f||M)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(e),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(e,n)},_setZoomTransforms:function(e,n){for(var l in this._levels)this._setZoomTransform(this._levels[l],e,n)},_setZoomTransform:function(e,n,l){var f=this._map.getZoomScale(l,e.zoom),_=e.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(n,l)).round();lt.any3d?Li(e.el,_,f):Kt(e.el,_)},_resetGrid:function(){var e=this._map,n=e.options.crs,l=this._tileSize=this.getTileSize(),f=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,n.wrapLng[0]],f).x/l.x),Math.ceil(e.project([0,n.wrapLng[1]],f).x/l.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([n.wrapLat[0],0],f).y/l.x),Math.ceil(e.project([n.wrapLat[1],0],f).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var n=this._map,l=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),f=n.getZoomScale(l,this._tileZoom),_=n.project(e,this._tileZoom).floor(),M=n.getSize().divideBy(f*2);return new Ht(_.subtract(M),_.add(M))},_update:function(e){var n=this._map;if(n){var l=this._clampZoom(n.getZoom());if(e===void 0&&(e=n.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(e),_=this._pxBoundsToTileRange(f),M=_.getCenter(),A=[],N=this.options.keepBuffer,H=new Ht(_.getBottomLeft().subtract([N,-N]),_.getTopRight().add([N,-N]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var J in this._tiles){var it=this._tiles[J].coords;(it.z!==this._tileZoom||!H.contains(new vt(it.x,it.y)))&&(this._tiles[J].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(e,l);return}for(var pt=_.min.y;pt<=_.max.y;pt++)for(var wt=_.min.x;wt<=_.max.x;wt++){var _e=new vt(wt,pt);if(_e.z=this._tileZoom,!!this._isValidTile(_e)){var ne=this._tiles[this._tileCoordsToKey(_e)];ne?ne.current=!0:A.push(_e)}}if(A.sort(function(ve,Yi){return ve.distanceTo(M)-Yi.distanceTo(M)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ie=document.createDocumentFragment();for(wt=0;wt<A.length;wt++)this._addTile(A[wt],Ie);this._level.el.appendChild(Ie)}}}},_isValidTile:function(e){var n=this._map.options.crs;if(!n.infinite){var l=this._globalTileRange;if(!n.wrapLng&&(e.x<l.min.x||e.x>l.max.x)||!n.wrapLat&&(e.y<l.min.y||e.y>l.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(e);return Ut(this.options.bounds).overlaps(f)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var n=this._map,l=this.getTileSize(),f=e.scaleBy(l),_=f.add(l),M=n.unproject(f,e.z),A=n.unproject(_,e.z);return[M,A]},_tileCoordsToBounds:function(e){var n=this._tileCoordsToNwSe(e),l=new ie(n[0],n[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var n=e.split(":"),l=new vt(+n[0],+n[1]);return l.z=+n[2],l},_removeTile:function(e){var n=this._tiles[e];n&&(Bt(n.el),delete this._tiles[e],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ut(e,"leaflet-tile");var n=this.getTileSize();e.style.width=n.x+"px",e.style.height=n.y+"px",e.onselectstart=R,e.onmousemove=R,lt.ielt9&&this.options.opacity<1&&Te(e,this.options.opacity)},_addTile:function(e,n){var l=this._getTilePos(e),f=this._tileCoordsToKey(e),_=this.createTile(this._wrapCoords(e),C(this._tileReady,this,e));this._initTile(_),this.createTile.length<2&&ee(C(this._tileReady,this,e,null,_)),Kt(_,l),this._tiles[f]={el:_,coords:e,current:!0},n.appendChild(_),this.fire("tileloadstart",{tile:_,coords:e})},_tileReady:function(e,n,l){n&&this.fire("tileerror",{error:n,tile:l,coords:e});var f=this._tileCoordsToKey(e);l=this._tiles[f],l&&(l.loaded=+new Date,this._map._fadeAnimated?(Te(l.el,0),Le(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),n||(ut(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),lt.ielt9||!this._map._fadeAnimated?ee(this._pruneTiles,this):setTimeout(C(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var n=new vt(this._wrapX?G(e.x,this._wrapX):e.x,this._wrapY?G(e.y,this._wrapY):e.y);return n.z=e.z,n},_pxBoundsToTileRange:function(e){var n=this.getTileSize();return new Ht(e.min.unscaleBy(n).floor(),e.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function oa(e){return new Ui(e)}var mi=Ui.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,n){this._url=e,n=Q(this,n),n.detectRetina&&lt.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,n){return this._url===e&&n===void 0&&(n=!0),this._url=e,n||this.redraw(),this},createTile:function(e,n){var l=document.createElement("img");return gt(l,"load",C(this._tileOnLoad,this,n,l)),gt(l,"error",C(this._tileOnError,this,n,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(e),l},getTileUrl:function(e){var n={r:lt.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=l),n["-y"]=l}return Nt(this._url,V(n,this.options))},_tileOnLoad:function(e,n){lt.ielt9?setTimeout(C(e,this,null,n),0):e(null,n)},_tileOnError:function(e,n,l){var f=this.options.errorTileUrl;f&&n.getAttribute("src")!==f&&(n.src=f),e(l,n)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,n=this.options.maxZoom,l=this.options.zoomReverse,f=this.options.zoomOffset;return l&&(e=n-e),e+f},_getSubdomain:function(e){var n=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var e,n;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(n=this._tiles[e].el,n.onload=R,n.onerror=R,!n.complete)){n.src=ae;var l=this._tiles[e].coords;Bt(n),delete this._tiles[e],this.fire("tileabort",{tile:n,coords:l})}},_removeTile:function(e){var n=this._tiles[e];if(n)return n.el.setAttribute("src",ae),Ui.prototype._removeTile.call(this,e)},_tileReady:function(e,n,l){if(!(!this._map||l&&l.getAttribute("src")===ae))return Ui.prototype._tileReady.call(this,e,n,l)}});function Ko(e,n){return new mi(e,n)}var Jo=mi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var l=V({},this.defaultWmsParams);for(var f in n)f in this.options||(l[f]=n[f]);n=Q(this,n);var _=n.detectRetina&&lt.retina?2:1,M=this.getTileSize();l.width=M.x*_,l.height=M.y*_,this.wmsParams=l},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,mi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var n=this._tileCoordsToNwSe(e),l=this._crs,f=te(l.project(n[0]),l.project(n[1])),_=f.min,M=f.max,A=(this._wmsVersion>=1.3&&this._crs===ui?[_.y,_.x,M.y,M.x]:[_.x,_.y,M.x,M.y]).join(","),N=mi.prototype.getTileUrl.call(this,e);return N+Ot(this.wmsParams,N,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(e,n){return V(this.wmsParams,e),n||this.redraw(),this}});function Qo(e,n){return new Jo(e,n)}mi.WMS=Jo,Ko.wms=Qo;var ii=he.extend({options:{padding:.1},initialize:function(e){Q(this,e),O(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,n){var l=this._map.getZoomScale(n,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,n),M=f.multiplyBy(-l).add(_).subtract(this._map._getNewPixelOrigin(e,n));lt.any3d?Li(this._container,M,l):Kt(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,n=this._map.getSize(),l=this._map.containerPointToLayerPoint(n.multiplyBy(-e)).round();this._bounds=new Ht(l,l.add(n.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nn=ii.extend({options:{tolerance:0},getEvents:function(){var e=ii.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ii.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");gt(e,"mousemove",this._onMouseMove,this),gt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),gt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){Le(this._redrawRequest),delete this._ctx,Bt(this._container),It(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var n in this._layers)e=this._layers[n],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ii.prototype._update.call(this);var e=this._bounds,n=this._container,l=e.getSize(),f=lt.retina?2:1;Kt(n,e.min),n.width=f*l.x,n.height=f*l.y,n.style.width=l.x+"px",n.style.height=l.y+"px",lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ii.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[O(e)]=e;var n=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var n=e._order,l=n.next,f=n.prev;l?l.prev=f:this._drawLast=f,f?f.next=l:this._drawFirst=l,delete e._order,delete this._layers[O(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var n=e.options.dashArray.split(/[, ]+/),l=[],f,_;for(_=0;_<n.length;_++){if(f=Number(n[_]),isNaN(f))return;l.push(f)}e.options._dashArray=l}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ee(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var n=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ht,this._redrawBounds.extend(e._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(e._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var n=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,n=this._redrawBounds;if(this._ctx.save(),n){var l=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)e=f.layer,(!n||e._pxBounds&&e._pxBounds.intersects(n))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,n){if(this._drawing){var l,f,_,M,A=e._parts,N=A.length,H=this._ctx;if(N){for(H.beginPath(),l=0;l<N;l++){for(f=0,_=A[l].length;f<_;f++)M=A[l][f],H[f?"lineTo":"moveTo"](M.x,M.y);n&&H.closePath()}this._fillStroke(H,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var n=e._point,l=this._ctx,f=Math.max(Math.round(e._radius),1),_=(Math.max(Math.round(e._radiusY),1)||f)/f;_!==1&&(l.save(),l.scale(1,_)),l.beginPath(),l.arc(n.x,n.y/_,f,0,Math.PI*2,!1),_!==1&&l.restore(),this._fillStroke(l,e)}},_fillStroke:function(e,n){var l=n.options;l.fill&&(e.globalAlpha=l.fillOpacity,e.fillStyle=l.fillColor||l.color,e.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(e.setLineDash&&e.setLineDash(n.options&&n.options._dashArray||[]),e.globalAlpha=l.opacity,e.lineWidth=l.weight,e.strokeStyle=l.color,e.lineCap=l.lineCap,e.lineJoin=l.lineJoin,e.stroke())},_onClick:function(e){for(var n=this._map.mouseEventToLayerPoint(e),l,f,_=this._drawFirst;_;_=_.next)l=_.layer,l.options.interactive&&l._containsPoint(n)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(l))&&(f=l);this._fireEvent(f?[f]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,n)}},_handleMouseOut:function(e){var n=this._hoveredLayer;n&&(Zt(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,n){if(!this._mouseHoverThrottled){for(var l,f,_=this._drawFirst;_;_=_.next)l=_.layer,l.options.interactive&&l._containsPoint(n)&&(f=l);f!==this._hoveredLayer&&(this._handleMouseOut(e),f&&(ut(this._container,"leaflet-interactive"),this._fireEvent([f],e,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(C(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,n,l){this._map._fireDOMEvent(n,l||n.type,e)},_bringToFront:function(e){var n=e._order;if(n){var l=n.next,f=n.prev;if(l)l.prev=f;else return;f?f.next=l:l&&(this._drawFirst=l),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(e)}},_bringToBack:function(e){var n=e._order;if(n){var l=n.next,f=n.prev;if(f)f.next=l;else return;l?l.prev=f:f&&(this._drawLast=f),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(e)}}});function we(e){return lt.canvas?new nn(e):null}var Tt=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ra={_initContainer:function(){this._container=St("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ii.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var n=e._container=Tt("shape");ut(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",e._path=Tt("path"),n.appendChild(e._path),this._updateStyle(e),this._layers[O(e)]=e},_addPath:function(e){var n=e._container;this._container.appendChild(n),e.options.interactive&&e.addInteractiveTarget(n)},_removePath:function(e){var n=e._container;Bt(n),e.removeInteractiveTarget(n),delete this._layers[O(e)]},_updateStyle:function(e){var n=e._stroke,l=e._fill,f=e.options,_=e._container;_.stroked=!!f.stroke,_.filled=!!f.fill,f.stroke?(n||(n=e._stroke=Tt("stroke")),_.appendChild(n),n.weight=f.weight+"px",n.color=f.color,n.opacity=f.opacity,f.dashArray?n.dashStyle=Rt(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=f.lineCap.replace("butt","flat"),n.joinstyle=f.lineJoin):n&&(_.removeChild(n),e._stroke=null),f.fill?(l||(l=e._fill=Tt("fill")),_.appendChild(l),l.color=f.fillColor||f.color,l.opacity=f.fillOpacity):l&&(_.removeChild(l),e._fill=null)},_updateCircle:function(e){var n=e._point.round(),l=Math.round(e._radius),f=Math.round(e._radiusY||l);this._setPath(e,e._empty()?"M0 0":"AL "+n.x+","+n.y+" "+l+","+f+" 0,"+65535*360)},_setPath:function(e,n){e._path.v=n},_bringToFront:function(e){bi(e._container)},_bringToBack:function(e){Ke(e._container)}},ks=lt.vml?Tt:yn,Ti=ii.extend({_initContainer:function(){this._container=ks("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ks("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Bt(this._container),It(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ii.prototype._update.call(this);var e=this._bounds,n=e.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,l.setAttribute("width",n.x),l.setAttribute("height",n.y)),Kt(l,e.min),l.setAttribute("viewBox",[e.min.x,e.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(e){var n=e._path=ks("path");e.options.className&&ut(n,e.options.className),e.options.interactive&&ut(n,"leaflet-interactive"),this._updateStyle(e),this._layers[O(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Bt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[O(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var n=e._path,l=e.options;n&&(l.stroke?(n.setAttribute("stroke",l.color),n.setAttribute("stroke-opacity",l.opacity),n.setAttribute("stroke-width",l.weight),n.setAttribute("stroke-linecap",l.lineCap),n.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?n.setAttribute("stroke-dasharray",l.dashArray):n.removeAttribute("stroke-dasharray"),l.dashOffset?n.setAttribute("stroke-dashoffset",l.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),l.fill?(n.setAttribute("fill",l.fillColor||l.color),n.setAttribute("fill-opacity",l.fillOpacity),n.setAttribute("fill-rule",l.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(e,n){this._setPath(e,os(e._parts,n))},_updateCircle:function(e){var n=e._point,l=Math.max(Math.round(e._radius),1),f=Math.max(Math.round(e._radiusY),1)||l,_="a"+l+","+f+" 0 1,0 ",M=e._empty()?"M0 0":"M"+(n.x-l)+","+n.y+_+l*2+",0 "+_+-l*2+",0 ";this._setPath(e,M)},_setPath:function(e,n){e._path.setAttribute("d",n)},_bringToFront:function(e){bi(e._path)},_bringToBack:function(e){Ke(e._path)}});lt.vml&&Ti.include(ra);function Ms(e){return lt.svg||lt.vml?new Ti(e):null}Pt.include({getRenderer:function(e){var n=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var n=this._paneRenderers[e];return n===void 0&&(n=this._createRenderer({pane:e}),this._paneRenderers[e]=n),n},_createRenderer:function(e){return this.options.preferCanvas&&we(e)||Ms(e)}});var Wt=Xi.extend({initialize:function(e,n){Xi.prototype.initialize.call(this,this._boundsToLatLngs(e),n)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=Ut(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function tr(e,n){return new Wt(e,n)}Ti.create=ks,Ti.pointsToPath=os,ei.geometryToLayer=bs,ei.coordsToLatLng=Pi,ei.coordsToLatLngs=Ge,ei.latLngToCoords=Qn,ei.latLngsToCoords=Ks,ei.getFeature=ji,ei.asFeature=Js,Pt.mergeOptions({boxZoom:!0});var er=Be.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Zi(),Bn(),this._startPoint=this._map.mouseEventToContainerPoint(e),gt(document,{contextmenu:He,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=St("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var n=new Ht(this._point,this._startPoint),l=n.getSize();Kt(this._box,n.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(Bt(this._box),Zt(this._container,"leaflet-crosshair")),Ze(),Dn(),It(document,{contextmenu:He,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(C(this._resetState,this),0);var n=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Pt.addInitHook("addHandler","boxZoom",er),Pt.mergeOptions({doubleClickZoom:!0});var so=Be.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var n=this._map,l=n.getZoom(),f=n.options.zoomDelta,_=e.originalEvent.shiftKey?l-f:l+f;n.options.doubleClickZoom==="center"?n.setZoom(_):n.setZoomAround(e.containerPoint,_)}});Pt.addInitHook("addHandler","doubleClickZoom",so),Pt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var dt=Be.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Qe(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Zt(this._map._container,"leaflet-grab"),Zt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=Ut(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var n=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(n),this._prunePositions(n)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,n){return e-(e-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;e.x<n.min.x&&(e.x=this._viscousLimit(e.x,n.min.x)),e.y<n.min.y&&(e.y=this._viscousLimit(e.y,n.min.y)),e.x>n.max.x&&(e.x=this._viscousLimit(e.x,n.max.x)),e.y>n.max.y&&(e.y=this._viscousLimit(e.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,n=Math.round(e/2),l=this._initialWorldOffset,f=this._draggable._newPos.x,_=(f-n+l)%e+n-l,M=(f+n+l)%e-n-l,A=Math.abs(_+l)<Math.abs(M+l)?_:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(e){var n=this._map,l=n.options,f=!l.inertia||e.noInertia||this._times.length<2;if(n.fire("dragend",e),f)n.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,A=l.easeLinearity,N=_.multiplyBy(A/M),H=N.distanceTo([0,0]),J=Math.min(l.inertiaMaxSpeed,H),it=N.multiplyBy(J/H),pt=J/(l.inertiaDeceleration*A),wt=it.multiplyBy(-pt/2).round();!wt.x&&!wt.y?n.fire("moveend"):(wt=n._limitOffset(wt,n.options.maxBounds),ee(function(){n.panBy(wt,{duration:pt,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});Pt.addInitHook("addHandler","dragging",dt),Pt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var no=Be.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),gt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),It(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,n=document.documentElement,l=e.scrollTop||n.scrollTop,f=e.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(f,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var n=this._panKeys={},l=this.keyCodes,f,_;for(f=0,_=l.left.length;f<_;f++)n[l.left[f]]=[-1*e,0];for(f=0,_=l.right.length;f<_;f++)n[l.right[f]]=[e,0];for(f=0,_=l.down.length;f<_;f++)n[l.down[f]]=[0,e];for(f=0,_=l.up.length;f<_;f++)n[l.up[f]]=[0,-1*e]},_setZoomDelta:function(e){var n=this._zoomKeys={},l=this.keyCodes,f,_;for(f=0,_=l.zoomIn.length;f<_;f++)n[l.zoomIn[f]]=e;for(f=0,_=l.zoomOut.length;f<_;f++)n[l.zoomOut[f]]=-e},_addHooks:function(){gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){It(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=e.keyCode,l=this._map,f;if(n in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(f=this._panKeys[n],e.shiftKey&&(f=_t(f).multiplyBy(3)),l.options.maxBounds&&(f=l._limitOffset(_t(f),l.options.maxBounds)),l.options.worldCopyJump){var _=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(f)));l.panTo(_)}else l.panBy(f)}else if(n in this._zoomKeys)l.setZoom(l.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;He(e)}}});Pt.addInitHook("addHandler","keyboard",no),Pt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ps=Be.extend({addHooks:function(){gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var n=Fn(e),l=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var f=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(C(this._performZoom,this),f),He(e)},_performZoom:function(){var e=this._map,n=e.getZoom(),l=this._map.options.zoomSnap||0;e._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,M=l?Math.ceil(_/l)*l:_,A=e._limitZoom(n+(this._delta>0?M:-M))-n;this._delta=0,this._startTime=null,A&&(e.options.scrollWheelZoom==="center"?e.setZoom(n+A):e.setZoomAround(this._lastMousePos,n+A))}});Pt.addInitHook("addHandler","scrollWheelZoom",Ps);var aa=600;Pt.mergeOptions({tapHold:lt.touchNative&&lt.safari&&lt.mobile,tapTolerance:15});var Cs=Be.extend({addHooks:function(){gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var n=e.touches[0];this._startPos=this._newPos=new vt(n.clientX,n.clientY),this._holdTimeout=setTimeout(C(function(){this._cancel(),this._isTapValid()&&(gt(document,"touchend",zt),gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),aa),gt(document,"touchend touchcancel contextmenu",this._cancel,this),gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){It(document,"touchend",zt),It(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)},_onMove:function(e){var n=e.touches[0];this._newPos=new vt(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,n){var l=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});l._simulated=!0,n.target.dispatchEvent(l)}});Pt.addInitHook("addHandler","tapHold",Cs),Pt.mergeOptions({touchZoom:lt.touch,bounceAtZoomLimits:!0});var yt=Be.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Zt(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var n=this._map;if(!(!e.touches||e.touches.length!==2||n._animatingZoom||this._zooming)){var l=n.mouseEventToContainerPoint(e.touches[0]),f=n.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(l.add(f)._divideBy(2))),this._startDist=l.distanceTo(f),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),gt(document,"touchmove",this._onTouchMove,this),gt(document,"touchend touchcancel",this._onTouchEnd,this),zt(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var n=this._map,l=n.mouseEventToContainerPoint(e.touches[0]),f=n.mouseEventToContainerPoint(e.touches[1]),_=l.distanceTo(f)/this._startDist;if(this._zoom=n.getScaleZoom(_,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&_<1||this._zoom>n.getMaxZoom()&&_>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var M=l._add(f)._divideBy(2)._subtract(this._centerPoint);if(_===1&&M.x===0&&M.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),Le(this._animRequest);var A=C(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ee(A,this,!0),zt(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Le(this._animRequest),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Pt.addInitHook("addHandler","touchZoom",yt),Pt.BoxZoom=er,Pt.DoubleClickZoom=so,Pt.Drag=dt,Pt.Keyboard=no,Pt.ScrollWheelZoom=Ps,Pt.TapHold=Cs,Pt.TouchZoom=yt,W.Bounds=Ht,W.Browser=lt,W.CRS=Ve,W.Canvas=nn,W.Circle=Jn,W.CircleMarker=$s,W.Class=Ce,W.Control=ge,W.DivIcon=Si,W.DivOverlay=Xe,W.DomEvent=Fe,W.DomUtil=Ur,W.Draggable=Qe,W.Evented=Bi,W.FeatureGroup=Me,W.GeoJSON=ei,W.GridLayer=Ui,W.Handler=Be,W.Icon=pi,W.ImageOverlay=Qs,W.LatLng=At,W.LatLngBounds=ie,W.Layer=he,W.LayerGroup=Fi,W.LineUtil=Us,W.Map=Pt,W.Marker=Vs,W.Mixin=jn,W.Path=fi,W.Point=vt,W.PolyUtil=Vr,W.Polygon=Xi,W.Polyline=ti,W.Popup=Ci,W.PosAnimation=Gn,W.Projection=Yo,W.Rectangle=Wt,W.Renderer=ii,W.SVG=Ti,W.SVGOverlay=io,W.TileLayer=mi,W.Tooltip=sn,W.Transformation=vn,W.Util=ns,W.VideoOverlay=en,W.bind=C,W.bounds=te,W.canvas=we,W.circle=qo,W.circleMarker=Gi,W.control=fs,W.divIcon=na,W.extend=V,W.featureGroup=Qr,W.geoJSON=ws,W.geoJson=eo,W.gridLayer=oa,W.icon=Kn,W.imageOverlay=tn,W.latLng=kt,W.latLngBounds=Ut,W.layerGroup=ys,W.map=Ro,W.marker=qs,W.point=_t,W.polygon=ea,W.polyline=ta,W.popup=sa,W.rectangle=tr,W.setOptions=Q,W.stamp=O,W.svg=Ms,W.svgOverlay=Ls,W.tileLayer=Ko,W.tooltip=De,W.transformation=ht,W.version=$,W.videoOverlay=ia;var on=window.L;W.noConflict=function(){return window.L=on,this},window.L=W})}(Ar,Ar.exports)),Ar.exports}Ml();var Pl={exports:{}};(function(K,nt){(function(W,$){W._Highcharts=$(),K.exports=W._Highcharts})(typeof window>"u"?Or:window,()=>(()=>{let W,$;var V,x,C,T,O,Z,G,R,q,j,rt,Q,Ot,xt,Nt,Rt,ze,ae={};ae.d=(c,t)=>{for(var i in t)ae.o(t,i)&&!ae.o(c,i)&&Object.defineProperty(c,i,{enumerable:!0,get:t[i]})},ae.o=(c,t)=>Object.prototype.hasOwnProperty.call(c,t);var Ei={};ae.d(Ei,{default:()=>ku}),function(c){c.SVG_NS="http://www.w3.org/2000/svg",c.product="Highcharts",c.version="12.1.0",c.win=typeof window<"u"?window:{},c.doc=c.win.document,c.svg=c.doc&&c.doc.createElementNS&&!!c.doc.createElementNS(c.SVG_NS,"svg").createSVGRect,c.userAgent=c.win.navigator&&c.win.navigator.userAgent||"",c.isChrome=c.win.chrome,c.isFirefox=c.userAgent.indexOf("Firefox")!==-1,c.isMS=/(edge|msie|trident)/i.test(c.userAgent)&&!c.win.opera,c.isSafari=!c.isChrome&&c.userAgent.indexOf("Safari")!==-1,c.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(c.userAgent),c.isWebKit=c.userAgent.indexOf("AppleWebKit")!==-1,c.deg2rad=2*Math.PI/360,c.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],c.noop=function(){},c.supportsPassiveEvents=function(){let t=!1;if(!c.isMS){let i=Object.defineProperty({},"passive",{get:function(){t=!0}});c.win.addEventListener&&c.win.removeEventListener&&(c.win.addEventListener("testPassive",c.noop,i),c.win.removeEventListener("testPassive",c.noop,i))}return t}(),c.charts=[],c.composed=[],c.dateFormats={},c.seriesTypes={},c.symbolSizes={},c.chartCount=0}(V||(V={}));let U=V,{charts:_o,doc:Ii,win:ai}=U;function ee(c,t,i,s){let o=t?"Highcharts error":"Highcharts warning";c===32&&(c=`${o}: Deprecated member`);let r=vt(c),a=r?`${o} #${c}: www.highcharts.com/errors/${c}/`:c.toString();if(s!==void 0){let h="";r&&(a+="?"),be(s,function(d,u){h+=`
 - ${u}: ${d}`,r&&(a+=encodeURI(u)+"="+encodeURI(d))}),a+=h}Bs(U,"displayError",{chart:i,code:c,message:a,params:s},function(){if(t)throw Error(a);ai.console&&ee.messages.indexOf(a)===-1&&console.warn(a)}),ee.messages.push(a)}function Le(c,t){return parseInt(c,t||10)}function ns(c){return typeof c=="string"}function Ce(c){let t=Object.prototype.toString.call(c);return t==="[object Array]"||t==="[object Array Iterator]"}function zi(c,t){return!!c&&typeof c=="object"&&(!t||!Ce(c))}function pe(c){return zi(c)&&typeof c.nodeType=="number"}function Bi(c){let t=c&&c.constructor;return!!(zi(c,!0)&&!pe(c)&&t&&t.name&&t.name!=="Object")}function vt(c){return typeof c=="number"&&!isNaN(c)&&c<1/0&&c>-1/0}function yi(c){return c!=null}function _t(c,t,i){let s,o=ns(t)&&!yi(i),r=(a,h)=>{yi(a)?c.setAttribute(h,a):o?(s=c.getAttribute(h))||h!=="class"||(s=c.getAttribute(h+"Name")):c.removeAttribute(h)};return ns(t)?r(i,t):be(t,r),s}function Ht(c){return Ce(c)?c:[c]}function te(c,t){let i;for(i in c||(c={}),t)c[i]=t[i];return c}function ie(){let c=arguments,t=c.length;for(let i=0;i<t;i++){let s=c[i];if(s!=null)return s}}function Ut(c,t){te(c.style,t)}function At(c){return Math.pow(10,Math.floor(Math.log(c)/Math.LN10))}function kt(c,t){return c>1e14?c:parseFloat(c.toPrecision(t||14))}(ee||(ee={})).messages=[],Math.easeInOutSine=function(c){return-.5*(Math.cos(Math.PI*c)-1)};let Ve=Array.prototype.find?function(c,t){return c.find(t)}:function(c,t){let i,s=c.length;for(i=0;i<s;i++)if(t(c[i],i))return c[i]};function be(c,t,i){for(let s in c)Object.hasOwnProperty.call(c,s)&&t.call(i||c[s],c[s],s,c)}function _n(c,t,i){function s(a,h){let d=c.removeEventListener;d&&d.call(c,a,h,!1)}function o(a){let h,d;c.nodeName&&(t?(h={})[t]=!0:h=a,be(h,function(u,m){if(a[m])for(d=a[m].length;d--;)s(m,a[m][d].fn)}))}let r=typeof c=="function"&&c.prototype||c;if(Object.hasOwnProperty.call(r,"hcEvents")){let a=r.hcEvents;if(t){let h=a[t]||[];i?(a[t]=h.filter(function(d){return i!==d.fn}),s(t,i)):(o(a),a[t]=[])}else o(a),delete r.hcEvents}}function Bs(c,t,i,s){if(i=i||{},Ii.createEvent&&(c.dispatchEvent||c.fireEvent&&c!==U)){let o=Ii.createEvent("Events");o.initEvent(t,!0,!0),i=te(o,i),c.dispatchEvent?c.dispatchEvent(i):c.fireEvent(t,i)}else if(c.hcEvents){i.target||te(i,{preventDefault:function(){i.defaultPrevented=!0},target:c,type:t});let o=[],r=c,a=!1;for(;r.hcEvents;)Object.hasOwnProperty.call(r,"hcEvents")&&r.hcEvents[t]&&(o.length&&(a=!0),o.unshift.apply(o,r.hcEvents[t])),r=Object.getPrototypeOf(r);a&&o.sort((h,d)=>h.order-d.order),o.forEach(h=>{h.fn.call(c,i)===!1&&i.preventDefault()})}s&&!i.defaultPrevented&&s.call(c,i)}let vn=function(){let c=Math.random().toString(36).substring(2,9)+"-",t=0;return function(){return"highcharts-"+(W?"":c)+t++}}();ai.jQuery&&(ai.jQuery.fn.highcharts=function(){let c=[].slice.call(arguments);if(this[0])return c[0]?(new U[ns(c[0])?c.shift():"Chart"](this[0],c[0],c[1]),this):_o[_t(this[0],"data-highcharts-chart")]});let ht={addEvent:function(c,t,i,s={}){let o=typeof c=="function"&&c.prototype||c;Object.hasOwnProperty.call(o,"hcEvents")||(o.hcEvents={});let r=o.hcEvents;U.Point&&c instanceof U.Point&&c.series&&c.series.chart&&(c.series.chart.runTrackerClick=!0);let a=c.addEventListener;a&&a.call(c,t,i,!!U.supportsPassiveEvents&&{passive:s.passive===void 0?t.indexOf("touch")!==-1:s.passive,capture:!1}),r[t]||(r[t]=[]);let h={fn:i,order:typeof s.order=="number"?s.order:1/0};return r[t].push(h),r[t].sort((d,u)=>d.order-u.order),function(){_n(c,t,i)}},arrayMax:function(c){let t=c.length,i=c[0];for(;t--;)c[t]>i&&(i=c[t]);return i},arrayMin:function(c){let t=c.length,i=c[0];for(;t--;)c[t]<i&&(i=c[t]);return i},attr:_t,clamp:function(c,t,i){return c>t?c<i?c:i:t},clearTimeout:function(c){yi(c)&&clearTimeout(c)},correctFloat:kt,createElement:function(c,t,i,s,o){let r=Ii.createElement(c);return t&&te(r,t),o&&Ut(r,{padding:"0",border:"none",margin:"0"}),i&&Ut(r,i),s&&s.appendChild(r),r},crisp:function(c,t=0,i){let s=t%2/2,o=i?-1:1;return(Math.round(c*o-s)+s)*o},css:Ut,defined:yi,destroyObjectProperties:function(c,t,i){be(c,function(s,o){s!==t&&s?.destroy&&s.destroy(),(s?.destroy||!i)&&delete c[o]})},diffObjects:function(c,t,i,s){let o={};return function r(a,h,d,u){let m=i?h:a;be(a,function(p,g){if(!u&&s&&s.indexOf(g)>-1&&h[g]){p=Ht(p),d[g]=[];for(let v=0;v<Math.max(p.length,h[g].length);v++)h[g][v]&&(p[v]===void 0?d[g][v]=h[g][v]:(d[g][v]={},r(p[v],h[g][v],d[g][v],u+1)))}else zi(p,!0)&&!p.nodeType?(d[g]=Ce(p)?[]:{},r(p,h[g]||{},d[g],u+1),Object.keys(d[g]).length!==0||g==="colorAxis"&&u===0||delete d[g]):(a[g]!==h[g]||g in a&&!(g in h))&&g!=="__proto__"&&g!=="constructor"&&(d[g]=m[g])})}(c,t,o,0),o},discardElement:function(c){c&&c.parentElement&&c.parentElement.removeChild(c)},erase:function(c,t){let i=c.length;for(;i--;)if(c[i]===t){c.splice(i,1);break}},error:ee,extend:te,extendClass:function(c,t){let i=function(){};return i.prototype=new c,te(i.prototype,t),i},find:Ve,fireEvent:Bs,getAlignFactor:(c="")=>({center:.5,right:1,middle:.5,bottom:1})[c]||0,getClosestDistance:function(c,t){let i,s,o,r=!t;return c.forEach(a=>{if(a.length>1)for(o=a.length-1;o>0;o--)(s=a[o]-a[o-1])<0&&!r?(t?.(),t=void 0):s&&(i===void 0||s<i)&&(i=s)}),i},getMagnitude:At,getNestedProperty:function(c,t){let i=c.split(".");for(;i.length&&yi(t);){let s=i.shift();if(s===void 0||s==="__proto__")return;if(s==="this"){let r;return zi(t)&&(r=t["@this"]),r??t}let o=t[s.replace(/[\\'"]/g,"")];if(!yi(o)||typeof o=="function"||typeof o.nodeType=="number"||o===ai)return;t=o}return t},getStyle:function c(t,i,s){let o;if(i==="width"){let a=Math.min(t.offsetWidth,t.scrollWidth),h=t.getBoundingClientRect&&t.getBoundingClientRect().width;return h<a&&h>=a-1&&(a=Math.floor(h)),Math.max(0,a-(c(t,"padding-left",!0)||0)-(c(t,"padding-right",!0)||0))}if(i==="height")return Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-(c(t,"padding-top",!0)||0)-(c(t,"padding-bottom",!0)||0));let r=ai.getComputedStyle(t,void 0);return r&&(o=r.getPropertyValue(i),ie(s,i!=="opacity")&&(o=Le(o))),o},insertItem:function(c,t){let i,s=c.options.index,o=t.length;for(i=c.options.isInternal?o:0;i<o+1;i++)if(!t[i]||vt(s)&&s<ie(t[i].options.index,t[i]._i)||t[i].options.isInternal){t.splice(i,0,c);break}return i},isArray:Ce,isClass:Bi,isDOMElement:pe,isFunction:function(c){return typeof c=="function"},isNumber:vt,isObject:zi,isString:ns,merge:function(c,...t){let i,s=[c,...t],o={},r=function(h,d){return typeof h!="object"&&(h={}),be(d,function(u,m){m!=="__proto__"&&m!=="constructor"&&(!zi(u,!0)||Bi(u)||pe(u)?h[m]=d[m]:h[m]=r(h[m]||{},u))}),h};c===!0&&(o=s[1],s=Array.prototype.slice.call(s,2));let a=s.length;for(i=0;i<a;i++)o=r(o,s[i]);return o},normalizeTickInterval:function(c,t,i,s,o){let r,a=c;i=ie(i,At(c));let h=c/i;for(!t&&(t=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],s===!1&&(i===1?t=t.filter(function(d){return d%1==0}):i<=.1&&(t=[1/i]))),r=0;r<t.length&&(a=t[r],(!o||!(a*i>=c))&&(o||!(h<=(t[r]+(t[r+1]||t[r]))/2)));r++);return kt(a*i,-Math.round(Math.log(.001)/Math.LN10))},objectEach:be,offset:function(c){let t=Ii.documentElement,i=c.parentElement||c.parentNode?c.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:i.top+(ai.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(ai.pageXOffset||t.scrollLeft)-(t.clientLeft||0),width:i.width,height:i.height}},pad:function(c,t,i){return Array((t||2)+1-String(c).replace("-","").length).join(i||"0")+c},pick:ie,pInt:Le,pushUnique:function(c,t){return 0>c.indexOf(t)&&!!c.push(t)},relativeLength:function(c,t,i){return/%$/.test(c)?t*parseFloat(c)/100+(i||0):parseFloat(c)},removeEvent:_n,replaceNested:function(c,...t){let i,s;do for(s of(i=c,t))c=c.replace(s[0],s[1]);while(c!==i);return c},splat:Ht,stableSort:function(c,t){let i,s,o=c.length;for(s=0;s<o;s++)c[s].safeI=s;for(c.sort(function(r,a){return(i=t(r,a))===0?r.safeI-a.safeI:i}),s=0;s<o;s++)delete c[s].safeI},syncTimeout:function(c,t,i){return t>0?setTimeout(c,t,i):(c.call(0,i),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(c){return ns(c)?c.substring(0,1).toUpperCase()+c.substring(1):String(c)},uniqueKey:vn,useSerialIds:function(c){return W=ie(c,W)},wrap:function(c,t,i){let s=c[t];c[t]=function(){let o=arguments,r=this;return i.apply(this,[function(){return s.apply(r,arguments.length?arguments:o)}].concat([].slice.call(arguments)))}}},{win:Di}=U,{defined:Ds,error:yn,extend:os,isNumber:Ns,isObject:Ni,isString:rs,merge:vo,objectEach:xn,pad:qe,splat:yo,timeUnits:Ft,ucfirst:Ir}=ht,bn=U.isSafari&&Di.Intl&&!Di.Intl.DateTimeFormat.prototype.formatRange,xo=c=>c.main===void 0,wn=c=>["D","L","M","X","J","V","S"].indexOf(c),Ln=class{constructor(c){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=Di.Date,this.update(c)}update(c={}){this.dTLCache={},this.options=c=vo(!0,this.options,c);let{timezoneOffset:t,useUTC:i}=c;this.Date=c.Date||Di.Date||Date;let s=c.timezone;Ds(i)&&(s=i?"UTC":void 0),t&&t%60==0&&(s="Etc/GMT"+(t>0?"+":"")+t/60),this.variableTimezone=s!=="UTC"&&s?.indexOf("Etc/GMT")!==0,this.timezone=s,["months","shortMonths","weekdays","shortWeekdays"].forEach(o=>{let r=/months/i.test(o),a=/short/.test(o),h={timeZone:"UTC"};h[r?"month":"weekday"]=a?"short":"long",this[o]=(r?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(d=>this.dateFormat(h,(r?31:1)*24*36e5*d))})}toParts(c){let[t,i,s,o,r,a,h]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},c,"es").split(/(?:, |\/|:)/g);return[o,+s-1,i,r,a,h,Math.floor(Number(c)||0)%1e3,wn(t)].map(Number)}dateTimeFormat(c,t,i=this.options.locale){let s=JSON.stringify(c)+i;rs(c)&&(c=this.str2dtf(c));let o=this.dTLCache[s];if(!o){c.timeZone??(c.timeZone=this.timezone);try{o=new Intl.DateTimeFormat(i,c)}catch(r){/Invalid time zone/i.test(r.message)?(yn(34),c.timeZone="UTC",o=new Intl.DateTimeFormat(i,c)):yn(r.message,!1)}}return this.dTLCache[s]=o,o?.format(t)||""}str2dtf(c,t={}){let i={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(i).forEach(s=>{c.indexOf(s)!==-1&&os(t,i[s])}),t}makeTime(c,t,i=1,s=0,o,r,a){let h=this.Date.UTC(c,t,i,s,o||0,r||0,a||0);if(this.timezone!=="UTC"){let d=this.getTimezoneOffset(h);if(h+=d,[2,3,8,9,10,11].indexOf(t)!==-1&&(s<5||s>20)){let u=this.getTimezoneOffset(h);d!==u?h+=u-d:d-36e5!==this.getTimezoneOffset(h-36e5)||bn||(h-=36e5)}}return h}parse(c){if(!rs(c))return c??void 0;let t=(c=c.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(c),i=/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/.test(c);t||i||(c+="Z");let s=Date.parse(c);if(Ns(s))return s+(!t||i?this.getTimezoneOffset(s):0)}getTimezoneOffset(c){if(this.timezone!=="UTC"){let[t,i,s,o,r=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},c,"en").split(/(GMT|:)/).map(Number),a=-(36e5*(s+r/60));if(Ns(a))return a}return 0}dateFormat(c,t,i){let s=U.defaultOptions?.lang;if(!Ds(t)||isNaN(t))return s?.invalidDate||"";if(rs(c=c??"%Y-%m-%d %H:%M:%S")){let o,r=/%\[([a-zA-Z]+)\]/g;for(;o=r.exec(c);)c=c.replace(o[0],this.dateTimeFormat(o[1],t))}if(rs(c)&&c.indexOf("%")!==-1){let o=this,[r,a,h,d,u,m,p,g]=this.toParts(t),v=s?.weekdays||this.weekdays,y=s?.shortWeekdays||this.shortWeekdays,w=s?.months||this.months,k=s?.shortMonths||this.shortMonths;xn(os({a:y?y[g]:v[g].substr(0,3),A:v[g],d:qe(h),e:qe(h,2," "),w:g,b:k[a],B:w[a],m:qe(a+1),o:a+1,y:r.toString().substr(2,2),Y:r,H:qe(d),k:d,I:qe(d%12||12),l:d%12||12,M:qe(u),p:d<12?"AM":"PM",P:d<12?"am":"pm",S:qe(m),L:qe(p,3)},U.dateFormats),function(b,P){if(rs(c))for(;c.indexOf("%"+P)!==-1;)c=c.replace("%"+P,typeof b=="function"?b.call(o,t):b)})}else if(Ni(c)){let o=(this.getTimezoneOffset(t)||0)/36e5,r=this.timezone||"Etc/GMT"+(o>=0?"+":"")+o,{prefix:a="",suffix:h=""}=c;c=a+this.dateTimeFormat(os({timeZone:r},c),t)+h}return i?Ir(c):c}resolveDTLFormat(c){return Ni(c,!0)?Ni(c,!0)&&xo(c)?{main:c}:c:{main:(c=yo(c))[0],from:c[1],to:c[2]}}getTimeTicks(c,t,i,s){let o=this,r=[],a={},{count:h=1,unitRange:d}=c,[u,m,p,g,v,y]=o.toParts(t),w=(t||0)%1e3,k;if(s??(s=1),Ds(t)){if(w=d>=Ft.second?0:h*Math.floor(w/h),d>=Ft.second&&(y=d>=Ft.minute?0:h*Math.floor(y/h)),d>=Ft.minute&&(v=d>=Ft.hour?0:h*Math.floor(v/h)),d>=Ft.hour&&(g=d>=Ft.day?0:h*Math.floor(g/h)),d>=Ft.day&&(p=d>=Ft.month?1:Math.max(1,h*Math.floor(p/h))),d>=Ft.month&&(m=d>=Ft.year?0:h*Math.floor(m/h)),d>=Ft.year&&(u-=u%h),d===Ft.week){h&&(t=o.makeTime(u,m,p,g,v,y,w));let S=wn(this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},t,"es"));p+=-S+s+(S<s?-7:0)}t=o.makeTime(u,m,p,g,v,y,w),o.variableTimezone&&Ds(i)&&(k=i-t>4*Ft.month||o.getTimezoneOffset(t)!==o.getTimezoneOffset(i));let b=t,P=1;for(;b<i;)r.push(b),d===Ft.year?b=o.makeTime(u+P*h,0):d===Ft.month?b=o.makeTime(u,m+P*h):k&&(d===Ft.day||d===Ft.week)?b=o.makeTime(u,m,p+P*h*(d===Ft.day?1:7)):k&&d===Ft.hour&&h>1?b=o.makeTime(u,m,p,g+P*h):b+=d*h,P++;r.push(b),d<=Ft.hour&&r.length<1e4&&r.forEach(S=>{S%18e5==0&&o.dateFormat("%H%M%S%L",S)==="000000000"&&(a[S]="day")})}return r.info=os(c,{higherRanks:a,totalRange:d*h}),r}getDateFormat(c,t,i,s){let o=this.dateFormat("%m-%d %H:%M:%S.%L",t),r="01-01 00:00:00.000",a={millisecond:15,second:12,minute:9,hour:6,day:3},h="millisecond",d=h;for(h in Ft){if(c===Ft.week&&+this.dateFormat("%w",t)===i&&o.substr(6)===r.substr(6)){h="week";break}if(Ft[h]>c){h=d;break}if(a[h]&&o.substr(a[h])!==r.substr(a[h]))break;h!=="week"&&(d=h)}return this.resolveDTLFormat(s[h]).main}},{isTouchDevice:bo}=U,{fireEvent:wo,merge:zr}=ht,$e={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{locale:void 0,loading:"Loading...",months:void 0,shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:c=>Math.sqrt(1-Math.pow(c-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"Week from %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:bo?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};$e.chart.styledMode=!0,$e.chart.styledMode=!1;let as=new Ln($e.time),ke={defaultOptions:$e,defaultTime:as,getOptions:function(){return $e},setOptions:function(c){return wo(U,"setOptions",{options:c}),zr(!0,$e,c),c.time&&as.update($e.time),c.lang&&"locale"in c.lang&&as.update({locale:c.lang.locale}),$e}},{isNumber:Rs,merge:hs,pInt:fe,defined:Lo}=ht;class Vt{static parse(t){return t?new Vt(t):Vt.None}constructor(t){let i,s,o,r;this.rgba=[NaN,NaN,NaN,NaN],this.input=t;let a=U.Color;if(a&&a!==Vt)return new a(t);if(typeof t=="object"&&t.stops!==void 0)this.stops=t.stops.map(h=>new Vt(h[1]));else if(typeof t=="string")for(this.input=t=Vt.names[t.toLowerCase()]||t,o=Vt.parsers.length;o--&&!s;)(i=(r=Vt.parsers[o]).regex.exec(t))&&(s=r.parse(i));s&&(this.rgba=s)}get(t){let i=this.input,s=this.rgba;if(typeof i=="object"&&this.stops!==void 0){let o=hs(i);return o.stops=[].slice.call(o.stops),this.stops.forEach((r,a)=>{o.stops[a]=[o.stops[a][0],r.get(t)]}),o}return s&&Rs(s[0])?t!=="rgb"&&(t||s[3]!==1)?t==="a"?`${s[3]}`:"rgba("+s.join(",")+")":"rgb("+s[0]+","+s[1]+","+s[2]+")":i}brighten(t){let i=this.rgba;if(this.stops)this.stops.forEach(function(s){s.brighten(t)});else if(Rs(t)&&t!==0)for(let s=0;s<3;s++)i[s]+=fe(255*t),i[s]<0&&(i[s]=0),i[s]>255&&(i[s]=255);return this}setOpacity(t){return this.rgba[3]=t,this}tweenTo(t,i){let s=this.rgba,o=t.rgba;if(!Rs(s[0])||!Rs(o[0]))return t.input||"none";let r=o[3]!==1||s[3]!==1,a=(d,u)=>d+(s[u]-d)*(1-i),h=o.slice(0,3).map(a).map(Math.round);return r&&h.push(a(o[3],3)),(r?"rgba(":"rgb(")+h.join(",")+")"}}Vt.names={white:"#ffffff",black:"#000000"},Vt.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(c){return[fe(c[1]),fe(c[2]),fe(c[3]),parseFloat(c[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(c){return[fe(c[1]),fe(c[2]),fe(c[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(c){return[fe(c[1]+c[1],16),fe(c[2]+c[2],16),fe(c[3]+c[3],16),Lo(c[4])?fe(c[4]+c[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(c){return[fe(c[1],16),fe(c[2],16),fe(c[3],16),Lo(c[4])?fe(c[4],16)/255:1]}}],Vt.None=new Vt("");let{parse:kn}=Vt,{win:ko}=U,{isNumber:Mn,objectEach:Br}=ht;class me{constructor(t,i,s){this.pos=NaN,this.options=i,this.elem=t,this.prop=s}dSetter(){let t=this.paths,i=t&&t[0],s=t&&t[1],o=this.now||0,r=[];if(o!==1&&i&&s)if(i.length===s.length&&o<1)for(let a=0;a<s.length;a++){let h=i[a],d=s[a],u=[];for(let m=0;m<d.length;m++){let p=h[m],g=d[m];Mn(p)&&Mn(g)&&!(d[0]==="A"&&(m===4||m===5))?u[m]=p+o*(g-p):u[m]=g}r.push(u)}else r=s;else r=this.toD||[];this.elem.attr("d",r,void 0,!0)}update(){let t=this.elem,i=this.prop,s=this.now,o=this.options.step;this[i+"Setter"]?this[i+"Setter"]():t.attr?t.element&&t.attr(i,s,null,!0):t.style[i]=s+this.unit,o&&o.call(t,s,this)}run(t,i,s){let o=this,r=o.options,a=function(u){return!a.stopped&&o.step(u)},h=ko.requestAnimationFrame||function(u){setTimeout(u,13)},d=function(){for(let u=0;u<me.timers.length;u++)me.timers[u]()||me.timers.splice(u--,1);me.timers.length&&h(d)};t!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=i,this.unit=s,this.now=this.start,this.pos=0,a.elem=this.elem,a.prop=this.prop,a()&&me.timers.push(a)===1&&h(d)):(delete r.curAnim[this.prop],r.complete&&Object.keys(r.curAnim).length===0&&r.complete.call(this.elem))}step(t){let i,s,o=+new Date,r=this.options,a=this.elem,h=r.complete,d=r.duration,u=r.curAnim;return a.attr&&!a.element?i=!1:t||o>=d+this.startTime?(this.now=this.end,this.pos=1,this.update(),u[this.prop]=!0,s=!0,Br(u,function(m){m!==!0&&(s=!1)}),s&&h&&h.call(a),i=!1):(this.pos=r.easing((o-this.startTime)/d),this.now=this.start+(this.end-this.start)*this.pos,this.update(),i=!0),i}initPath(t,i,s){let o=t.startX,r=t.endX,a=s.slice(),h=t.isArea,d=h?2:1,u=i&&s.length>i.length&&s.hasStackedCliffs,m,p,g,v,y=i&&i.slice();if(!y||u)return[a,a];function w(b,P){for(;b.length<p;){let S=b[0],I=P[p-b.length];if(I&&S[0]==="M"&&(I[0]==="C"?b[0]=["C",S[1],S[2],S[1],S[2],S[1],S[2]]:b[0]=["L",S[1],S[2]]),b.unshift(S),h){let B=b.pop();b.push(b[b.length-1],B)}}}function k(b){for(;b.length<p;){let P=b[Math.floor(b.length/d)-1].slice();if(P[0]==="C"&&(P[1]=P[5],P[2]=P[6]),h){let S=b[Math.floor(b.length/d)].slice();b.splice(b.length/2,0,P,S)}else b.push(P)}}if(o&&r&&r.length){for(g=0;g<o.length;g++){if(o[g]===r[0]){m=g;break}if(o[0]===r[r.length-o.length+g]){m=g,v=!0;break}if(o[o.length-1]===r[r.length-o.length+g]){m=o.length-g;break}}m===void 0&&(y=[])}return y.length&&Mn(m)&&(p=a.length+m*d,v?(w(y,a),k(a)):(w(a,y),k(y))),[y,a]}fillSetter(){me.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,kn(this.start).tweenTo(kn(this.end),this.pos),void 0,!0)}}me.timers=[];let{defined:Dr,getStyle:Nr,isArray:Rr,isNumber:Pn,isObject:Cn,merge:Mo,objectEach:Zr,pick:Wr}=ht;function Se(c){return Cn(c)?Mo({duration:500,defer:0},c):{duration:c?500:0,defer:0}}function lt(c,t){let i=me.timers.length;for(;i--;)me.timers[i].elem!==c||t&&t!==me.timers[i].prop||(me.timers[i].stopped=!0)}let se={animate:function(c,t,i){let s,o="",r,a,h;Cn(i)||(h=arguments,i={duration:h[2],easing:h[3],complete:h[4]}),Pn(i.duration)||(i.duration=400),i.easing=typeof i.easing=="function"?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=Mo(t),Zr(t,function(d,u){lt(c,u),a=new me(c,i,u),r=void 0,u==="d"&&Rr(t.d)?(a.paths=a.initPath(c,c.pathArray,t.d),a.toD=t.d,s=0,r=1):c.attr?s=c.attr(u):(s=parseFloat(Nr(c,u))||0,u!=="opacity"&&(o="px")),r||(r=d),typeof r=="string"&&r.match("px")&&(r=r.replace(/px/g,"")),a.run(s,r,o)})},animObject:Se,getDeferredAnimation:function(c,t,i){let s=Se(t),o=i?[i]:c.series,r=0,a=0;return o.forEach(h=>{let d=Se(h.options.animation);r=Cn(t)&&Dr(t.defer)?s.defer:Math.max(r,d.duration+d.defer),a=Math.min(s.duration,d.duration)}),c.renderer.forExport&&(r=0),{defer:Math.max(0,r-a),duration:Math.min(r,a)}},setAnimation:function(c,t){t.renderer.globalAnimation=Wr(c,t.options.chart.animation,!0)},stop:lt},{SVG_NS:Sn,win:Po}=U,{attr:Co,createElement:Tn,css:So,error:xi,isFunction:To,isString:Ao,objectEach:Oo,splat:Hr}=ht,{trustedTypes:An}=Po,ls=An&&To(An.createPolicy)&&An.createPolicy("highcharts",{createHTML:c=>c}),Fr=ls?ls.createHTML(""):"";class Et{static filterUserAttributes(t){return Oo(t,(i,s)=>{let o=!0;Et.allowedAttributes.indexOf(s)===-1&&(o=!1),["background","dynsrc","href","lowsrc","src"].indexOf(s)!==-1&&(o=Ao(i)&&Et.allowedReferences.some(r=>i.indexOf(r)===0)),o||(xi(33,!1,void 0,{"Invalid attribute in config":`${s}`}),delete t[s]),Ao(i)&&t[s]&&(t[s]=i.replace(/</g,"&lt;"))}),t}static parseStyle(t){return t.split(";").reduce((i,s)=>{let o=s.split(":").map(a=>a.trim()),r=o.shift();return r&&o.length&&(i[r.replace(/-([a-z])/g,a=>a[1].toUpperCase())]=o.join(":")),i},{})}static setElementHTML(t,i){t.innerHTML=Et.emptyHTML,i&&new Et(i).addToDOM(t)}constructor(t){this.nodes=typeof t=="string"?this.parseMarkup(t):t}addToDOM(t){return function i(s,o){let r;return Hr(s).forEach(function(a){let h,d=a.tagName,u=a.textContent?U.doc.createTextNode(a.textContent):void 0,m=Et.bypassHTMLFiltering;if(d)if(d==="#text")h=u;else if(Et.allowedTags.indexOf(d)!==-1||m){let p=d==="svg"?Sn:o.namespaceURI||Sn,g=U.doc.createElementNS(p,d),v=a.attributes||{};Oo(a,function(y,w){w!=="tagName"&&w!=="attributes"&&w!=="children"&&w!=="style"&&w!=="textContent"&&(v[w]=y)}),Co(g,m?v:Et.filterUserAttributes(v)),a.style&&So(g,a.style),u&&g.appendChild(u),i(a.children||[],g),h=g}else xi(33,!1,void 0,{"Invalid tagName in config":d});h&&o.appendChild(h),r=h}),r}(this.nodes,t)}parseMarkup(t){let i,s=[];t=t.trim().replace(/ style=(["'])/g," data-style=$1");try{i=new DOMParser().parseFromString(ls?ls.createHTML(t):t,"text/html")}catch{}if(!i){let r=Tn("div");r.innerHTML=t,i={body:r}}let o=(r,a)=>{let h=r.nodeName.toLowerCase(),d={tagName:h};h==="#text"&&(d.textContent=r.textContent||"");let u=r.attributes;if(u){let m={};[].forEach.call(u,p=>{p.name==="data-style"?d.style=Et.parseStyle(p.value):m[p.name]=p.value}),d.attributes=m}if(r.childNodes.length){let m=[];[].forEach.call(r.childNodes,p=>{o(p,m)}),m.length&&(d.children=m)}a.push(d)};return[].forEach.call(i.body.childNodes,r=>o(r,s)),s}}Et.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Et.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Et.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],Et.emptyHTML=Fr,Et.bypassHTMLFiltering=!1;let{defaultOptions:Eo,defaultTime:Io}=ke,{doc:Gr}=U,{extend:Xr,getNestedProperty:jr,isArray:On,isNumber:Ri,isObject:zo,isString:Bo,pick:ds,ucfirst:St}=ht,Bt={add:(c,t)=>c+t,divide:(c,t)=>t!==0?c/t:"",eq:(c,t)=>c==t,each:function(c){let t=arguments[arguments.length-1];return!!On(c)&&c.map((i,s)=>Ke(t.body,Xr(zo(i)?i:{"@this":i},{"@index":s,"@first":s===0,"@last":s===c.length-1}))).join("")},ge:(c,t)=>c>=t,gt:(c,t)=>c>t,if:c=>!!c,le:(c,t)=>c<=t,lt:(c,t)=>c<t,multiply:(c,t)=>c*t,ne:(c,t)=>c!=t,subtract:(c,t)=>c-t,ucfirst:St,unless:c=>!c},cs={},bi=c=>/^["'].+["']$/.test(c);function Ke(c="",t,i){let s=/\{([\p{L}\d:\.,;\-\/<>\[\]%_@+"'’= #\(\)]+)\}/gu,o=/\(([\p{L}\d:\.,;\-\/<>\[\]%_@+"'= ]+)\)/gu,r=[],a=/f$/,h=/\.(\d)/,d=i?.options.lang||Eo.lang,u=i&&i.time||Io,m=i&&i.numberFormatter||Zs,p=(k="")=>{let b;return k==="true"||k!=="false"&&((b=Number(k)).toString()===k?b:bi(k)?k.slice(1,-1):jr(k,t))},g,v,y=0,w;for(;(g=s.exec(c))!==null;){let k=g,b=o.exec(g[1]);b&&(g=b,w=!0),v&&v.isBlock||(v={ctx:t,expression:g[1],find:g[0],isBlock:g[1].charAt(0)==="#",start:g.index,startInner:g.index+g[0].length,length:g[0].length});let P=(v.isBlock?k:g)[1].split(" ")[0].replace("#","");Bt[P]&&(v.isBlock&&P===v.fn&&y++,v.fn||(v.fn=P));let S=g[1]==="else";if(v.isBlock&&v.fn&&(g[1]===`/${v.fn}`||S))if(y)!S&&y--;else{let I=v.startInner,B=c.substr(I,g.index-I);v.body===void 0?(v.body=B,v.startInner=g.index+g[0].length):v.elseBody=B,v.find+=B+g[0],S||(r.push(v),v=void 0)}else v.isBlock||r.push(v);if(b&&!v?.isBlock)break}return r.forEach(k=>{let b,P,{body:S,elseBody:I,expression:B,fn:z}=k;if(z){let E=[k],D=[],F=B.length,X=0,Y;for(P=0;P<=F;P++){let tt=B.charAt(P);Y||tt!=='"'&&tt!=="'"?Y===tt&&(Y=""):Y=tt,Y||tt!==" "&&P!==F||(D.push(B.substr(X,P-X)),X=P+1)}for(P=Bt[z].length;P--;)E.unshift(p(D[P+1]));b=Bt[z].apply(t,E),k.isBlock&&typeof b=="boolean"&&(b=Ke(b?S:I,t,i))}else{let E=bi(B)?[B]:B.split(":");if(b=p(E.shift()||""),E.length&&typeof b=="number"){let D=E.join(":");if(a.test(D)){let F=parseInt((D.match(h)||["","-1"])[1],10);b!==null&&(b=m(b,F,d.decimalPoint,D.indexOf(",")>-1?d.thousandsSep:""))}else b=u.dateFormat(D,b)}o.lastIndex=0,o.test(k.find)&&Bo(b)&&(b=`"${b}"`)}c=c.replace(k.find,ds(b,""))}),w?Ke(c,t,i):c}function Zs(c,t,i,s){t=+t;let o,r,[a,h]=(c=+c||0).toString().split("e").map(Number),d=this?.options?.lang||Eo.lang,u=(c.toString().split(".")[1]||"").split("e")[0].length,m=t,p={};i??(i=d.decimalPoint),s??(s=d.thousandsSep),t===-1?t=Math.min(u,20):Ri(t)?t&&h<0&&((r=t+h)>=0?(a=+a.toExponential(r).split("e")[0],t=r):(a=Math.floor(a),c=t<20?+(a*Math.pow(10,h)).toFixed(t):0,h=0)):t=2,h&&(t??(t=2),c=a),Ri(t)&&t>=0&&(p.minimumFractionDigits=t,p.maximumFractionDigits=t),s===""&&(p.useGrouping=!1);let g=s||i,v=g?"en":this?.locale||d.locale||Gr.body.closest("[lang]")?.lang,y=JSON.stringify(p)+v;return o=(cs[y]??(cs[y]=new Intl.NumberFormat(v,p))).format(c),g&&(o=o.replace(/\,/g,s??",").replace(".",i??".")),(t||+o!=0)&&(!(h<0)||m)||(o="0"),h&&+o!=0&&(o+="e"+(h<0?"":"+")+h),o}let ut={dateFormat:function(c,t,i){return Io.dateFormat(c,t,i)},format:Ke,helpers:Bt,numberFormat:Zs};(function(c){let t;c.rendererTypes={},c.getRendererType=function(i=t){return c.rendererTypes[i]||c.rendererTypes[t]},c.registerRendererType=function(i,s,o){c.rendererTypes[i]=s,(!t||o)&&(t=i,U.Renderer=s)}})(x||(x={}));let Zt=x,{clamp:En,pick:Ws,pushUnique:Te,stableSort:In}=ht;(C||(C={})).distribute=function c(t,i,s){let o=t,r=o.reducedLen||i,a=(S,I)=>S.target-I.target,h=[],d=t.length,u=[],m=h.push,p,g,v,y=!0,w,k,b=0,P;for(p=d;p--;)b+=t[p].size;if(b>r){for(In(t,(S,I)=>(I.rank||0)-(S.rank||0)),v=(P=t[0].rank===t[t.length-1].rank)?d/2:-1,g=P?v:d-1;v&&b>r;)w=t[p=Math.floor(g)],Te(u,p)&&(b-=w.size),g+=v,P&&g>=t.length&&(v/=2,g=v);u.sort((S,I)=>I-S).forEach(S=>m.apply(h,t.splice(S,1)))}for(In(t,a),t=t.map(S=>({size:S.size,targets:[S.target],align:Ws(S.align,.5)}));y;){for(p=t.length;p--;)w=t[p],k=(Math.min.apply(0,w.targets)+Math.max.apply(0,w.targets))/2,w.pos=En(k-w.size*w.align,0,i-w.size);for(p=t.length,y=!1;p--;)p>0&&t[p-1].pos+t[p-1].size>t[p].pos&&(t[p-1].size+=t[p].size,t[p-1].targets=t[p-1].targets.concat(t[p].targets),t[p-1].align=.5,t[p-1].pos+t[p-1].size>i&&(t[p-1].pos=i-t[p-1].size),t.splice(p,1),y=!0)}return m.apply(o,h),p=0,t.some(S=>{let I=0;return(S.targets||[]).some(()=>(o[p].pos=S.pos+I,s!==void 0&&Math.abs(o[p].pos-o[p].target)>s?(o.slice(0,p+1).forEach(B=>delete B.pos),o.reducedLen=(o.reducedLen||i)-.1*i,o.reducedLen>.1*i&&c(o,i,s),!0):(I+=o[p].size,p++,!1)))}),In(o,a),o};let wi=C,{animate:Li,animObject:Kt,stop:hi}=se,{deg2rad:Zi,doc:Ze,svg:zn,SVG_NS:li,win:Bn,isFirefox:Dn}=U,{addEvent:Hs,attr:us,createElement:Nn,crisp:ki,css:Rn,defined:Ae,erase:Ur,extend:gt,fireEvent:Oe,getAlignFactor:It,isArray:Zn,isFunction:Fs,isNumber:Wn,isObject:Hn,isString:di,merge:ps,objectEach:We,pick:zt,pInt:He,pushUnique:Do,replaceNested:No,syncTimeout:Yr,uniqueKey:Fn}=ht;class qt{_defaultGetter(t){let i=zt(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0);return/^-?[\d\.]+$/.test(i)&&(i=parseFloat(i)),i}_defaultSetter(t,i,s){s.setAttribute(i,t)}add(t){let i,s=this.renderer,o=this.element;return t&&(this.parentGroup=t),this.textStr!==void 0&&this.element.nodeName==="text"&&s.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(i=this.zIndexSetter()),i||(t?t.element:s.box).appendChild(o),this.onAdd&&this.onAdd(),this}addClass(t,i){let s=i?"":this.attr("class")||"";return(t=(t||"").split(/ /g).reduce(function(o,r){return s.indexOf(r)===-1&&o.push(r),o},s?[s]:[]).join(" "))!==s&&this.attr("class",t),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(t,i,s,o=!0){let r={"text-align":t?.align},a=this.renderer,h=a.alignedObjects,d=!!t;t?(this.alignOptions=t,this.alignByTranslate=i,this.alignTo=s):(t=this.alignOptions||{},i=this.alignByTranslate,s=this.alignTo);let u=!s||di(s)?s||"renderer":void 0;u&&(d&&Do(h,this),s=void 0);let m=zt(s,a[u],a),p=(m.x||0)+(t.x||0)+((m.width||0)-(t.width||0))*It(t.align),g=(m.y||0)+(t.y||0)+((m.height||0)-(t.height||0))*It(t.verticalAlign);return r[i?"translateX":"x"]=Math.round(p),r[i?"translateY":"y"]=Math.round(g),o&&(this[this.placed?"animate":"attr"](r),this.placed=!0),this.alignAttr=r,this}alignSetter(t){let i={left:"start",center:"middle",right:"end"};i[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",i[t]))}animate(t,i,s){let o=Kt(zt(i,this.renderer.globalAnimation,!0)),r=o.defer;return Ze.hidden&&(o.duration=0),o.duration!==0?(s&&(o.complete=s),Yr(()=>{this.element&&Li(this,t,o)},r)):(this.attr(t,void 0,s||o.complete),We(t,function(a,h){o.step&&o.step.call(this,a,{prop:h,pos:1,elem:this})},this)),this}applyTextOutline(t){let i=this.element;t.indexOf("contrast")!==-1&&(t=t.replace(/contrast/g,this.renderer.getContrast(i.style.fill)));let s=t.split(" "),o=s[s.length-1],r=s[0];if(r&&r!=="none"&&U.svg){this.fakeTS=!0,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(m,p,g){return 2*Number(p)+g}),this.removeTextOutline();let a=Ze.createElementNS(li,"tspan");us(a,{class:"highcharts-text-outline",fill:o,stroke:o,"stroke-width":r,"stroke-linejoin":"round"});let h=i.querySelector("textPath")||i;[].forEach.call(h.childNodes,m=>{let p=m.cloneNode(!0);p.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(g=>p.removeAttribute(g)),a.appendChild(p)});let d=0;[].forEach.call(h.querySelectorAll("text tspan"),m=>{d+=Number(m.getAttribute("dy"))});let u=Ze.createElementNS(li,"tspan");u.textContent="​",us(u,{x:Number(i.getAttribute("x")),dy:-d}),a.appendChild(u),h.insertBefore(a,h.firstChild)}}attr(t,i,s,o){let{element:r}=this,a=qt.symbolCustomAttribs,h,d,u=this,m;return typeof t=="string"&&i!==void 0&&(h=t,(t={})[h]=i),typeof t=="string"?u=(this[t+"Getter"]||this._defaultGetter).call(this,t,r):(We(t,function(p,g){m=!1,o||hi(this,g),this.symbolName&&a.indexOf(g)!==-1&&(d||(this.symbolAttr(t),d=!0),m=!0),this.rotation&&(g==="x"||g==="y")&&(this.doTransform=!0),m||(this[g+"Setter"]||this._defaultSetter).call(this,p,g,r)},this),this.afterSetters()),s&&s.call(this),u}clip(t){if(t&&!t.clipPath){let i=Fn()+"-",s=this.renderer.createElement("clipPath").attr({id:i}).add(this.renderer.defs);gt(t,{clipPath:s,id:i,count:0}),t.add(s)}return this.attr("clip-path",t?`url(${this.renderer.url}#${t.id})`:"none")}crisp(t,i){i=Math.round(i||t.strokeWidth||0);let s=t.x||this.x||0,o=t.y||this.y||0,r=(t.width||this.width||0)+s,a=(t.height||this.height||0)+o,h=ki(s,i),d=ki(o,i);return gt(t,{x:h,y:d,width:ki(r,i)-h,height:ki(a,i)-d}),Ae(t.strokeWidth)&&(t.strokeWidth=i),t}complexColor(t,i,s){let o=this.renderer,r,a,h,d,u,m,p,g,v,y,w=[],k;Oe(this.renderer,"complexColor",{args:arguments},function(){if(t.radialGradient?a="radialGradient":t.linearGradient&&(a="linearGradient"),a){if(h=t[a],u=o.gradients,m=t.stops,v=s.radialReference,Zn(h)&&(t[a]=h={x1:h[0],y1:h[1],x2:h[2],y2:h[3],gradientUnits:"userSpaceOnUse"}),a==="radialGradient"&&v&&!Ae(h.gradientUnits)&&(d=h,h=ps(h,o.getRadialAttr(v,d),{gradientUnits:"userSpaceOnUse"})),We(h,function(b,P){P!=="id"&&w.push(P,b)}),We(m,function(b){w.push(b)}),u[w=w.join(",")])y=u[w].attr("id");else{h.id=y=Fn();let b=u[w]=o.createElement(a).attr(h).add(o.defs);b.radAttr=d,b.stops=[],m.forEach(function(P){P[1].indexOf("rgba")===0?(p=(r=Vt.parse(P[1])).get("rgb"),g=r.get("a")):(p=P[1],g=1);let S=o.createElement("stop").attr({offset:P[0],"stop-color":p,"stop-opacity":g}).add(b);b.stops.push(S)})}k="url("+o.url+"#"+y+")",s.setAttribute(i,k),s.gradient=w,t.toString=function(){return k}}})}css(t){let i=this.styles,s={},o=this.element,r,a=!i;if(i&&We(t,function(h,d){i&&i[d]!==h&&(s[d]=h,a=!0)}),a){i&&(t=gt(i,s)),t.width===null||t.width==="auto"?delete this.textWidth:o.nodeName.toLowerCase()==="text"&&t.width&&(r=this.textWidth=He(t.width)),gt(this.styles,t),r&&!zn&&this.renderer.forExport&&delete t.width;let h=Dn&&t.fontSize||null;h&&(Wn(h)||/^\d+$/.test(h))&&(t.fontSize+="px");let d=ps(t);o.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(u=>d&&delete d[u]),d.color&&(d.fill=d.color)),Rn(o,d)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),t.textOutline&&this.applyTextOutline(t.textOutline)),this}dashstyleSetter(t){let i,s=this["stroke-width"];if(s==="inherit"&&(s=1),t=t&&t.toLowerCase()){let o=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(i=o.length;i--;)o[i]=""+He(o[i])*zt(s,NaN);t=o.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}}destroy(){let t=this,i=t.element||{},s=t.renderer,o=i.ownerSVGElement,r=i.nodeName==="SPAN"&&t.parentGroup||void 0,a,h;if(i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null,hi(t),t.clipPath&&o){let d=t.clipPath;[].forEach.call(o.querySelectorAll("[clip-path],[CLIP-PATH]"),function(u){u.getAttribute("clip-path").indexOf(d.element.id)>-1&&u.removeAttribute("clip-path")}),t.clipPath=d.destroy()}if(t.connector=t.connector?.destroy(),t.stops){for(h=0;h<t.stops.length;h++)t.stops[h].destroy();t.stops.length=0,t.stops=void 0}for(t.safeRemoveChild(i);r&&r.div&&r.div.childNodes.length===0;)a=r.parentGroup,t.safeRemoveChild(r.div),delete r.div,r=a;t.alignOptions&&Ur(s.alignedObjects,t),We(t,function(d,u){t[u]&&t[u].parentGroup===t&&t[u].destroy&&t[u].destroy(),delete t[u]})}dSetter(t,i,s){Zn(t)&&(typeof t[0]=="string"&&(t=this.renderer.pathToSegments(t)),this.pathArray=t,t=t.reduce((o,r,a)=>r&&r.join?(a?o+" ":"")+r.join(" "):(r||"").toString(),"")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[i]!==t&&(s.setAttribute(i,t),this[i]=t)}fillSetter(t,i,s){typeof t=="string"?s.setAttribute(i,t):t&&this.complexColor(t,i,s)}hrefSetter(t,i,s){s.setAttributeNS("http://www.w3.org/1999/xlink",i,t)}getBBox(t,i){let s,o,r,a,{alignValue:h,element:d,renderer:u,styles:m,textStr:p}=this,{cache:g,cacheKeys:v}=u,y=d.namespaceURI===this.SVG_NS,w=zt(i,this.rotation,0),k=u.styledMode?d&&qt.prototype.getStyle.call(d,"font-size"):m.fontSize;if(Ae(p)&&((a=p.toString()).indexOf("<")===-1&&(a=a.replace(/\d/g,"0")),a+=["",u.rootFontSize,k,w,this.textWidth,h,m.lineClamp,m.textOverflow,m.fontWeight].join(",")),a&&!t&&(s=g[a]),!s||s.polygon){if(y||u.forExport){try{r=this.fakeTS&&function(P){let S=d.querySelector(".highcharts-text-outline");S&&Rn(S,{display:P})},Fs(r)&&r("none"),s=d.getBBox?gt({},d.getBBox()):{width:d.offsetWidth,height:d.offsetHeight,x:0,y:0},Fs(r)&&r("")}catch{}(!s||s.width<0)&&(s={x:0,y:0,width:0,height:0})}else s=this.htmlGetBBox();o=s.height,y&&(s.height=o={"11px,17":14,"13px,20":16}[`${k||""},${Math.round(o)}`]||o),w&&(s=this.getRotatedBox(s,w));let b={bBox:s};Oe(this,"afterGetBBox",b),s=b.bBox}if(a&&(p===""||s.height>0)){for(;v.length>250;)delete g[v.shift()];g[a]||v.push(a),g[a]=s}return s}getRotatedBox(t,i){let{x:s,y:o,width:r,height:a}=t,{alignValue:h,translateY:d,rotationOriginX:u=0,rotationOriginY:m=0}=this,p=It(h),g=Number(this.element.getAttribute("y")||0)-(d?0:o),v=i*Zi,y=(i-90)*Zi,w=Math.cos(v),k=Math.sin(v),b=r*w,P=r*k,S=Math.cos(y),I=Math.sin(y),[[B,z],[E,D]]=[u,m].map(ct=>[ct-ct*w,ct*k]),F=s+p*(r-b)+B+D+g*S,X=F+b,Y=X-a*S,tt=Y-b,et=o+g-p*P-z+E+g*I,ot=et+P,st=ot-a*I,at=st-P,bt=Math.min(F,X,Y,tt),ft=Math.min(et,ot,st,at),mt=Math.max(F,X,Y,tt)-bt,Lt=Math.max(et,ot,st,at)-ft;return{x:bt,y:ft,width:mt,height:Lt,polygon:[[F,et],[X,ot],[Y,st],[tt,at]]}}getStyle(t){return Bn.getComputedStyle(this.element||this,"").getPropertyValue(t)}hasClass(t){return(""+this.attr("class")).split(" ").indexOf(t)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(t,i){this.onEvents={},this.opacity=1,this.SVG_NS=li,this.element=i==="span"||i==="body"?Nn(i):Ze.createElementNS(this.SVG_NS,i),this.renderer=t,this.styles={},Oe(this,"afterInit")}on(t,i){let{onEvents:s}=this;return s[t]&&s[t](),s[t]=Hs(this.element,t,i),this}opacitySetter(t,i,s){let o=Number(Number(t).toFixed(3));this.opacity=o,s.setAttribute(i,o)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(t){return this.attr("class",(""+this.attr("class")).replace(di(t)?RegExp(`(^| )${t}( |$)`):t," ").replace(/ +/g," ").trim())}removeTextOutline(){let t=this.element.querySelector("tspan.highcharts-text-outline");t&&this.safeRemoveChild(t)}safeRemoveChild(t){let i=t.parentNode;i&&i.removeChild(t)}setRadialReference(t){let i=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,i&&i.radAttr&&i.animate(this.renderer.getRadialAttr(t,i.radAttr)),this}shadow(t){let{renderer:i}=this,s=ps(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},Hn(t)?t:{}),o=i.shadowDefinition(s);return this.attr({filter:t?`url(${i.url}#${o})`:"none"})}show(t=!0){return this.attr({visibility:t?"inherit":"visible"})}"stroke-widthSetter"(t,i,s){this[i]=t,s.setAttribute(i,t)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let t=this.getStyle("stroke-width"),i=0,s;return/px$/.test(t)?i=He(t):t!==""&&(us(s=Ze.createElementNS(li,"rect"),{width:t,"stroke-width":0}),this.element.parentNode.appendChild(s),i=s.getBBox().width,s.parentNode.removeChild(s)),i}symbolAttr(t){let i=this;qt.symbolCustomAttribs.forEach(function(s){i[s]=zt(t[s],i[s])}),i.attr({d:i.renderer.symbols[i.symbolName](i.x,i.y,i.width,i.height,i)})}textSetter(t){t!==this.textStr&&(delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(t){let i=this.element,s=i.getElementsByTagName("title")[0]||Ze.createElementNS(this.SVG_NS,"title");i.insertBefore?i.insertBefore(s,i.firstChild):i.appendChild(s),s.textContent=No(zt(t,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let t=this.element;return t.parentNode.appendChild(t),this}translate(t,i){return this.attr({translateX:t,translateY:i})}updateTransform(t="transform"){let{element:i,matrix:s,rotation:o=0,rotationOriginX:r,rotationOriginY:a,scaleX:h,scaleY:d,translateX:u=0,translateY:m=0}=this,p=["translate("+u+","+m+")"];Ae(s)&&p.push("matrix("+s.join(",")+")"),o&&(p.push("rotate("+o+" "+zt(r,i.getAttribute("x"),0)+" "+zt(a,i.getAttribute("y")||0)+")"),this.text?.element.tagName==="SPAN"&&this.text.attr({rotation:o,rotationOriginX:(r||0)-this.padding,rotationOriginY:(a||0)-this.padding})),(Ae(h)||Ae(d))&&p.push("scale("+zt(h,1)+" "+zt(d,1)+")"),p.length&&!(this.text||this).textPath&&i.setAttribute(t,p.join(" "))}visibilitySetter(t,i,s){t==="inherit"?s.removeAttribute(i):this[i]!==t&&s.setAttribute(i,t),this[i]=t}xGetter(t){return this.element.nodeName==="circle"&&(t==="x"?t="cx":t==="y"&&(t="cy")),this._defaultGetter(t)}zIndexSetter(t,i){let s=this.renderer,o=this.parentGroup,r=(o||s).element||s.box,a=this.element,h=r===s.box,d,u,m,p=!1,g,v=this.added,y;if(Ae(t)?(a.setAttribute("data-z-index",t),t=+t,this[i]===t&&(v=!1)):Ae(this[i])&&a.removeAttribute("data-z-index"),this[i]=t,v){for((t=this.zIndex)&&o&&(o.handleZ=!0),y=(d=r.childNodes).length-1;y>=0&&!p;y--)g=!Ae(m=(u=d[y]).getAttribute("data-z-index")),u!==a&&(t<0&&g&&!h&&!y?(r.insertBefore(a,d[y]),p=!0):(He(m)<=t||g&&(!Ae(t)||t>=0))&&(r.insertBefore(a,d[y+1]),p=!0));p||(r.insertBefore(a,d[h?3:0]),p=!0)}return p}}qt.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],qt.prototype.strokeSetter=qt.prototype.fillSetter,qt.prototype.yGetter=qt.prototype.xGetter,qt.prototype.matrixSetter=qt.prototype.rotationOriginXSetter=qt.prototype.rotationOriginYSetter=qt.prototype.rotationSetter=qt.prototype.scaleXSetter=qt.prototype.scaleYSetter=qt.prototype.translateXSetter=qt.prototype.translateYSetter=qt.prototype.verticalAlignSetter=function(c,t){this[t]=c,this.doTransform=!0};let Fe=qt,{defined:Gn,extend:Pt,getAlignFactor:Ro,isNumber:ge,merge:fs,pick:ms,removeEvent:Zo}=ht;class Je extends Fe{constructor(t,i,s,o,r,a,h,d,u,m){let p;super(t,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=i,this.x=s,this.y=o,this.anchorX=a,this.anchorY=h,this.baseline=u,this.className=m,this.addClass(m==="button"?"highcharts-no-tooltip":"highcharts-label"),m&&this.addClass("highcharts-"+m),this.text=t.text(void 0,0,0,d).attr({zIndex:1}),typeof r=="string"&&((p=/^url\((.*?)\)$/.test(r))||this.renderer.symbols[r])&&(this.symbolKey=r),this.bBox=Je.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=t.styledMode||p,this.deferredAttr={},this.alignFactor=0}alignSetter(t){let i=Ro(t);this.textAlign=t,i!==this.alignFactor&&(this.alignFactor=i,this.bBox&&ge(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(t,i){this.anchorX=t,this.boxAttr(i,Math.round(t)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(t,i){this.anchorY=t,this.boxAttr(i,t-this.ySetting)}boxAttr(t,i){this.box?this.box.attr(t,i):this.deferredAttr[t]=i}css(t){if(t){let i={};t=fs(t),Je.textProps.forEach(s=>{t[s]!==void 0&&(i[s]=t[s],delete t[s])}),this.text.css(i),"fontSize"in i||"fontWeight"in i?this.updateTextPadding():("width"in i||"textOverflow"in i)&&this.updateBoxSize()}return Fe.prototype.css.call(this,t)}destroy(){Zo(this.element,"mouseenter"),Zo(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Fe.prototype.destroy.call(this)}fillSetter(t,i){t&&(this.needsBox=!0),this.fill=t,this.boxAttr(i,t)}getBBox(t,i){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:s,height:o=0,translateX:r=0,translateY:a=0,width:h=0}=this,d=ms(this.paddingLeft,s),u=i??(this.rotation||0),m={width:h,height:o,x:r+this.bBox.x-d,y:a+this.bBox.y-s+this.baselineOffset};return u&&(m=this.getRotatedBox(m,u)),m}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(t){this.heightSetting=t,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:ms(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&Gn(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(t,i){ge(t)?t!==this[i]&&(this[i]=t,this.updateTextPadding()):this[i]=void 0}rSetter(t,i){this.boxAttr(i,t)}strokeSetter(t,i){this.stroke=t,this.boxAttr(i,t)}"stroke-widthSetter"(t,i){t&&(this.needsBox=!0),this["stroke-width"]=t,this.boxAttr(i,t)}"text-alignSetter"(t){this.textAlign=t,this.updateTextPadding()}textSetter(t){t!==void 0&&this.text.attr({text:t}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let t,i=this.text,s={},o=this.padding,r=this.bBox=(!ge(this.widthSetting)||!ge(this.heightSetting)||this.textAlign)&&Gn(i.textStr)?i.getBBox(void 0,0):Je.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||r.height||0)+2*o;let a=this.renderer.fontMetrics(i);if(this.baselineOffset=o+Math.min((this.text.firstLineMetrics||a).b,r.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-a.h)/2),this.needsBox&&!i.textPath){if(!this.box){let h=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();h.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),h.add(this)}t=this.getCrispAdjust(),s.x=t,s.y=(this.baseline?-this.baselineOffset:0)+t,s.width=Math.round(this.width),s.height=Math.round(this.height),this.box.attr(Pt(s,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let t=this.text,i=t.styles.textAlign||this.textAlign;if(!t.textPath){this.updateBoxSize();let s=this.baseline?0:this.baselineOffset,o=(this.paddingLeft??this.padding)+Ro(i)*(this.widthSetting??this.bBox.width);(o!==t.x||s!==t.y)&&(t.attr({align:i,x:o}),s!==void 0&&t.attr("y",s)),t.x=o,t.y=s}}widthSetter(t){this.widthSetting=ge(t)?t:void 0,this.doUpdate=!0}getPaddedWidth(){let t=this.padding,i=ms(this.paddingLeft,t),s=ms(this.paddingRight,t);return(this.widthSetting||this.bBox.width||0)+i+s}xSetter(t){this.x=t,this.alignFactor&&(t-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(t),this.attr("translateX",this.xSetting)}ySetter(t){this.ySetting=this.y=Math.round(t),this.attr("translateY",this.ySetting)}}Je.emptyBBox={width:0,height:0,x:0,y:0},Je.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:Wo,isNumber:Ho,pick:gs}=ht;function Fo(c,t,i,s,o){let r=[];if(o){let a=o.start||0,h=gs(o.r,i),d=gs(o.r,s||i),u=2e-4/(o.borderRadius?1:Math.max(h,1)),m=Math.abs((o.end||0)-a-2*Math.PI)<u,p=(o.end||0)-(m?u:0),g=o.innerR,v=gs(o.open,m),y=Math.cos(a),w=Math.sin(a),k=Math.cos(p),b=Math.sin(p),P=gs(o.longArc,p-a-Math.PI<u?0:1),S=["A",h,d,0,P,gs(o.clockwise,1),c+h*k,t+d*b];S.params={start:a,end:p,cx:c,cy:t},r.push(["M",c+h*y,t+d*w],S),Wo(g)&&((S=["A",g,g,0,P,Wo(o.clockwise)?1-o.clockwise:0,c+g*y,t+g*w]).params={start:p,end:a,cx:c,cy:t},r.push(v?["M",c+g*k,t+g*b]:["L",c+g*k,t+g*b],S)),v||r.push(["Z"])}return r}function Gs(c,t,i,s,o){return o&&o.r?Xn(c,t,i,s,o):[["M",c,t],["L",c+i,t],["L",c+i,t+s],["L",c,t+s],["Z"]]}function Xn(c,t,i,s,o){let r=o?.r||0;return[["M",c+r,t],["L",c+i-r,t],["A",r,r,0,0,1,c+i,t+r],["L",c+i,t+s-r],["A",r,r,0,0,1,c+i-r,t+s],["L",c+r,t+s],["A",r,r,0,0,1,c,t+s-r],["L",c,t+r],["A",r,r,0,0,1,c+r,t],["Z"]]}let Be={arc:Fo,callout:function(c,t,i,s,o){let r=Math.min(o&&o.r||0,i,s),a=r+6,h=o&&o.anchorX,d=o&&o.anchorY||0,u=Xn(c,t,i,s,{r});if(!Ho(h)||h<i&&h>0&&d<s&&d>0)return u;if(c+h>i-a)if(d>t+a&&d<t+s-a)u.splice(3,1,["L",c+i,d-6],["L",c+i+6,d],["L",c+i,d+6],["L",c+i,t+s-r]);else if(h<i){let m=d<t+a,p=m?t:t+s;u.splice(m?2:5,0,["L",h,d],["L",c+i-r,p])}else u.splice(3,1,["L",c+i,s/2],["L",h,d],["L",c+i,s/2],["L",c+i,t+s-r]);else if(c+h<a)if(d>t+a&&d<t+s-a)u.splice(7,1,["L",c,d+6],["L",c-6,d],["L",c,d-6],["L",c,t+r]);else if(h>0){let m=d<t+a,p=m?t:t+s;u.splice(m?1:6,0,["L",h,d],["L",c+r,p])}else u.splice(7,1,["L",c,s/2],["L",h,d],["L",c,s/2],["L",c,t+r]);else d>s&&h<i-a?u.splice(5,1,["L",h+6,t+s],["L",h,t+s+6],["L",h-6,t+s],["L",c+r,t+s]):d<0&&h>a&&u.splice(1,1,["L",h-6,t],["L",h,t-6],["L",h+6,t],["L",i-r,t]);return u},circle:function(c,t,i,s){return Fo(c+i/2,t+s/2,i/2,s/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(c,t,i,s){return[["M",c+i/2,t],["L",c+i,t+s/2],["L",c+i/2,t+s],["L",c,t+s/2],["Z"]]},rect:Gs,roundedRect:Xn,square:Gs,triangle:function(c,t,i,s){return[["M",c+i/2,t],["L",c+i,t+s],["L",c,t+s],["Z"]]},"triangle-down":function(c,t,i,s){return[["M",c,t],["L",c+i,t],["L",c+i/2,t+s],["Z"]]}},{doc:jn,SVG_NS:Go,win:Qe}=U,{attr:Xs,extend:Xo,fireEvent:Un,isString:Vr,objectEach:jo,pick:Uo}=ht,Yn=(c,t)=>c.substring(0,t)+"…",qr=class{constructor(c){let t=c.styles;this.renderer=c.renderer,this.svgElement=c,this.width=c.textWidth,this.textLineHeight=t&&t.lineHeight,this.textOutline=t&&t.textOutline,this.ellipsis=!!(t&&t.textOverflow==="ellipsis"),this.lineClamp=t?.lineClamp,this.noWrap=!!(t&&t.whiteSpace==="nowrap")}buildSVG(){let c=this.svgElement,t=c.element,i=c.renderer,s=Uo(c.textStr,"").toString(),o=s.indexOf("<")!==-1,r=t.childNodes,a=!c.added&&i.box,h=[s,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,c.getStyle("font-size"),c.styles.lineClamp,this.width].join(",");if(h!==c.textCache){c.textCache=h,delete c.actualWidth;for(let d=r.length;d--;)t.removeChild(r[d]);if(o||this.ellipsis||this.width||c.textPath||s.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(s))){if(s!==""){a&&a.appendChild(t);let d=new Et(s);this.modifyTree(d.nodes),d.addToDOM(t),this.modifyDOM(),this.ellipsis&&(t.textContent||"").indexOf("…")!==-1&&c.attr("title",this.unescapeEntities(c.textStr||"",["&lt;","&gt;"])),a&&a.removeChild(t)}}else t.appendChild(jn.createTextNode(this.unescapeEntities(s)));Vr(this.textOutline)&&c.applyTextOutline&&c.applyTextOutline(this.textOutline)}}modifyDOM(){let c,t=this.svgElement,i=Xs(t.element,"x");for(t.firstLineMetrics=void 0;(c=t.element.firstChild)&&/^[\s\u200B]*$/.test(c.textContent||" ");)t.element.removeChild(c);[].forEach.call(t.element.querySelectorAll("tspan.highcharts-br"),(a,h)=>{a.nextSibling&&a.previousSibling&&(h===0&&a.previousSibling.nodeType===1&&(t.firstLineMetrics=t.renderer.fontMetrics(a.previousSibling)),Xs(a,{dy:this.getLineHeight(a.nextSibling),x:i}))});let s=this.width||0;if(!s)return;let o=(a,h)=>{let d=a.textContent||"",u=d.replace(/([^\^])-/g,"$1- ").split(" "),m=!this.noWrap&&(u.length>1||t.element.childNodes.length>1),p=this.getLineHeight(h),g=Math.max(0,s-.8*p),v=0,y=t.actualWidth;if(m){let w=[],k=[];for(;h.firstChild&&h.firstChild!==a;)k.push(h.firstChild),h.removeChild(h.firstChild);for(;u.length;)if(u.length&&!this.noWrap&&v>0&&(w.push(a.textContent||""),a.textContent=u.join(" ").replace(/- /g,"-")),this.truncate(a,void 0,u,v===0&&y||0,s,g,(b,P)=>u.slice(0,P).join(" ").replace(/- /g,"-")),y=t.actualWidth,v++,this.lineClamp&&v>=this.lineClamp){u.length&&(this.truncate(a,a.textContent||"",void 0,0,s,g,Yn),a.textContent=a.textContent?.replace("…","")+"…");break}k.forEach(b=>{h.insertBefore(b,a)}),w.forEach(b=>{h.insertBefore(jn.createTextNode(b),a);let P=jn.createElementNS(Go,"tspan");P.textContent="​",Xs(P,{dy:p,x:i}),h.insertBefore(P,a)})}else this.ellipsis&&d&&this.truncate(a,d,void 0,0,s,g,Yn)},r=a=>{[].slice.call(a.childNodes).forEach(h=>{h.nodeType===Qe.Node.TEXT_NODE?o(h,a):(h.className.baseVal.indexOf("highcharts-br")!==-1&&(t.actualWidth=0),r(h))})};r(t.element)}getLineHeight(c){let t=c.nodeType===Qe.Node.TEXT_NODE?c.parentElement:c;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(t||this.svgElement.element).h}modifyTree(c){let t=(i,s)=>{let{attributes:o={},children:r,style:a={},tagName:h}=i,d=this.renderer.styledMode;if(h==="b"||h==="strong"?d?o.class="highcharts-strong":a.fontWeight="bold":(h==="i"||h==="em")&&(d?o.class="highcharts-emphasized":a.fontStyle="italic"),a&&a.color&&(a.fill=a.color),h==="br"){o.class="highcharts-br",i.textContent="​";let u=c[s+1];u&&u.textContent&&(u.textContent=u.textContent.replace(/^ +/gm,""))}else h==="a"&&r&&r.some(u=>u.tagName==="#text")&&(i.children=[{children:r,tagName:"tspan"}]);h!=="#text"&&h!=="a"&&(i.tagName="tspan"),Xo(i,{attributes:o,style:a}),r&&r.filter(u=>u.tagName!=="#text").forEach(t)};c.forEach(t),Un(this.svgElement,"afterModifyTree",{nodes:c})}truncate(c,t,i,s,o,r,a){let h,d,u=this.svgElement,{rotation:m}=u,p=[],g=i&&!s?1:0,v=(t||i||"").length,y=v;i||(o=r);let w=function(k,b){let P=b||k,S=c.parentNode;if(S&&p[P]===void 0&&S.getSubStringLength)try{p[P]=s+S.getSubStringLength(0,i?P+1:P)}catch{}return p[P]};if(u.rotation=0,s+(d=w(c.textContent.length))>o){for(;g<=v;)y=Math.ceil((g+v)/2),i&&(h=a(i,y)),d=w(y,h&&h.length-1),g===v?g=v+1:d>o?v=y-1:g=y;v===0?c.textContent="":t&&v===t.length-1||(c.textContent=h||a(t||i,y)),this.ellipsis&&d>o&&this.truncate(c,c.textContent||"",void 0,0,o,r,Yn)}i&&i.splice(0,y),u.actualWidth=d,u.rotation=m}unescapeEntities(c,t){return jo(this.renderer.escapes,function(i,s){t&&t.indexOf(i)!==-1||(c=c.toString().replace(RegExp(i,"g"),s))}),c}},{defaultOptions:Vn}=ke,{charts:$r,deg2rad:qn,doc:Mi,isFirefox:_s,isMS:ci,isWebKit:Kr,noop:vs,SVG_NS:Ee,symbolSizes:Wi,win:js}=U,{addEvent:Us,attr:Hi,createElement:$n,crisp:Yo,css:Ys,defined:ui,destroyObjectProperties:Jr,extend:he,isArray:Fi,isNumber:ys,isObject:Me,isString:Qr,merge:pi,pick:Kn,pInt:xs,replaceNested:Vo,uniqueKey:Vs}=ht;class qs{constructor(t,i,s,o,r,a,h){let d,u,m=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),p=m.element;h||m.css(this.getStyle(o||{})),t.appendChild(p),Hi(t,"dir","ltr"),t.innerHTML.indexOf("xmlns")===-1&&Hi(p,"xmlns",this.SVG_NS),this.box=p,this.boxWrapper=m,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(Mi.createTextNode("Created with Highcharts 12.1.0")),this.defs=this.createElement("defs").add(),this.allowHTML=a,this.forExport=r,this.styledMode=h,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=m.getStyle("font-size"),this.setSize(i,s,!1),_s&&t.getBoundingClientRect&&((d=function(){Ys(t,{left:0,top:0}),u=t.getBoundingClientRect(),Ys(t,{left:Math.ceil(u.left)-u.left+"px",top:Math.ceil(u.top)-u.top+"px"})})(),this.unSubPixelFix=Us(js,"resize",d))}definition(t){return new Et([t]).addToDOM(this.defs.element)}getReferenceURL(){if((_s||Kr)&&Mi.getElementsByTagName("base").length){if(!ui($)){let t=Vs(),i=new Et([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:t},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${t})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(Mi.body);Ys(i,{position:"fixed",top:0,left:0,zIndex:9e5});let s=Mi.elementFromPoint(6,6);$=(s&&s.id)==="hitme",Mi.body.removeChild(i)}if($)return Vo(js.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(t){return this.style=he({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},t),this.style}setStyle(t){this.boxWrapper.css(this.getStyle(t))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Jr(this.gradients||{}),this.gradients=null,this.defs=t.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(t){return new this.Element(this,t)}getRadialAttr(t,i){return{cx:t[0]-t[2]/2+(i.cx||0)*t[2],cy:t[1]-t[2]/2+(i.cy||0)*t[2],r:(i.r||0)*t[2]}}shadowDefinition(t){let i=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(t).map(o=>`${o}-${t[o]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),s=pi({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},t);return this.defs.element.querySelector(`#${i}`)||this.definition({tagName:"filter",attributes:{id:i,filterUnits:s.filterUnits},children:this.getShadowFilterContent(s)}),i}getShadowFilterContent(t){return[{tagName:"feDropShadow",attributes:{dx:t.offsetX,dy:t.offsetY,"flood-color":t.color,"flood-opacity":Math.min(5*t.opacity,1),stdDeviation:t.width/2}}]}buildText(t){new qr(t).buildSVG()}getContrast(t){let i=Vt.parse(t).rgba.map(o=>{let r=o/255;return r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}),s=.2126*i[0]+.7152*i[1]+.0722*i[2];return 1.05/(s+.05)>(s+.05)/.05?"#FFFFFF":"#000000"}button(t,i,s,o,r={},a,h,d,u,m){let p=this.label(t,i,s,u,void 0,void 0,m,void 0,"button"),g=this.styledMode,v=arguments,y=0;r=pi(Vn.global.buttonTheme,r),g&&(delete r.fill,delete r.stroke,delete r["stroke-width"]);let w=r.states||{},k=r.style||{};delete r.states,delete r.style;let b=[Et.filterUserAttributes(r)],P=[k];return g||["hover","select","disabled"].forEach((S,I)=>{b.push(pi(b[0],Et.filterUserAttributes(v[I+5]||w[S]||{}))),P.push(b[I+1].style),delete b[I+1].style}),Us(p.element,ci?"mouseover":"mouseenter",function(){y!==3&&p.setState(1)}),Us(p.element,ci?"mouseout":"mouseleave",function(){y!==3&&p.setState(y)}),p.setState=(S=0)=>{if(S!==1&&(p.state=y=S),p.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][S]),!g){p.attr(b[S]);let I=P[S];Me(I)&&p.css(I)}},p.attr(b[0]),!g&&(p.css(he({cursor:"default"},k)),m&&p.text.css({pointerEvents:"none"})),p.on("touchstart",S=>S.stopPropagation()).on("click",function(S){y!==3&&o.call(p,S)})}crispLine(t,i){let[s,o]=t;return ui(s[1])&&s[1]===o[1]&&(s[1]=o[1]=Yo(s[1],i)),ui(s[2])&&s[2]===o[2]&&(s[2]=o[2]=Yo(s[2],i)),t}path(t){let i=this.styledMode?{}:{fill:"none"};return Fi(t)?i.d=t:Me(t)&&he(i,t),this.createElement("path").attr(i)}circle(t,i,s){let o=Me(t)?t:t===void 0?{}:{x:t,y:i,r:s},r=this.createElement("circle");return r.xSetter=r.ySetter=function(a,h,d){d.setAttribute("c"+h,a)},r.attr(o)}arc(t,i,s,o,r,a){let h;Me(t)?(i=(h=t).y,s=h.r,o=h.innerR,r=h.start,a=h.end,t=h.x):h={innerR:o,start:r,end:a};let d=this.symbol("arc",t,i,s,s,h);return d.r=s,d}rect(t,i,s,o,r,a){let h=Me(t)?t:t===void 0?{}:{x:t,y:i,r,width:Math.max(s||0,0),height:Math.max(o||0,0)},d=this.createElement("rect");return this.styledMode||(a!==void 0&&(h["stroke-width"]=a,he(h,d.crisp(h))),h.fill="none"),d.rSetter=function(u,m,p){d.r=u,Hi(p,{rx:u,ry:u})},d.rGetter=function(){return d.r||0},d.attr(h)}roundedRect(t){return this.symbol("roundedRect").attr(t)}setSize(t,i,s){this.width=t,this.height=i,this.boxWrapper.animate({width:t,height:i},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:Kn(s,!0)?void 0:0}),this.alignElements()}g(t){let i=this.createElement("g");return t?i.attr({class:"highcharts-"+t}):i}image(t,i,s,o,r,a){let h={preserveAspectRatio:"none"};ys(i)&&(h.x=i),ys(s)&&(h.y=s),ys(o)&&(h.width=o),ys(r)&&(h.height=r);let d=this.createElement("image").attr(h),u=function(m){d.attr({href:t}),a.call(d,m)};if(a){d.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let m=new js.Image;Us(m,"load",u),m.src=t,m.complete&&u({})}else d.attr({href:t});return d}symbol(t,i,s,o,r,a){let h,d,u,m,p=this,g=/^url\((.*?)\)$/,v=g.test(t),y=!v&&(this.symbols[t]?t:"circle"),w=y&&this.symbols[y];if(w)typeof i=="number"&&(d=w.call(this.symbols,i||0,s||0,o||0,r||0,a)),h=this.path(d),p.styledMode||h.attr("fill","none"),he(h,{symbolName:y||void 0,x:i,y:s,width:o,height:r}),a&&he(h,a);else if(v){u=t.match(g)[1];let k=h=this.image(u);k.imgwidth=Kn(a&&a.width,Wi[u]&&Wi[u].width),k.imgheight=Kn(a&&a.height,Wi[u]&&Wi[u].height),m=b=>b.attr({width:b.width,height:b.height}),["width","height"].forEach(b=>{k[`${b}Setter`]=function(P,S){this[S]=P;let{alignByTranslate:I,element:B,width:z,height:E,imgwidth:D,imgheight:F}=this,X=S==="width"?D:F,Y=1;a&&a.backgroundSize==="within"&&z&&E&&D&&F?(Y=Math.min(z/D,E/F),Hi(B,{width:Math.round(D*Y),height:Math.round(F*Y)})):B&&X&&B.setAttribute(S,X),!I&&D&&F&&this.translate(((z||0)-D*Y)/2,((E||0)-F*Y)/2)}}),ui(i)&&k.attr({x:i,y:s}),k.isImg=!0,k.symbolUrl=t,ui(k.imgwidth)&&ui(k.imgheight)?m(k):(k.attr({width:0,height:0}),$n("img",{onload:function(){let b=$r[p.chartIndex];this.width===0&&(Ys(this,{position:"absolute",top:"-999em"}),Mi.body.appendChild(this)),Wi[u]={width:this.width,height:this.height},k.imgwidth=this.width,k.imgheight=this.height,k.element&&m(k),this.parentNode&&this.parentNode.removeChild(this),p.imgCount--,p.imgCount||!b||b.hasLoaded||b.onload()},src:u}),this.imgCount++)}return h}clipRect(t,i,s,o){return this.rect(t,i,s,o,0)}text(t,i,s,o){let r={};if(o&&(this.allowHTML||!this.forExport))return this.html(t,i,s);r.x=Math.round(i||0),s&&(r.y=Math.round(s)),ui(t)&&(r.text=t);let a=this.createElement("text").attr(r);return o&&(!this.forExport||this.allowHTML)||(a.xSetter=function(h,d,u){let m=u.getElementsByTagName("tspan"),p=u.getAttribute(d);for(let g=0,v;g<m.length;g++)(v=m[g]).getAttribute(d)===p&&v.setAttribute(d,h);u.setAttribute(d,h)}),a}fontMetrics(t){let i=xs(Fe.prototype.getStyle.call(t,"font-size")||0),s=i<24?i+3:Math.round(1.2*i),o=Math.round(.8*s);return{h:s,b:o,f:i}}rotCorr(t,i,s){let o=t;return i&&s&&(o=Math.max(o*Math.cos(i*qn),4)),{x:-t/3*Math.sin(i*qn),y:o}}pathToSegments(t){let i=[],s=[],o={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let r=0;r<t.length;r++)Qr(s[0])&&ys(t[r])&&s.length===o[s[0].toUpperCase()]&&t.splice(r,0,s[0].replace("M","L").replace("m","l")),typeof t[r]=="string"&&(s.length&&i.push(s.slice(0)),s.length=0),s.push(t[r]);return i.push(s.slice(0)),i}label(t,i,s,o,r,a,h,d,u){return new Je(this,t,i,s,o,r,a,h,d,u)}alignElements(){this.alignedObjects.forEach(t=>t.align())}}he(qs.prototype,{Element:Fe,SVG_NS:Ee,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:Be,draw:vs}),Zt.registerRendererType("svg",qs,!0);let{composed:fi}=U,{attr:$s,css:Gi,createElement:Jn,defined:qo,extend:ti,getAlignFactor:ta,isNumber:Xi,pInt:ea,pushUnique:ei}=ht;function bs(c,t,i){let s=this.div?.style||i.style;Fe.prototype[`${t}Setter`].call(this,c,t,i),s&&(s[t]=c)}let $o=(c,t)=>{if(!c.div){let i=$s(c.element,"class"),s=c.css,o=Jn("div",i?{className:i}:void 0,{position:"absolute",left:`${c.translateX||0}px`,top:`${c.translateY||0}px`,...c.styles,display:c.display,opacity:c.opacity,visibility:c.visibility},c.parentGroup?.div||t);c.classSetter=(r,a,h)=>{h.setAttribute("class",r),o.className=r},c.translateXSetter=c.translateYSetter=(r,a)=>{c[a]=r,o.style[a==="translateX"?"left":"top"]=`${r}px`,c.doTransform=!0},c.opacitySetter=c.visibilitySetter=bs,c.css=r=>(s.call(c,r),r.cursor&&(o.style.cursor=r.cursor),r.pointerEvents&&(o.style.pointerEvents=r.pointerEvents),c),c.on=function(){return Fe.prototype.on.apply({element:o,onEvents:c.onEvents},arguments),c},c.div=o}return c.div};class Pi extends Fe{static compose(t){ei(fi,this.compose)&&(t.prototype.html=function(i,s,o){return new Pi(this,"span").attr({text:i,x:Math.round(s),y:Math.round(o)})})}constructor(t,i){super(t,i),this.css({position:"absolute",...t.styledMode?{}:{fontFamily:t.style.fontFamily,fontSize:t.style.fontSize}})}getSpanCorrection(t,i,s){this.xCorr=-t*s,this.yCorr=-i}css(t){let i,{element:s}=this,o=s.tagName==="SPAN"&&t&&"width"in t,r=o&&t.width;return o&&(delete t.width,this.textWidth=ea(r)||void 0,i=!0),t?.textOverflow==="ellipsis"&&(t.overflow="hidden"),t?.lineClamp&&(t.display="-webkit-box",t.WebkitLineClamp=t.lineClamp,t.WebkitBoxOrient="vertical",t.overflow="hidden"),Xi(Number(t?.fontSize))&&(t.fontSize=t.fontSize+"px"),ti(this.styles,t),Gi(s,t),i&&this.updateTransform(),this}htmlGetBBox(){let{element:t}=this;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:t,renderer:i,rotation:s,rotationOriginX:o,rotationOriginY:r,scaleX:a,scaleY:h,styles:d,textAlign:u="left",textWidth:m,translateX:p=0,translateY:g=0,x:v=0,y=0}=this,{display:w="block",whiteSpace:k}=d;if(Gi(t,{marginLeft:`${p}px`,marginTop:`${g}px`}),t.tagName==="SPAN"){let b,P=[s,u,t.innerHTML,m,this.textAlign].join(","),S=-(this.parentGroup?.padding*1)||0;if(m!==this.oldTextWidth){let E=this.textPxLength?this.textPxLength:(Gi(t,{width:"",whiteSpace:k||"nowrap"}),t.offsetWidth),D=m||0;(D>this.oldTextWidth||E>D)&&(/[ \-]/.test(t.textContent||t.innerText)||t.style.textOverflow==="ellipsis")&&(Gi(t,{width:E>D||s||a?m+"px":"auto",display:w,whiteSpace:k||"normal"}),this.oldTextWidth=m)}P!==this.cTT&&(b=i.fontMetrics(t).b,qo(s)&&(s!==(this.oldRotation||0)||u!==this.oldAlign)&&this.setSpanRotation(s,S,S),this.getSpanCorrection(!qo(s)&&!this.textWidth&&this.textPxLength||t.offsetWidth,b,ta(u)));let{xCorr:I=0,yCorr:B=0}=this,z={left:`${v+I}px`,top:`${y+B}px`,textAlign:u,transformOrigin:`${(o??v)-I-v-S}px ${(r??y)-B-y-S}px`};(a||h)&&(z.transform=`scale(${a??1},${h??1})`),Gi(t,z),this.cTT=P,this.oldRotation=s,this.oldAlign=u}}setSpanRotation(t,i,s){Gi(this.element,{transform:`rotate(${t}deg)`,transformOrigin:`${i}% ${s}px`})}add(t){let i,s=this.renderer.box.parentNode,o=[];if(this.parentGroup=t,t&&!(i=t.div)){let r=t;for(;r;)o.push(r),r=r.parentGroup;for(let a of o.reverse())i=$o(a,s)}return(i||s).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(t){t!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Et.setElementHTML(this.element,t??""),this.textStr=t,this.doTransform=!0)}alignSetter(t){this.alignValue=this.textAlign=t,this.doTransform=!0}xSetter(t,i){this[i]=t,this.doTransform=!0}}let Ge=Pi.prototype;Ge.visibilitySetter=Ge.opacitySetter=bs,Ge.ySetter=Ge.rotationSetter=Ge.rotationOriginXSetter=Ge.rotationOriginYSetter=Ge.xSetter,function(c){c.xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},c.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:t}=this.axis.chart;return t(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0}}(T||(T={}));let Qn=T,{addEvent:Ks,isFunction:ji,objectEach:Js,removeEvent:to}=ht;(O||(O={})).registerEventOptions=function(c,t){c.eventOptions=c.eventOptions||{},Js(t.events,function(i,s){c.eventOptions[s]!==i&&(c.eventOptions[s]&&(to(c,s,c.eventOptions[s]),delete c.eventOptions[s]),ji(i)&&(c.eventOptions[s]=i,Ks(c,s,i,{order:0})))})};let ws=O,{deg2rad:eo}=U,{clamp:Qs,correctFloat:tn,defined:en,destroyObjectProperties:ia,extend:io,fireEvent:Ls,getAlignFactor:Xe,isNumber:Ci,merge:sa,objectEach:sn,pick:De}=ht,Si=class{constructor(c,t,i,s,o){this.isNew=!0,this.isNewLabel=!0,this.axis=c,this.pos=t,this.type=i||"",this.parameters=o||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,Ls(this,"init"),i||s||this.addLabel()}addLabel(){let c=this,t=c.axis,i=t.options,s=t.chart,o=t.categories,r=t.logarithmic,a=t.names,h=c.pos,d=De(c.options&&c.options.labels,i.labels),u=t.tickPositions,m=h===u[0],p=h===u[u.length-1],g=(!d.step||d.step===1)&&t.tickInterval===1,v=u.info,y=c.label,w,k,b,P=this.parameters.category||(o?De(o[h],a[h],h):h);r&&Ci(P)&&(P=tn(r.lin2log(P))),t.dateTime&&(v?w=(k=s.time.resolveDTLFormat(i.dateTimeLabelFormats[!i.grid&&v.higherRanks[h]||v.unitName])).main:Ci(P)&&(w=t.dateTime.getXDateFormat(P,i.dateTimeLabelFormats||{}))),c.isFirst=m,c.isLast=p;let S={axis:t,chart:s,dateTimeLabelFormat:w,isFirst:m,isLast:p,pos:h,tick:c,tickPositionInfo:v,value:P};Ls(this,"labelFormat",S);let I=E=>d.formatter?d.formatter.call(E,E):d.format?(E.text=t.defaultLabelFormatter.call(E),ut.format(d.format,E,s)):t.defaultLabelFormatter.call(E),B=I.call(S,S),z=k&&k.list;z?c.shortenLabel=function(){for(b=0;b<z.length;b++)if(io(S,{dateTimeLabelFormat:z[b]}),y.attr({text:I.call(S,S)}),y.getBBox().width<t.getSlotWidth(c)-2*(d.padding||0))return;y.attr({text:""})}:c.shortenLabel=void 0,g&&t._addedPlotLB&&c.moveLabel(B,d),en(y)||c.movedLabel?y&&y.textStr!==B&&!g&&(!y.textWidth||d.style.width||y.styles.width||y.css({width:null}),y.attr({text:B}),y.textPxLength=y.getBBox().width):(c.label=y=c.createLabel(B,d),c.rotation=0)}createLabel(c,t,i){let s=this.axis,{renderer:o,styledMode:r}=s.chart,a=en(c)&&t.enabled?o.text(c,i?.x,i?.y,t.useHTML).add(s.labelGroup):void 0;if(a){let h=t.style.whiteSpace||"normal";r||a.css(sa(t.style,{whiteSpace:"nowrap"})),a.textPxLength=a.getBBox().width,r||a.css({whiteSpace:h})}return a}destroy(){ia(this,this.axis)}getPosition(c,t,i,s){let o=this.axis,r=o.chart,a=s&&r.oldChartHeight||r.chartHeight,h={x:c?tn(o.translate(t+i,void 0,void 0,s)+o.transB):o.left+o.offset+(o.opposite?(s&&r.oldChartWidth||r.chartWidth)-o.right-o.left:0),y:c?a-o.bottom+o.offset-(o.opposite?o.height:0):tn(a-o.translate(t+i,void 0,void 0,s)-o.transB)};return h.y=Qs(h.y,-1e9,1e9),Ls(this,"afterGetPosition",{pos:h}),h}getLabelPosition(c,t,i,s,o,r,a,h){let d,u,m=this.axis,p=m.transA,g=m.isLinked&&m.linkedParent?m.linkedParent.reversed:m.reversed,v=m.staggerLines,y=m.tickRotCorr||{x:0,y:0},w=s||m.reserveSpaceDefault?0:-m.labelOffset*(m.labelAlign==="center"?.5:1),k=o.distance,b={};return d=m.side===0?i.rotation?-k:-i.getBBox().height:m.side===2?y.y+k:Math.cos(i.rotation*eo)*(y.y-i.getBBox(!1,0).height/2),en(o.y)&&(d=m.side===0&&m.horiz?o.y+d:o.y),c=c+De(o.x,[0,1,0,-1][m.side]*k)+w+y.x-(r&&s?r*p*(g?-1:1):0),t=t+d-(r&&!s?r*p*(g?1:-1):0),v&&(u=a/(h||1)%v,m.opposite&&(u=v-u-1),t+=u*(m.labelOffset/v)),b.x=c,b.y=Math.round(t),Ls(this,"afterGetLabelPosition",{pos:b,tickmarkOffset:r,index:a}),b}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(c,t,i,s,o=!1,r){return r.crispLine([["M",c,t],["L",c+(o?0:-i),t+(o?i:0)]],s)}handleOverflow(c){let t=this.axis,i=t.options.labels,s=c.x,o=t.chart.chartWidth,r=t.chart.spacing,a=De(t.labelLeft,Math.min(t.pos,r[3])),h=De(t.labelRight,Math.max(t.isRadial?0:t.pos+t.len,o-r[1])),d=this.label,u=this.rotation,m=Xe(t.labelAlign||d.attr("align")),p=d.getBBox().width,g=t.getSlotWidth(this),v=g,y=1,w,k,b;u||i.overflow!=="justify"?u<0&&s-m*p<a?b=Math.round(s/Math.cos(u*eo)-a):u>0&&s+m*p>h&&(b=Math.round((o-s)/Math.cos(u*eo))):(w=s-m*p,k=s+(1-m)*p,w<a?v=c.x+v*(1-m)-a:k>h&&(v=h-c.x+v*m,y=-1),(v=Math.min(g,v))<g&&t.labelAlign==="center"&&(c.x+=y*(g-v-m*(g-Math.min(p,v)))),(p>v||t.autoRotation&&(d.styles||{}).width)&&(b=v)),b&&d&&(this.shortenLabel?this.shortenLabel():d.css(io({},{width:Math.floor(b)+"px",lineClamp:t.isRadial?0:1})))}moveLabel(c,t){let i=this,s=i.label,o=i.axis,r=!1,a;s&&s.textStr===c?(i.movedLabel=s,r=!0,delete i.label):sn(o.ticks,function(h){r||h.isNew||h===i||!h.label||h.label.textStr!==c||(i.movedLabel=h.label,r=!0,h.labelPos=i.movedLabel.xy,delete h.label)}),!r&&(i.labelPos||s)&&(a=i.labelPos||s.xy,i.movedLabel=i.createLabel(c,t,a),i.movedLabel&&i.movedLabel.attr({opacity:0}))}render(c,t,i){let s=this.axis,o=s.horiz,r=this.pos,a=De(this.tickmarkOffset,s.tickmarkOffset),h=this.getPosition(o,r,a,t),d=h.x,u=h.y,m=s.pos,p=m+s.len,g=o?d:u;!s.chart.polar&&this.isNew&&(tn(g)<m||g>p)&&(i=0);let v=De(i,this.label&&this.label.newOpacity,1);i=De(i,1),this.isActive=!0,this.renderGridLine(t,i),this.renderMark(h,i),this.renderLabel(h,t,v,c),this.isNew=!1,Ls(this,"afterRender")}renderGridLine(c,t){let i=this.axis,s=i.options,o={},r=this.pos,a=this.type,h=De(this.tickmarkOffset,i.tickmarkOffset),d=i.chart.renderer,u=this.gridLine,m,p=s.gridLineWidth,g=s.gridLineColor,v=s.gridLineDashStyle;this.type==="minor"&&(p=s.minorGridLineWidth,g=s.minorGridLineColor,v=s.minorGridLineDashStyle),u||(i.chart.styledMode||(o.stroke=g,o["stroke-width"]=p||0,o.dashstyle=v),a||(o.zIndex=1),c&&(t=0),this.gridLine=u=d.path().attr(o).addClass("highcharts-"+(a?a+"-":"")+"grid-line").add(i.gridGroup)),u&&(m=i.getPlotLinePath({value:r+h,lineWidth:u.strokeWidth(),force:"pass",old:c,acrossPanes:!1}))&&u[c||this.isNew?"attr":"animate"]({d:m,opacity:t})}renderMark(c,t){let i=this.axis,s=i.options,o=i.chart.renderer,r=this.type,a=i.tickSize(r?r+"Tick":"tick"),h=c.x,d=c.y,u=De(s[r!=="minor"?"tickWidth":"minorTickWidth"],!r&&i.isXAxis?1:0),m=s[r!=="minor"?"tickColor":"minorTickColor"],p=this.mark,g=!p;a&&(i.opposite&&(a[0]=-a[0]),p||(this.mark=p=o.path().addClass("highcharts-"+(r?r+"-":"")+"tick").add(i.axisGroup),i.chart.styledMode||p.attr({stroke:m,"stroke-width":u})),p[g?"attr":"animate"]({d:this.getMarkPath(h,d,a[0],p.strokeWidth(),i.horiz,o),opacity:t}))}renderLabel(c,t,i,s){let o=this.axis,r=o.horiz,a=o.options,h=this.label,d=a.labels,u=d.step,m=De(this.tickmarkOffset,o.tickmarkOffset),p=c.x,g=c.y,v=!0;h&&Ci(p)&&(h.xy=c=this.getLabelPosition(p,g,h,r,d,m,s,u),(!this.isFirst||this.isLast||a.showFirstLabel)&&(!this.isLast||this.isFirst||a.showLastLabel)?!r||d.step||d.rotation||t||i===0||this.handleOverflow(c):v=!1,u&&s%u&&(v=!1),v&&Ci(c.y)?(c.opacity=i,h[this.isNewLabel?"attr":"animate"](c).show(!0),this.isNewLabel=!1):(h.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let c=this.label,t=this.axis;c&&!this.isNew&&(c.animate({opacity:0},void 0,c.destroy),delete this.label),t.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:na}=se,{xAxis:Ui,yAxis:oa}=Qn,{defaultOptions:mi}=ke,{registerEventOptions:Ko}=ws,{deg2rad:Jo}=U,{arrayMax:Qo,arrayMin:ii,clamp:nn,correctFloat:we,defined:Tt,destroyObjectProperties:ra,erase:ks,error:Ti,extend:Ms,fireEvent:Wt,getClosestDistance:tr,insertItem:er,isArray:so,isNumber:dt,isString:no,merge:Ps,normalizeTickInterval:aa,objectEach:Cs,pick:yt,relativeLength:on,removeEvent:e,splat:n,syncTimeout:l}=ht,f=(c,t)=>aa(t,void 0,void 0,yt(c.options.allowDecimals,t<.5||c.tickAmount!==void 0),!!c.tickAmount);Ms(mi,{xAxis:Ui,yAxis:Ps(Ui,oa)});class _{constructor(t,i,s){this.init(t,i,s)}init(t,i,s=this.coll){let o=s==="xAxis",r=this.isZAxis||(t.inverted?!o:o);this.chart=t,this.horiz=r,this.isXAxis=o,this.coll=s,Wt(this,"init",{userOptions:i}),this.opposite=yt(i.opposite,this.opposite),this.side=yt(i.side,this.side,r?this.opposite?0:2:this.opposite?1:3),this.setOptions(i);let a=this.options,h=a.labels;this.type??(this.type=a.type||"linear"),this.uniqueNames??(this.uniqueNames=a.uniqueNames??!0),Wt(this,"afterSetType"),this.userOptions=i,this.minPixelPadding=0,this.reversed=yt(a.reversed,this.reversed),this.visible=a.visible,this.zoomEnabled=a.zoomEnabled,this.hasNames=this.type==="category"||a.categories===!0,this.categories=so(a.categories)&&a.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Tt(a.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=a.minRange||a.maxZoom,this.range=a.range,this.offset=a.offset||0,this.max=void 0,this.min=void 0;let d=yt(a.crosshair,n(t.options.tooltip.crosshairs)[o?0:1]);this.crosshair=d===!0?{}:d,t.axes.indexOf(this)===-1&&(o?t.axes.splice(t.xAxis.length,0,this):t.axes.push(this),er(this,t[this.coll])),t.orderItems(this.coll),this.series=this.series||[],t.inverted&&!this.isZAxis&&o&&!Tt(this.reversed)&&(this.reversed=!0),this.labelRotation=dt(h.rotation)?h.rotation:void 0,Ko(this,a),Wt(this,"afterInit")}setOptions(t){let i=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Ps(i,mi[this.coll],t),Wt(this,"afterSetOptions",{userOptions:t})}defaultLabelFormatter(){let t=this.axis,{numberFormatter:i}=this.chart,s=dt(this.value)?this.value:NaN,o=t.chart.time,r=t.categories,a=this.dateTimeLabelFormat,h=mi.lang,d=h.numericSymbols,u=h.numericSymbolMagnitude||1e3,m=t.logarithmic?Math.abs(s):t.tickInterval,p=d&&d.length,g,v;if(r)v=`${this.value}`;else if(a)v=o.dateFormat(a,s,!0);else if(p&&d&&m>=1e3)for(;p--&&v===void 0;)m>=(g=Math.pow(u,p+1))&&10*s%g==0&&d[p]!==null&&s!==0&&(v=i(s/g,-1)+d[p]);return v===void 0&&(v=Math.abs(s)>=1e4?i(s,-1):i(s,-1,void 0,"")),v}getSeriesExtremes(){let t,i=this;Wt(this,"getSeriesExtremes",null,function(){i.hasVisibleSeries=!1,i.dataMin=i.dataMax=i.threshold=void 0,i.softThreshold=!i.isXAxis,i.series.forEach(s=>{if(s.reserveSpace()){let o=s.options,r,a=o.threshold,h,d;if(i.hasVisibleSeries=!0,i.positiveValuesOnly&&0>=(a||0)&&(a=void 0),i.isXAxis)(r=s.getColumn("x")).length&&(r=i.logarithmic?r.filter(u=>u>0):r,h=(t=s.getXExtremes(r)).min,d=t.max,dt(h)||h instanceof Date||(r=r.filter(dt),h=(t=s.getXExtremes(r)).min,d=t.max),r.length&&(i.dataMin=Math.min(yt(i.dataMin,h),h),i.dataMax=Math.max(yt(i.dataMax,d),d)));else{let u=s.applyExtremes();dt(u.dataMin)&&(h=u.dataMin,i.dataMin=Math.min(yt(i.dataMin,h),h)),dt(u.dataMax)&&(d=u.dataMax,i.dataMax=Math.max(yt(i.dataMax,d),d)),Tt(a)&&(i.threshold=a),(!o.softThreshold||i.positiveValuesOnly)&&(i.softThreshold=!1)}}})}),Wt(this,"afterGetSeriesExtremes")}translate(t,i,s,o,r,a){let h=this.linkedParent||this,d=o&&h.old?h.old.min:h.min;if(!dt(d))return NaN;let u=h.minPixelPadding,m=(h.isOrdinal||h.brokenAxis?.hasBreaks||h.logarithmic&&r)&&h.lin2val,p=1,g=0,v=o&&h.old?h.old.transA:h.transA,y=0;return v||(v=h.transA),s&&(p*=-1,g=h.len),h.reversed&&(p*=-1,g-=p*(h.sector||h.len)),i?(y=(t=t*p+g-u)/v+d,m&&(y=h.lin2val(y))):(m&&(t=h.val2lin(t)),y=p*(t-d)*v+g+p*u+(dt(a)?v*a:0),h.isRadial||(y=we(y))),y}toPixels(t,i){return this.translate(this.chart?.time.parse(t)??NaN,!1,!this.horiz,void 0,!0)+(i?0:this.pos)}toValue(t,i){return this.translate(t-(i?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(t){let i=this,s=i.chart,o=i.left,r=i.top,a=t.old,h=t.value,d=t.lineWidth,u=a&&s.oldChartHeight||s.chartHeight,m=a&&s.oldChartWidth||s.chartWidth,p=i.transB,g=t.translatedValue,v=t.force,y,w,k,b,P;function S(B,z,E){return v!=="pass"&&(B<z||B>E)&&(v?B=nn(B,z,E):P=!0),B}let I={value:h,lineWidth:d,old:a,force:v,acrossPanes:t.acrossPanes,translatedValue:g};return Wt(this,"getPlotLinePath",I,function(B){y=k=(g=nn(g=yt(g,i.translate(h,void 0,void 0,a)),-1e9,1e9))+p,w=b=u-g-p,dt(g)?i.horiz?(w=r,b=u-i.bottom+(i.options.isInternal?0:s.scrollablePixelsY||0),y=k=S(y,o,o+i.width)):(y=o,k=m-i.right+(s.scrollablePixelsX||0),w=b=S(w,r,r+i.height)):(P=!0,v=!1),B.path=P&&!v?void 0:s.renderer.crispLine([["M",y,w],["L",k,b]],d||1)}),I.path}getLinearTickPositions(t,i,s){let o,r,a,h=we(Math.floor(i/t)*t),d=we(Math.ceil(s/t)*t),u=[];if(we(h+t)===h&&(a=20),this.single)return[i];for(o=h;o<=d&&(u.push(o),(o=we(o+t,a))!==r);)r=o;return u}getMinorTickInterval(){let{minorTicks:t,minorTickInterval:i}=this.options;return t===!0?yt(i,"auto"):t!==!1?i:void 0}getMinorTickPositions(){let t=this.options,i=this.tickPositions,s=this.minorTickInterval,o=this.pointRangePadding||0,r=(this.min||0)-o,a=(this.max||0)+o,h=this.brokenAxis?.hasBreaks?this.brokenAxis.unitLength:a-r,d=[],u;if(h&&h/s<this.len/3){let m=this.logarithmic;if(m)this.paddedTicks.forEach(function(p,g,v){g&&d.push.apply(d,m.getLogTickPositions(s,v[g-1],v[g],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")d=d.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(s),r,a,t.startOfWeek));else for(u=r+(i[0]-r)%s;u<=a&&u!==d[0];u+=s)d.push(u)}return d.length!==0&&this.trimTicks(d),d}adjustForMinRange(){let t=this.options,i=this.logarithmic,s=this.chart.time,{max:o,min:r,minRange:a}=this,h,d,u,m;this.isXAxis&&a===void 0&&!i&&(a=Tt(t.min)||Tt(t.max)||Tt(t.floor)||Tt(t.ceiling)?null:Math.min(5*(tr(this.series.map(p=>{let g=p.getColumn("x");return p.xIncrement?g.slice(0,2):g}))||0),this.dataMax-this.dataMin)),dt(o)&&dt(r)&&dt(a)&&o-r<a&&(d=this.dataMax-this.dataMin>=a,h=(a-o+r)/2,u=[r-h,s.parse(t.min)??r-h],d&&(u[2]=i?i.log2lin(this.dataMin):this.dataMin),m=[(r=Qo(u))+a,s.parse(t.max)??r+a],d&&(m[2]=i?i.log2lin(this.dataMax):this.dataMax),(o=ii(m))-r<a&&(u[0]=o-a,u[1]=s.parse(t.min)??o-a,r=Qo(u))),this.minRange=a,this.min=r,this.max=o}getClosest(){let t,i;if(this.categories)i=1;else{let s=[];this.series.forEach(function(o){let r=o.closestPointRange,a=o.getColumn("x");a.length===1?s.push(a[0]):o.sorted&&Tt(r)&&o.reserveSpace()&&(i=Tt(i)?Math.min(i,r):r)}),s.length&&(s.sort((o,r)=>o-r),t=tr([s]))}return t&&i?Math.min(t,i):t||i}nameToX(t){let i=so(this.options.categories),s=i?this.categories:this.names,o=t.options.x,r;return t.series.requireSorting=!1,Tt(o)||(o=this.uniqueNames&&s?i?s.indexOf(t.name):yt(s.keys[t.name],-1):t.series.autoIncrement()),o===-1?!i&&s&&(r=s.length):dt(o)&&(r=o),r!==void 0?(this.names[r]=t.name,this.names.keys[t.name]=r):t.x&&(r=t.x),r}updateNames(){let t=this,i=this.names;i.length>0&&(Object.keys(i.keys).forEach(function(s){delete i.keys[s]}),i.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(s=>{s.xIncrement=null,(!s.points||s.isDirtyData)&&(t.max=Math.max(t.max||0,s.dataTable.rowCount-1),s.processData(),s.generatePoints());let o=s.getColumn("x").slice();s.data.forEach((r,a)=>{let h=o[a];r?.options&&r.name!==void 0&&(h=t.nameToX(r))!==void 0&&h!==r.x&&(o[a]=r.x=h)}),s.dataTable.setColumn("x",o)}))}setAxisTranslation(){let t=this,i=t.max-t.min,s=t.linkedParent,o=!!t.categories,r=t.isXAxis,a=t.axisPointRange||0,h,d=0,u=0,m,p=t.transA;(r||o||a)&&(h=t.getClosest(),s?(d=s.minPointOffset,u=s.pointRangePadding):t.series.forEach(function(g){let v=o?1:r?yt(g.options.pointRange,h,0):t.axisPointRange||0,y=g.options.pointPlacement;if(a=Math.max(a,v),!t.single||o){let w=g.is("xrange")?!r:r;d=Math.max(d,w&&no(y)?0:v/2),u=Math.max(u,w&&y==="on"?0:v)}}),m=t.ordinal&&t.ordinal.slope&&h?t.ordinal.slope/h:1,t.minPointOffset=d*=m,t.pointRangePadding=u*=m,t.pointRange=Math.min(a,t.single&&o?1:i),r&&h&&(t.closestPointRange=h)),t.translationSlope=t.transA=p=t.staticScale||t.len/(i+u||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=p*d,Wt(this,"afterSetAxisTranslation")}minFromRange(){let{max:t,min:i}=this;return dt(t)&&dt(i)&&t-i||void 0}setTickInterval(t){let{categories:i,chart:s,dataMax:o,dataMin:r,dateTime:a,isXAxis:h,logarithmic:d,options:u,softThreshold:m}=this,p=s.time,g=dt(this.threshold)?this.threshold:void 0,v=this.minRange||0,{ceiling:y,floor:w,linkedTo:k,softMax:b,softMin:P}=u,S=dt(k)&&s[this.coll]?.[k],I=u.tickPixelInterval,B=u.maxPadding,z=u.minPadding,E=0,D,F=dt(u.tickInterval)&&u.tickInterval>=0?u.tickInterval:void 0,X,Y,tt,et;if(a||i||S||this.getTickAmount(),tt=yt(this.userMin,p.parse(u.min)),et=yt(this.userMax,p.parse(u.max)),S?(this.linkedParent=S,D=S.getExtremes(),this.min=yt(D.min,D.dataMin),this.max=yt(D.max,D.dataMax),this.type!==S.type&&Ti(11,!0,s)):(m&&Tt(g)&&dt(o)&&dt(r)&&(r>=g?(X=g,z=0):o<=g&&(Y=g,B=0)),this.min=yt(tt,X,r),this.max=yt(et,Y,o)),dt(this.max)&&dt(this.min)&&(d&&(this.positiveValuesOnly&&!t&&0>=Math.min(this.min,yt(r,this.min))&&Ti(10,!0,s),this.min=we(d.log2lin(this.min),16),this.max=we(d.log2lin(this.max),16)),this.range&&dt(r)&&(this.userMin=this.min=tt=Math.max(r,this.minFromRange()||0),this.userMax=et=this.max,this.range=void 0)),Wt(this,"foundExtremes"),this.adjustForMinRange(),dt(this.min)&&dt(this.max)){if(!dt(this.userMin)&&dt(P)&&P<this.min&&(this.min=tt=P),!dt(this.userMax)&&dt(b)&&b>this.max&&(this.max=et=b),i||this.axisPointRange||this.stacking?.usePercentage||S||!(E=this.max-this.min)||(!Tt(tt)&&z&&(this.min-=E*z),Tt(et)||!B||(this.max+=E*B)),!dt(this.userMin)&&dt(w)&&(this.min=Math.max(this.min,w)),!dt(this.userMax)&&dt(y)&&(this.max=Math.min(this.max,y)),m&&dt(r)&&dt(o)){let st=g||0;!Tt(tt)&&this.min<st&&r>=st?this.min=u.minRange?Math.min(st,this.max-v):st:!Tt(et)&&this.max>st&&o<=st&&(this.max=u.minRange?Math.max(st,this.min+v):st)}!s.polar&&this.min>this.max&&(Tt(u.min)?this.max=this.min:Tt(u.max)&&(this.min=this.max)),E=this.max-this.min}if(this.min!==this.max&&dt(this.min)&&dt(this.max)?S&&!F&&I===S.options.tickPixelInterval?this.tickInterval=F=S.tickInterval:this.tickInterval=yt(F,this.tickAmount?E/Math.max(this.tickAmount-1,1):void 0,i?1:E*I/Math.max(this.len,I)):this.tickInterval=1,h&&!t){let st=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(at){at.forceCrop=at.forceCropping?.(),at.processData(st)}),Wt(this,"postProcessData",{hasExtremesChanged:st})}this.setAxisTranslation(),Wt(this,"initialAxisTranslation"),this.pointRange&&!F&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let ot=yt(u.minTickInterval,a&&!this.series.some(st=>!st.sorted)?this.closestPointRange:0);!F&&this.tickInterval<ot&&(this.tickInterval=ot),a||d||F||(this.tickInterval=f(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let t=this.options,i=t.tickPositions,s=t.tickPositioner,o=this.getMinorTickInterval(),r=!this.isPanning,a=r&&t.startOnTick,h=r&&t.endOnTick,d=[],u;if(this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Tt(this.min)&&!this.tickAmount&&(this.min%1==0||t.allowDecimals!==!1),i)d=i.slice();else if(dt(this.min)&&dt(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))d=[this.min,this.max],Ti(19,!1,this.chart);else if(this.dateTime)d=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)d=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let m=this.tickInterval,p=m;for(;p<=2*m&&(d=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&d.length>this.tickAmount);)this.tickInterval=f(this,p*=1.1)}d.length>this.len&&(d=[d[0],d[d.length-1]])[0]===d[1]&&(d.length=1),s&&(this.tickPositions=d,(u=s.apply(this,[this.min,this.max]))&&(d=u))}this.tickPositions=d,this.minorTickInterval=o==="auto"&&this.tickInterval?this.tickInterval/t.minorTicksPerMajor:o,this.paddedTicks=d.slice(0),this.trimTicks(d,a,h),!this.isLinked&&dt(this.min)&&dt(this.max)&&(this.single&&d.length<2&&!this.categories&&!this.series.some(m=>m.is("heatmap")&&m.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),i||u||this.adjustTickAmount()),Wt(this,"afterSetTickPositions")}trimTicks(t,i,s){let o=t[0],r=t[t.length-1],a=!this.isOrdinal&&this.minPointOffset||0;if(Wt(this,"trimTicks"),!this.isLinked){if(i&&o!==-1/0)this.min=o;else for(;this.min-a>t[0];)t.shift();if(s)this.max=r;else for(;this.max+a<t[t.length-1];)t.pop();t.length===0&&Tt(o)&&!this.options.tickPositions&&t.push((r+o)/2)}}alignToOthers(){let t,i=this,s=i.chart,o=[this],r=i.options,a=s.options.chart,h=this.coll==="yAxis"&&a.alignThresholds,d=[];if(i.thresholdAlignment=void 0,(a.alignTicks!==!1&&r.alignTicks||h)&&r.startOnTick!==!1&&r.endOnTick!==!1&&!i.logarithmic){let u=p=>{let{horiz:g,options:v}=p;return[g?v.left:v.top,v.width,v.height,v.pane].join(",")},m=u(this);s[this.coll].forEach(function(p){let{series:g}=p;g.length&&g.some(v=>v.visible)&&p!==i&&u(p)===m&&(t=!0,o.push(p))})}if(t&&h){o.forEach(m=>{let p=m.getThresholdAlignment(i);dt(p)&&d.push(p)});let u=d.length>1?d.reduce((m,p)=>m+=p,0)/d.length:void 0;o.forEach(m=>{m.thresholdAlignment=u})}return t}getThresholdAlignment(t){if((!dt(this.dataMin)||this!==t&&this.series.some(i=>i.isDirty||i.isDirtyData))&&this.getSeriesExtremes(),dt(this.threshold)){let i=nn((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(i=1-i),i}}getTickAmount(){let t=this.options,i=t.tickPixelInterval,s=t.tickAmount;Tt(t.tickInterval)||s||!(this.len<i)||this.isRadial||this.logarithmic||!t.startOnTick||!t.endOnTick||(s=2),!s&&this.alignToOthers()&&(s=Math.ceil(this.len/i)+1),s<4&&(this.finalTickAmt=s,s=5),this.tickAmount=s}adjustTickAmount(){let t=this,{finalTickAmt:i,max:s,min:o,options:r,tickPositions:a,tickAmount:h,thresholdAlignment:d}=t,u=a?.length,m=yt(t.threshold,t.softThreshold?0:null),p,g,v=t.tickInterval,y,w=()=>a.push(we(a[a.length-1]+v)),k=()=>a.unshift(we(a[0]-v));if(dt(d)&&(y=d<.5?Math.ceil(d*(h-1)):Math.floor(d*(h-1)),r.reversed&&(y=h-1-y)),t.hasData()&&dt(o)&&dt(s)){let b=()=>{t.transA*=(u-1)/(h-1),t.min=r.startOnTick?a[0]:Math.min(o,a[0]),t.max=r.endOnTick?a[a.length-1]:Math.max(s,a[a.length-1])};if(dt(y)&&dt(t.threshold)){for(;a[y]!==m||a.length!==h||a[0]>o||a[a.length-1]<s;){for(a.length=0,a.push(t.threshold);a.length<h;)a[y]===void 0||a[y]>t.threshold?k():w();if(v>8*t.tickInterval)break;v*=2}b()}else if(u<h){for(;a.length<h;)a.length%2||o===m?w():k();b()}if(Tt(i)){for(g=p=a.length;g--;)(i===3&&g%2==1||i<=2&&g>0&&g<p-1)&&a.splice(g,1);t.finalTickAmt=void 0}}}setScale(){let{coll:t,stacking:i}=this,s=!1,o=!1;this.series.forEach(a=>{s=s||a.isDirtyData||a.isDirty,o=o||a.xAxis&&a.xAxis.isDirty||!1}),this.setAxisSize();let r=this.len!==(this.old&&this.old.len);r||s||o||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(i&&t==="yAxis"&&i.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),i&&t==="xAxis"&&i.buildStacks(),this.isDirty||(this.isDirty=r||this.min!==this.old?.min||this.max!==this.old?.max)):i&&i.cleanStacks(),s&&delete this.allExtremes,Wt(this,"afterSetScale")}setExtremes(t,i,s=!0,o,r){let a=this.chart;this.series.forEach(h=>{delete h.kdTree}),t=a.time.parse(t),i=a.time.parse(i),Wt(this,"setExtremes",r=Ms(r,{min:t,max:i}),h=>{this.userMin=h.min,this.userMax=h.max,this.eventArgs=h,s&&a.redraw(o)})}setAxisSize(){let t=this.chart,i=this.options,s=i.offsets||[0,0,0,0],o=this.horiz,r=this.width=Math.round(on(yt(i.width,t.plotWidth-s[3]+s[1]),t.plotWidth)),a=this.height=Math.round(on(yt(i.height,t.plotHeight-s[0]+s[2]),t.plotHeight)),h=this.top=Math.round(on(yt(i.top,t.plotTop+s[0]),t.plotHeight,t.plotTop)),d=this.left=Math.round(on(yt(i.left,t.plotLeft+s[3]),t.plotWidth,t.plotLeft));this.bottom=t.chartHeight-a-h,this.right=t.chartWidth-r-d,this.len=Math.max(o?r:a,0),this.pos=o?d:h}getExtremes(){let t=this.logarithmic;return{min:t?we(t.lin2log(this.min)):this.min,max:t?we(t.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(t){let i=this.logarithmic,s=i?i.lin2log(this.min):this.min,o=i?i.lin2log(this.max):this.max;return t===null||t===-1/0?t=s:t===1/0?t=o:s>t?t=s:o<t&&(t=o),this.translate(t,0,1,0,1)}autoLabelAlign(t){let i=(yt(t,0)-90*this.side+720)%360,s={align:"center"};return Wt(this,"autoLabelAlign",s,function(o){i>15&&i<165?o.align="right":i>195&&i<345&&(o.align="left")}),s.align}tickSize(t){let i=this.options,s=yt(i[t==="tick"?"tickWidth":"minorTickWidth"],t==="tick"&&this.isXAxis&&!this.categories?1:0),o=i[t==="tick"?"tickLength":"minorTickLength"],r;s&&o&&(i[t+"Position"]==="inside"&&(o=-o),r=[o,s]);let a={tickSize:r};return Wt(this,"afterTickSize",a),a.tickSize}labelMetrics(){let t=this.chart.renderer,i=this.ticks,s=i[Object.keys(i)[0]]||{};return this.chart.renderer.fontMetrics(s.label||s.movedLabel||t.box)}unsquish(){let t=this.options.labels,i=t.padding||0,s=this.horiz,o=this.tickInterval,r=this.len/(((this.categories?1:0)+this.max-this.min)/o),a=t.rotation,h=we(.8*this.labelMetrics().h),d=Math.max(this.max-this.min,0),u=function(y){let w=(y+2*i)/(r||1);return(w=w>1?Math.ceil(w):1)*o>d&&y!==1/0&&r!==1/0&&d&&(w=Math.ceil(d/o)),we(w*o)},m=o,p,g=Number.MAX_VALUE,v;if(s){if(!t.staggerLines&&(dt(a)?v=[a]:r<t.autoRotationLimit&&(v=t.autoRotation)),v){let y,w;for(let k of v)(k===a||k&&k>=-90&&k<=90)&&(w=(y=u(Math.abs(h/Math.sin(Jo*k))))+Math.abs(k/360))<g&&(g=w,p=k,m=y)}}else m=u(.75*h);return this.autoRotation=v,this.labelRotation=yt(p,dt(a)?a:0),t.step?o:m}getSlotWidth(t){let i=this.chart,s=this.horiz,o=this.options.labels,r=Math.max(this.tickPositions.length-(this.categories?0:1),1),a=i.margin[3];if(t&&dt(t.slotWidth))return t.slotWidth;if(s&&o.step<2&&!this.isRadial)return o.rotation?0:(this.staggerLines||1)*this.len/r;if(!s){let h=o.style.width;if(h!==void 0)return parseInt(String(h),10);if(a)return a-i.spacing[3]}return .33*i.chartWidth}renderUnsquish(){let t=this.chart,i=t.renderer,s=this.tickPositions,o=this.ticks,r=this.options.labels,a=r.style,h=this.horiz,d=this.getSlotWidth(),u=Math.max(1,Math.round(d-(h?2*(r.padding||0):r.distance||0))),m={},p=this.labelMetrics(),g=a.lineClamp,v,y=g??(Math.floor(this.len/(s.length*p.h))||1),w=0;no(r.rotation)||(m.rotation=r.rotation||0),s.forEach(function(k){let b=o[k];b.movedLabel&&b.replaceMovedLabel();let P=b.label?.textPxLength||0;P>w&&(w=P)}),this.maxLabelLength=w,this.autoRotation?w>u&&w>p.h?m.rotation=this.labelRotation:this.labelRotation=0:d&&(v=u),m.rotation&&(v=w>.5*t.chartHeight?.33*t.chartHeight:w,g||(y=1)),this.labelAlign=r.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(m.align=this.labelAlign),s.forEach(function(k){let b=o[k],P=b&&b.label,S=a.width,I={};P&&(P.attr(m),b.shortenLabel?b.shortenLabel():v&&!S&&a.whiteSpace!=="nowrap"&&(v<(P.textPxLength||0)||P.element.tagName==="SPAN")?P.css(Ms(I,{width:`${v}px`,lineClamp:y})):!P.styles.width||I.width||S||P.css({width:"auto"}),b.rotation=m.rotation)},this),this.tickRotCorr=i.rotCorr(p.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(t){return t.hasData()})||this.options.showEmpty&&Tt(this.min)&&Tt(this.max)}addTitle(t){let i,s=this.chart.renderer,o=this.horiz,r=this.opposite,a=this.options.title,h=this.chart.styledMode;this.axisTitle||((i=a.textAlign)||(i=(o?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[a.align]),this.axisTitle=s.text(a.text||"",0,0,a.useHTML).attr({zIndex:7,rotation:a.rotation||0,align:i}).addClass("highcharts-axis-title"),h||this.axisTitle.css(Ps(a.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),h||a.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[t?"show":"hide"](t)}generateTick(t){let i=this.ticks;i[t]?i[t].addLabel():i[t]=new Si(this,t)}createGroups(){let{axisParent:t,chart:i,coll:s,options:o}=this,r=i.renderer,a=(h,d,u)=>r.g(h).attr({zIndex:u}).addClass(`highcharts-${s.toLowerCase()}${d} `+(this.isRadial?`highcharts-radial-axis${d} `:"")+(o.className||"")).add(t);this.axisGroup||(this.gridGroup=a("grid","-grid",o.gridZIndex),this.axisGroup=a("axis","",o.zIndex),this.labelGroup=a("axis-labels","-labels",o.labels.zIndex))}getOffset(){let t=this,{chart:i,horiz:s,options:o,side:r,ticks:a,tickPositions:h,coll:d}=t,u=i.inverted&&!t.isZAxis?[1,0,3,2][r]:r,m=t.hasData(),p=o.title,g=o.labels,v=dt(o.crossing),y=i.axisOffset,w=i.clipOffset,k=[-1,1,1,-1][r],b,P=0,S,I=0,B=0,z,E;if(t.showAxis=b=m||o.showEmpty,t.staggerLines=t.horiz&&g.staggerLines||void 0,t.createGroups(),m||t.isLinked?(h.forEach(function(D){t.generateTick(D)}),t.renderUnsquish(),t.reserveSpaceDefault=r===0||r===2||{1:"left",3:"right"}[r]===t.labelAlign,yt(g.reserveSpace,!v&&null,t.labelAlign==="center"||null,t.reserveSpaceDefault)&&h.forEach(function(D){B=Math.max(a[D].getLabelSize(),B)}),t.staggerLines&&(B*=t.staggerLines),t.labelOffset=B*(t.opposite?-1:1)):Cs(a,function(D,F){D.destroy(),delete a[F]}),p?.text&&p.enabled!==!1&&(t.addTitle(b),b&&!v&&p.reserveSpace!==!1&&(t.titleOffset=P=t.axisTitle.getBBox()[s?"height":"width"],I=Tt(S=p.offset)?0:yt(p.margin,s?5:10))),t.renderLine(),t.offset=k*yt(o.offset,y[r]?y[r]+(o.margin||0):0),t.tickRotCorr=t.tickRotCorr||{x:0,y:0},E=r===0?-t.labelMetrics().h:r===2?t.tickRotCorr.y:0,z=Math.abs(B)+I,B&&(z-=E,z+=k*(s?yt(g.y,t.tickRotCorr.y+k*g.distance):yt(g.x,k*g.distance))),t.axisTitleMargin=yt(S,z),t.getMaxLabelDimensions&&(t.maxLabelDimensions=t.getMaxLabelDimensions(a,h)),d!=="colorAxis"&&w){let D=this.tickSize("tick");y[r]=Math.max(y[r],(t.axisTitleMargin||0)+P+k*t.offset,z,h&&h.length&&D?D[0]+k*t.offset:0);let F=!t.axisLine||o.offset?0:t.axisLine.strokeWidth()/2;w[u]=Math.max(w[u],F)}Wt(this,"afterGetOffset")}getLinePath(t){let i=this.chart,s=this.opposite,o=this.offset,r=this.horiz,a=this.left+(s?this.width:0)+o,h=i.chartHeight-this.bottom-(s?this.height:0)+o;return s&&(t*=-1),i.renderer.crispLine([["M",r?this.left:a,r?h:this.top],["L",r?i.chartWidth-this.right:a,r?h:i.chartHeight-this.bottom]],t)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(t){let i=this.horiz,s=this.left,o=this.top,r=this.len,a=this.options.title,h=i?s:o,d=this.opposite,u=this.offset,m=a.x,p=a.y,g=this.chart.renderer.fontMetrics(t),v=t?Math.max(t.getBBox(!1,0).height-g.h-1,0):0,y={low:h+(i?0:r),middle:h+r/2,high:h+(i?r:0)}[a.align],w=(i?o+this.height:s)+(i?1:-1)*(d?-1:1)*(this.axisTitleMargin||0)+[-v,v,g.f,-v][this.side],k={x:i?y+m:w+(d?this.width:0)+u+m,y:i?w+p-(d?this.height:0)+u:y+p};return Wt(this,"afterGetTitlePosition",{titlePosition:k}),k}renderMinorTick(t,i){let s=this.minorTicks;s[t]||(s[t]=new Si(this,t,"minor")),i&&s[t].isNew&&s[t].render(null,!0),s[t].render(null,!1,1)}renderTick(t,i,s){let o=this.isLinked,r=this.ticks;(!o||t>=this.min&&t<=this.max||this.grid&&this.grid.isColumn)&&(r[t]||(r[t]=new Si(this,t)),s&&r[t].isNew&&r[t].render(i,!0,-1),r[t].render(i))}render(){let t,i,s=this,o=s.chart,r=s.logarithmic,a=o.renderer,h=s.options,d=s.isLinked,u=s.tickPositions,m=s.axisTitle,p=s.ticks,g=s.minorTicks,v=s.alternateBands,y=h.stackLabels,w=h.alternateGridColor,k=h.crossing,b=s.tickmarkOffset,P=s.axisLine,S=s.showAxis,I=na(a.globalAnimation);if(s.labelEdge.length=0,s.overlap=!1,[p,g,v].forEach(function(B){Cs(B,function(z){z.isActive=!1})}),dt(k)){let B=this.isXAxis?o.yAxis[0]:o.xAxis[0],z=[1,-1,-1,1][this.side];if(B){let E=B.toPixels(k,!0);s.horiz&&(E=B.len-E),s.offset=z*E}}if(s.hasData()||d){let B=s.chart.hasRendered&&s.old&&dt(s.old.min);s.minorTickInterval&&!s.categories&&s.getMinorTickPositions().forEach(function(z){s.renderMinorTick(z,B)}),u.length&&(u.forEach(function(z,E){s.renderTick(z,E,B)}),b&&(s.min===0||s.single)&&(p[-1]||(p[-1]=new Si(s,-1,null,!0)),p[-1].render(-1))),w&&u.forEach(function(z,E){i=u[E+1]!==void 0?u[E+1]+b:s.max-b,E%2==0&&z<s.max&&i<=s.max+(o.polar?-b:b)&&(v[z]||(v[z]=new U.PlotLineOrBand(s,{})),t=z+b,v[z].options={from:r?r.lin2log(t):t,to:r?r.lin2log(i):i,color:w,className:"highcharts-alternate-grid"},v[z].render(),v[z].isActive=!0)}),s._addedPlotLB||(s._addedPlotLB=!0,(h.plotLines||[]).concat(h.plotBands||[]).forEach(function(z){s.addPlotBandOrLine(z)}))}[p,g,v].forEach(function(B){let z=[],E=I.duration;Cs(B,function(D,F){D.isActive||(D.render(F,!1,0),D.isActive=!1,z.push(F))}),l(function(){let D=z.length;for(;D--;)B[z[D]]&&!B[z[D]].isActive&&(B[z[D]].destroy(),delete B[z[D]])},B!==v&&o.hasRendered&&E?E:0)}),P&&(P[P.isPlaced?"animate":"attr"]({d:this.getLinePath(P.strokeWidth())}),P.isPlaced=!0,P[S?"show":"hide"](S)),m&&S&&(m[m.isNew?"attr":"animate"](s.getTitlePosition(m)),m.isNew=!1),y&&y.enabled&&s.stacking&&s.stacking.renderStackTotals(),s.old={len:s.len,max:s.max,min:s.min,transA:s.transA,userMax:s.userMax,userMin:s.userMin},s.isDirty=!1,Wt(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(t){t.render()})),this.series.forEach(function(t){t.isDirty=!0})}getKeepProps(){return this.keepProps||_.keepProps}destroy(t){let i=this,s=i.plotLinesAndBands,o=this.eventOptions;if(Wt(this,"destroy",{keepEvents:t}),t||e(i),[i.ticks,i.minorTicks,i.alternateBands].forEach(function(r){ra(r)}),s){let r=s.length;for(;r--;)s[r].destroy()}for(let r in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(a){i[a]&&(i[a]=i[a].destroy())}),i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[r]=i.plotLinesAndBandsGroups[r].destroy();Cs(i,function(r,a){i.getKeepProps().indexOf(a)===-1&&delete i[a]}),this.eventOptions=o}drawCrosshair(t,i){let s=this.crosshair,o=yt(s&&s.snap,!0),r=this.chart,a,h,d,u=this.cross,m;if(Wt(this,"drawCrosshair",{e:t,point:i}),t||(t=this.cross&&this.cross.e),s&&(Tt(i)||!o)!==!1){if(o?Tt(i)&&(h=yt(this.coll!=="colorAxis"?i.crosshairPos:null,this.isXAxis?i.plotX:this.len-i.plotY)):h=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),Tt(h)&&(m={value:i&&(this.isXAxis?i.x:yt(i.stackY,i.y)),translatedValue:h},r.polar&&Ms(m,{isCrosshair:!0,chartX:t&&t.chartX,chartY:t&&t.chartY,point:i}),a=this.getPlotLinePath(m)||null),!Tt(a)){this.hideCrosshair();return}d=this.categories&&!this.isRadial,u||(this.cross=u=r.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(d?"category ":"thin ")+(s.className||"")).attr({zIndex:yt(s.zIndex,2)}).add(),!r.styledMode&&(u.attr({stroke:s.color||(d?Vt.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":yt(s.width,1)}).css({"pointer-events":"none"}),s.dashStyle&&u.attr({dashstyle:s.dashStyle}))),u.show().attr({d:a}),d&&!s.width&&u.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();Wt(this,"afterDrawCrosshair",{e:t,point:i})}hideCrosshair(){this.cross&&this.cross.hide(),Wt(this,"afterHideCrosshair")}update(t,i){let s=this.chart;t=Ps(this.userOptions,t),this.destroy(!0),this.init(s,t),s.isDirtyBox=!0,yt(i,!0)&&s.redraw()}remove(t){let i=this.chart,s=this.coll,o=this.series,r=o.length;for(;r--;)o[r]&&o[r].remove(!1);ks(i.axes,this),ks(i[s]||[],this),i.orderItems(s),this.destroy(),i.isDirtyBox=!0,yt(t,!0)&&i.redraw()}setTitle(t,i){this.update({title:t},i)}setCategories(t,i){this.update({categories:t},i)}}_.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:M,getMagnitude:A,normalizeTickInterval:N,timeUnits:H}=ht;(function(c){function t(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function i(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new s(this))}c.compose=function(o){return o.keepProps.includes("dateTime")||(o.keepProps.push("dateTime"),o.prototype.getTimeTicks=t,M(o,"afterSetType",i)),o};class s{constructor(r){this.axis=r}normalizeTimeTickInterval(r,a){let h=a||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],d=h[h.length-1],u=H[d[0]],m=d[1],p;for(p=0;p<h.length&&(u=H[(d=h[p])[0]],m=d[1],!h[p+1]||!(r<=(u*m[m.length-1]+H[h[p+1][0]])/2));p++);u===H.year&&r<5*u&&(m=[1,2,5]);let g=N(r/u,m,d[0]==="year"?Math.max(A(r/u),1):1);return{unitRange:u,count:g,unitName:d[0]}}getXDateFormat(r,a){let{axis:h}=this,d=h.chart.time;return h.closestPointRange?d.getDateFormat(h.closestPointRange,r,h.options.startOfWeek,a)||d.resolveDTLFormat(a.year).main:d.resolveDTLFormat(a.day).main}}c.Additions=s})(Z||(Z={}));let J=Z,{addEvent:it,normalizeTickInterval:pt,pick:wt}=ht;(function(c){function t(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new s(this))}function i(){let o=this.logarithmic;o&&(this.lin2val=function(r){return o.lin2log(r)},this.val2lin=function(r){return o.log2lin(r)})}c.compose=function(o){return o.keepProps.includes("logarithmic")||(o.keepProps.push("logarithmic"),it(o,"afterSetType",t),it(o,"afterInit",i)),o};class s{constructor(r){this.axis=r}getLogTickPositions(r,a,h,d){let u=this.axis,m=u.len,p=u.options,g=[];if(d||(this.minorAutoInterval=void 0),r>=.5)r=Math.round(r),g=u.getLinearTickPositions(r,a,h);else if(r>=.08){let v,y,w,k,b,P,S,I=Math.floor(a);for(v=r>.3?[1,2,4]:r>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],y=I;y<h+1&&!S;y++)for(w=0,k=v.length;w<k&&!S;w++)(b=this.log2lin(this.lin2log(y)*v[w]))>a&&(!d||P<=h)&&P!==void 0&&g.push(P),P>h&&(S=!0),P=b}else{let v=this.lin2log(a),y=this.lin2log(h),w=d?u.getMinorTickInterval():p.tickInterval,k=p.tickPixelInterval/(d?5:1),b=d?m/u.tickPositions.length:m;r=pt(r=wt(w==="auto"?null:w,this.minorAutoInterval,(y-v)*k/(b||1))),g=u.getLinearTickPositions(r,v,y).map(this.log2lin),d||(this.minorAutoInterval=r/5)}return d||(u.tickInterval=r),g}lin2log(r){return Math.pow(10,r)}log2lin(r){return Math.log(r)/Math.LN10}}c.Additions=s})(G||(G={}));let _e=G,{erase:ne,extend:Ie,isNumber:ve}=ht;(function(c){let t;function i(u){return this.addPlotBandOrLine(u,"plotBands")}function s(u,m){let p=this.userOptions,g=new t(this,u);if(this.visible&&(g=g.render()),g){if(this._addedPlotLB||(this._addedPlotLB=!0,(p.plotLines||[]).concat(p.plotBands||[]).forEach(v=>{this.addPlotBandOrLine(v)})),m){let v=p[m]||[];v.push(u),p[m]=v}this.plotLinesAndBands.push(g)}return g}function o(u){return this.addPlotBandOrLine(u,"plotLines")}function r(u,m,p){p=p||this.options;let g=this.getPlotLinePath({value:m,force:!0,acrossPanes:p.acrossPanes}),v=[],y=this.horiz,w=!ve(this.min)||!ve(this.max)||u<this.min&&m<this.min||u>this.max&&m>this.max,k=this.getPlotLinePath({value:u,force:!0,acrossPanes:p.acrossPanes}),b,P=1,S;if(k&&g)for(w&&(S=k.toString()===g.toString(),P=0),b=0;b<k.length;b+=2){let I=k[b],B=k[b+1],z=g[b],E=g[b+1];(I[0]==="M"||I[0]==="L")&&(B[0]==="M"||B[0]==="L")&&(z[0]==="M"||z[0]==="L")&&(E[0]==="M"||E[0]==="L")&&(y&&z[1]===I[1]?(z[1]+=P,E[1]+=P):y||z[2]!==I[2]||(z[2]+=P,E[2]+=P),v.push(["M",I[1],I[2]],["L",B[1],B[2]],["L",E[1],E[2]],["L",z[1],z[2]],["Z"])),v.isFlat=S}return v}function a(u){this.removePlotBandOrLine(u)}function h(u){let m=this.plotLinesAndBands,p=this.options,g=this.userOptions;if(m){let v=m.length;for(;v--;)m[v].id===u&&m[v].destroy();[p.plotLines||[],g.plotLines||[],p.plotBands||[],g.plotBands||[]].forEach(function(y){for(v=y.length;v--;)(y[v]||{}).id===u&&ne(y,y[v])})}}function d(u){this.removePlotBandOrLine(u)}c.compose=function(u,m){let p=m.prototype;return p.addPlotBand||(t=u,Ie(p,{addPlotBand:i,addPlotLine:o,addPlotBandOrLine:s,getPlotBandPath:r,removePlotBand:a,removePlotLine:d,removePlotBandOrLine:h})),m}})(R||(R={}));let Yi=R,{addEvent:ha,arrayMax:ir,arrayMin:sr,defined:Ne,destroyObjectProperties:la,erase:nr,fireEvent:Jt,merge:Ss,objectEach:da,pick:ca}=ht;class rn{static compose(t,i){return ha(t,"afterInit",function(){this.labelCollectors.push(()=>{let s=[];for(let o of this.axes)for(let{label:r,options:a}of o.plotLinesAndBands)r&&!a?.label?.allowOverlap&&s.push(r);return s})}),Yi.compose(rn,i)}constructor(t,i){this.axis=t,this.options=i,this.id=i.id}render(){Jt(this,"render");let{axis:t,options:i}=this,{horiz:s,logarithmic:o}=t,{color:r,events:a,zIndex:h=0}=i,{renderer:d,time:u}=t.chart,m={},p=u.parse(i.to),g=u.parse(i.from),v=u.parse(i.value),y=i.borderWidth,w=i.label,{label:k,svgElem:b}=this,P=[],S,I=Ne(g)&&Ne(p),B=Ne(v),z=!b,E={class:"highcharts-plot-"+(I?"band ":"line ")+(i.className||"")},D=I?"bands":"lines";if(!t.chart.styledMode&&(B?(E.stroke=r||"#999999",E["stroke-width"]=ca(i.width,1),i.dashStyle&&(E.dashstyle=i.dashStyle)):I&&(E.fill=r||"#e6e9ff",y&&(E.stroke=i.borderColor,E["stroke-width"]=y))),m.zIndex=h,D+="-"+h,(S=t.plotLinesAndBandsGroups[D])||(t.plotLinesAndBandsGroups[D]=S=d.g("plot-"+D).attr(m).add()),b||(this.svgElem=b=d.path().attr(E).add(S)),Ne(v))P=t.getPlotLinePath({value:o?.log2lin(v)??v,lineWidth:b.strokeWidth(),acrossPanes:i.acrossPanes});else{if(!(Ne(g)&&Ne(p)))return;P=t.getPlotBandPath(o?.log2lin(g)??g,o?.log2lin(p)??p,i)}return!this.eventsAdded&&a&&(da(a,(F,X)=>{b?.on(X,Y=>{a[X].apply(this,[Y])})}),this.eventsAdded=!0),(z||!b.d)&&P?.length?b.attr({d:P}):b&&(P?(b.show(),b.animate({d:P})):b.d&&(b.hide(),k&&(this.label=k=k.destroy()))),w&&(Ne(w.text)||Ne(w.formatter))&&P?.length&&t.width>0&&t.height>0&&!P.isFlat?(w=Ss({align:s&&I?"center":void 0,x:s?!I&&4:10,verticalAlign:!s&&I?"middle":void 0,y:s?I?16:10:I?6:-4,rotation:s&&!I?90:0,...I?{inside:!0}:{}},w),this.renderLabel(w,P,I,h)):k&&k.hide(),this}renderLabel(t,i,s,o){let r=this.axis,a=r.chart.renderer,h=t.inside,d=this.label;d||(this.label=d=a.text(this.getLabelText(t),0,0,t.useHTML).attr({align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(s?"band":"line")+"-label "+(t.className||""),zIndex:o}),r.chart.styledMode||d.css(Ss({fontSize:"0.8em",textOverflow:s&&!h?"":"ellipsis"},t.style)),d.add());let u=i.xBounds||[i[0][1],i[1][1],s?i[2][1]:i[0][1]],m=i.yBounds||[i[0][2],i[1][2],s?i[2][2]:i[0][2]],p=sr(u),g=sr(m),v=ir(u)-p;d.align(t,!1,{x:p,y:g,width:v,height:ir(m)-g}),(!d.alignValue||d.alignValue==="left"||Ne(h))&&d.css({width:(t.style?.width||(s&&h?v:d.rotation===90?r.height-(d.alignAttr.y-r.top):(t.clip?r.width:r.chart.chartWidth)-(d.alignAttr.x-r.left)))+"px"}),d.show(!0)}getLabelText(t){return Ne(t.formatter)?t.formatter.call(this):t.text}destroy(){nr(this.axis.plotLinesAndBands,this),delete this.axis,la(this)}}let{animObject:oo}=se,{format:ro}=ut,{composed:ua,dateFormats:Tl,doc:ih,isSafari:Al}=U,{distribute:Ol}=wi,{addEvent:El,clamp:an,css:sh,discardElement:Il,extend:zl,fireEvent:nh,isArray:Bl,isNumber:Dl,isObject:Nl,isString:pa,merge:Rl,pick:hn,pushUnique:Zl,splat:fa,syncTimeout:Wl}=ht;class ma{constructor(t,i,s){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=t,this.init(t,i),this.pointer=s}bodyFormatter(t){return t.map(i=>{let s=i.series.tooltipOptions,o=i.formatPrefix||"point";return(s[o+"Formatter"]||i.tooltipFormatter).call(i,s[o+"Format"]||"")})}cleanSplit(t){this.chart.series.forEach(function(i){let s=i&&i.tt;s&&(!s.isActive||t?i.tt=s.destroy():s.isActive=!1)})}defaultFormatter(t){let i,s=this.points||fa(this);return(i=(i=[t.headerFooterFormatter(s[0])]).concat(t.bodyFormatter(s))).push(t.headerFooterFormatter(s[0],!0)),i}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Il(this.container)),ht.clearTimeout(this.hideTimer)}getAnchor(t,i){let s,{chart:o,pointer:r}=this,a=o.inverted,h=o.plotTop,d=o.plotLeft;if((t=fa(t))[0].series&&t[0].series.yAxis&&!t[0].series.yAxis.options.reversedStacks&&(t=t.slice().reverse()),this.followPointer&&i)i.chartX===void 0&&(i=r.normalize(i)),s=[i.chartX-d,i.chartY-h];else if(t[0].tooltipPos)s=t[0].tooltipPos;else{let u=0,m=0;t.forEach(function(p){let g=p.pos(!0);g&&(u+=g[0],m+=g[1])}),u/=t.length,m/=t.length,this.shared&&t.length>1&&i&&(a?u=i.chartX:m=i.chartY),s=[u-d,m-h]}return s.map(Math.round)}getClassName(t,i,s){let o=this.options,r=t.series,a=r.options;return[o.className,"highcharts-label",s&&"highcharts-tooltip-header",i?"highcharts-tooltip-box":"highcharts-tooltip",!s&&"highcharts-color-"+hn(t.colorIndex,r.colorIndex),a&&a.className].filter(pa).join(" ")}getLabel({anchorX:t,anchorY:i}={anchorX:0,anchorY:0}){let s=this,o=this.chart.styledMode,r=this.options,a=this.split&&this.allowShared,h=this.container,d=this.chart.renderer;if(this.label){let u=!this.label.hasClass("highcharts-label");(!a&&u||a&&!u)&&this.destroy()}if(!this.label){if(this.outside){let u=this.chart,m=u.options.chart.style,p=Zt.getRendererType();this.container=h=U.doc.createElement("div"),h.className="highcharts-tooltip-container "+(u.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),sh(h,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(m&&m.zIndex||0)+3)}),this.renderer=d=new p(h,0,0,m,void 0,void 0,d.styledMode)}if(a?this.label=d.g("tooltip"):(this.label=d.label("",t,i,r.shape,void 0,void 0,r.useHTML,void 0,"tooltip").attr({padding:r.padding,r:r.borderRadius}),o||this.label.attr({fill:r.backgroundColor,"stroke-width":r.borderWidth||0}).css(r.style).css({pointerEvents:r.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),s.outside){let u=this.label;[u.xSetter,u.ySetter].forEach((m,p)=>{u[p?"ySetter":"xSetter"]=g=>{m.call(u,s.distance),u[p?"y":"x"]=g,h&&(h.style[p?"top":"left"]=`${g}px`)}})}this.label.attr({zIndex:8}).shadow(r.shadow).add()}return h&&!h.parentElement&&U.doc.body.appendChild(h),this.label}getPlayingField(){let{body:t,documentElement:i}=ih,{chart:s,distance:o,outside:r}=this;return{width:r?Math.max(t.scrollWidth,i.scrollWidth,t.offsetWidth,i.offsetWidth,i.clientWidth)-2*o-2:s.chartWidth,height:r?Math.max(t.scrollHeight,i.scrollHeight,t.offsetHeight,i.offsetHeight,i.clientHeight):s.chartHeight}}getPosition(t,i,s){let{distance:o,chart:r,outside:a,pointer:h}=this,{inverted:d,plotLeft:u,plotTop:m,polar:p}=r,{plotX:g=0,plotY:v=0}=s,y={},w=d&&s.h||0,{height:k,width:b}=this.getPlayingField(),P=h.getChartPosition(),S=st=>st*P.scaleX,I=st=>st*P.scaleY,B=st=>{let at=st==="x";return[st,at?b:k,at?t:i].concat(a?[at?S(t):I(i),at?P.left-o+S(g+u):P.top-o+I(v+m),0,at?b:k]:[at?t:i,at?g+u:v+m,at?u:m,at?u+r.plotWidth:m+r.plotHeight])},z=B("y"),E=B("x"),D,F=!!s.negative;!p&&r.hoverSeries?.yAxis?.reversed&&(F=!F);let X=!this.followPointer&&hn(s.ttBelow,!p&&!d===F),Y=function(st,at,bt,ft,mt,Lt,ct){let Qt=a?st==="y"?I(o):S(o):o,Yt=(bt-ft)/2,Mt=ft<mt-o,Dt=mt+o+ft<at,oe=mt-Qt-bt+Yt,jt=mt+Qt-Yt;if(X&&Dt)y[st]=jt;else if(!X&&Mt)y[st]=oe;else if(Mt)y[st]=Math.min(ct-ft,oe-w<0?oe:oe-w);else{if(!Dt)return!1;y[st]=Math.max(Lt,jt+w+bt>at?jt:jt+w)}},tt=function(st,at,bt,ft,mt){if(mt<o||mt>at-o)return!1;mt<bt/2?y[st]=1:mt>at-ft/2?y[st]=at-ft-2:y[st]=mt-bt/2},et=function(st){[z,E]=[E,z],D=st},ot=()=>{Y.apply(0,z)!==!1?tt.apply(0,E)!==!1||D||(et(!0),ot()):D?y.x=y.y=0:(et(!0),ot())};return(d&&!p||this.len>1)&&et(),ot(),y}hide(t){let i=this;ht.clearTimeout(this.hideTimer),t=hn(t,this.options.hideDelay),this.isHidden||(this.hideTimer=Wl(function(){let s=i.getLabel();i.getLabel().animate({opacity:0},{duration:t&&150,complete:()=>{s.hide(),i.container&&i.container.remove()}}),i.isHidden=!0},t))}init(t,i){this.chart=t,this.options=i,this.crosshairs=[],this.isHidden=!0,this.split=i.split&&!t.inverted&&!t.polar,this.shared=i.shared||this.split,this.outside=hn(i.outside,!!(t.scrollablePixelsX||t.scrollablePixelsY))}shouldStickOnContact(t){return!!(!this.followPointer&&this.options.stickOnContact&&(!t||this.pointer.inClass(t.target,"highcharts-tooltip")))}move(t,i,s,o){let r=this,a=oo(!r.isHidden&&r.options.animation),h=r.followPointer||(r.len||0)>1,d={x:t,y:i};h||(d.anchorX=s,d.anchorY=o),a.step=()=>r.drawTracker(),r.getLabel().animate(d,a)}refresh(t,i){let{chart:s,options:o,pointer:r,shared:a}=this,h=fa(t),d=h[0],u=o.format,m=o.formatter||this.defaultFormatter,p=s.styledMode,g=this.allowShared;if(!o.enabled||!d.series)return;ht.clearTimeout(this.hideTimer),this.allowShared=!(!Bl(t)&&t.series&&t.series.noSharedTooltip),g=g&&!this.allowShared,this.followPointer=!this.split&&d.series.tooltipOptions.followPointer;let v=this.getAnchor(t,i),y=v[0],w=v[1];a&&this.allowShared&&(r.applyInactiveState(h),h.forEach(P=>P.setState("hover")),d.points=h),this.len=h.length;let k=pa(u)?ro(u,d,s):m.call(d,this);d.points=void 0;let b=d.series;if(this.distance=hn(b.tooltipOptions.distance,16),k===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(k,h);else{let P=y,S=w;if(i&&r.isDirectTouch&&(P=i.chartX-s.plotLeft,S=i.chartY-s.plotTop),s.polar||b.options.clip===!1||h.some(I=>r.isDirectTouch||I.series.shouldShowTooltip(P,S))){let I=this.getLabel(g&&this.tt||{});(!o.style.width||p)&&I.css({width:(this.outside?this.getPlayingField():s.spacingBox).width+"px"}),I.attr({class:this.getClassName(d),text:k&&k.join?k.join(""):k}),this.outside&&I.attr({x:an(I.x||0,0,this.getPlayingField().width-(I.width||0)-1)}),p||I.attr({stroke:o.borderColor||d.color||b.color||"#666666"}),this.updatePosition({plotX:y,plotY:w,negative:d.negative,ttBelow:d.ttBelow,h:v[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}nh(this,"refresh")}renderSplit(t,i){let s=this,{chart:o,chart:{chartWidth:r,chartHeight:a,plotHeight:h,plotLeft:d,plotTop:u,scrollablePixelsY:m=0,scrollablePixelsX:p,styledMode:g},distance:v,options:y,options:{positioner:w},pointer:k}=s,{scrollLeft:b=0,scrollTop:P=0}=o.scrollablePlotArea?.scrollingContainer||{},S=s.outside&&typeof p!="number"?ih.documentElement.getBoundingClientRect():{left:b,right:b+r,top:P,bottom:P+a},I=s.getLabel(),B=this.renderer||o.renderer,z=!!(o.xAxis[0]&&o.xAxis[0].opposite),{left:E,top:D}=k.getChartPosition(),F=u+P,X=0,Y=h-m;function tt(ft,mt,Lt,ct,Qt=!0){let Yt,Mt;return Lt?(Yt=z?0:Y,Mt=an(ft-ct/2,S.left,S.right-ct-(s.outside?E:0))):(Yt=mt-F,Mt=an(Mt=Qt?ft-ct-v:ft+v,Qt?Mt:S.left,S.right)),{x:Mt,y:Yt}}pa(t)&&(t=[!1,t]);let et=t.slice(0,i.length+1).reduce(function(ft,mt,Lt){if(mt!==!1&&mt!==""){let ct=i[Lt-1]||{isHeader:!0,plotX:i[0].plotX,plotY:h,series:{}},Qt=ct.isHeader,Yt=Qt?s:ct.series,Mt=Yt.tt=function(re,Pe,gi){let ss=re,{isHeader:go,series:Tr}=Pe;if(!ss){let mn={padding:y.padding,r:y.borderRadius};g||(mn.fill=y.backgroundColor,mn["stroke-width"]=y.borderWidth??1),ss=B.label("",0,0,y[go?"headerShape":"shape"],void 0,void 0,y.useHTML).addClass(s.getClassName(Pe,!0,go)).attr(mn).add(I)}return ss.isActive=!0,ss.attr({text:gi}),g||ss.css(y.style).attr({stroke:y.borderColor||Pe.color||Tr.color||"#333333"}),ss}(Yt.tt,ct,mt.toString()),Dt=Mt.getBBox(),oe=Dt.width+Mt.strokeWidth();Qt&&(X=Dt.height,Y+=X,z&&(F-=X));let{anchorX:jt,anchorY:xe}=function(re){let Pe,gi,{isHeader:ss,plotX:go=0,plotY:Tr=0,series:mn}=re;if(ss)Pe=Math.max(d+go,d),gi=u+h/2;else{let{xAxis:xl,yAxis:bl}=mn;Pe=xl.pos+an(go,-v,xl.len+v),mn.shouldShowTooltip(0,bl.pos-u+Tr,{ignoreX:!0})&&(gi=bl.pos+Tr)}return{anchorX:Pe=an(Pe,S.left-v,S.right+v),anchorY:gi}}(ct);if(typeof xe=="number"){let re=Dt.height+1,Pe=w?w.call(s,oe,re,ct):tt(jt,xe,Qt,oe);ft.push({align:w?0:void 0,anchorX:jt,anchorY:xe,boxWidth:oe,point:ct,rank:hn(Pe.rank,Qt?1:0),size:re,target:Pe.y,tt:Mt,x:Pe.x})}else Mt.isActive=!1}return ft},[]);!w&&et.some(ft=>{let{outside:mt}=s,Lt=(mt?E:0)+ft.anchorX;return Lt<S.left&&Lt+ft.boxWidth<S.right||Lt<E-S.left+ft.boxWidth&&S.right-Lt>Lt})&&(et=et.map(ft=>{let{x:mt,y:Lt}=tt(ft.anchorX,ft.anchorY,ft.point.isHeader,ft.boxWidth,!1);return zl(ft,{target:Lt,x:mt})})),s.cleanSplit(),Ol(et,Y);let ot={left:E,right:E};et.forEach(function(ft){let{x:mt,boxWidth:Lt,isHeader:ct}=ft;!ct&&(s.outside&&E+mt<ot.left&&(ot.left=E+mt),!ct&&s.outside&&ot.left+Lt>ot.right&&(ot.right=E+mt))}),et.forEach(function(ft){let{x:mt,anchorX:Lt,anchorY:ct,pos:Qt,point:{isHeader:Yt}}=ft,Mt={visibility:Qt===void 0?"hidden":"inherit",x:mt,y:(Qt||0)+F,anchorX:Lt,anchorY:ct};if(s.outside&&mt<Lt){let Dt=E-ot.left;Dt>0&&(Yt||(Mt.x=mt+Dt,Mt.anchorX=Lt+Dt),Yt&&(Mt.x=(ot.right-ot.left)/2,Mt.anchorX=Lt+Dt))}ft.tt.attr(Mt)});let{container:st,outside:at,renderer:bt}=s;if(at&&st&&bt){let{width:ft,height:mt,x:Lt,y:ct}=I.getBBox();bt.setSize(ft+Lt,mt+ct,!1),st.style.left=ot.left+"px",st.style.top=D+"px"}Al&&I.attr({opacity:I.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let t=this.chart,i=this.label,s=this.shared?t.hoverPoints:t.hoverPoint;if(!i||!s)return;let o={x:0,y:0,width:0,height:0},r=this.getAnchor(s),a=i.getBBox();r[0]+=t.plotLeft-(i.translateX||0),r[1]+=t.plotTop-(i.translateY||0),o.x=Math.min(0,r[0]),o.y=Math.min(0,r[1]),o.width=r[0]<0?Math.max(Math.abs(r[0]),a.width-r[0]):Math.max(Math.abs(r[0]),a.width),o.height=r[1]<0?Math.max(Math.abs(r[1]),a.height-Math.abs(r[1])):Math.max(Math.abs(r[1]),a.height),this.tracker?this.tracker.attr(o):(this.tracker=i.renderer.rect(o).addClass("highcharts-tracker").add(i),t.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(t){return t.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(t,i){let s=t.series,o=s.tooltipOptions,r=s.xAxis,a=r&&r.dateTime,h={isFooter:i,point:t},d=o.xDateFormat||"",u=o[i?"footerFormat":"headerFormat"];return nh(this,"headerFormatter",h,function(m){if(a&&!d&&Dl(t.key)&&(d=a.getXDateFormat(t.key,o.dateTimeLabelFormats)),a&&d){if(Nl(d)){let p=d;Tl[0]=g=>s.chart.time.dateFormat(p,g),d="%0"}(t.tooltipDateKeys||["key"]).forEach(p=>{u=u.replace(RegExp("point\\."+p+"([ \\)}])",""),`(point.${p}:${d})$1`)})}s.chart.styledMode&&(u=this.styledModeFormat(u)),m.text=ro(u,t,this.chart)}),h.text||""}update(t){this.destroy(),this.init(this.chart,Rl(!0,this.options,t))}updatePosition(t){let{chart:i,container:s,distance:o,options:r,pointer:a,renderer:h}=this,{height:d=0,width:u=0}=this.getLabel(),{left:m,top:p,scaleX:g,scaleY:v}=a.getChartPosition(),y=(r.positioner||this.getPosition).call(this,u,d,t),w=U.doc,k=(t.plotX||0)+i.plotLeft,b=(t.plotY||0)+i.plotTop,P;h&&s&&(r.positioner&&(y.x+=m-o,y.y+=p-o),P=(r.borderWidth||0)+2*o+2,h.setSize(an(u+P,0,w.documentElement.clientWidth)-1,d+P,!1),(g!==1||v!==1)&&(sh(s,{transform:`scale(${g}, ${v})`}),k*=g,b*=v),k+=m-y.x,b+=p-y.y),this.move(Math.round(y.x),Math.round(y.y||0),k,b)}}(function(c){c.compose=function(t){Zl(ua,"Core.Tooltip")&&El(t,"afterInit",function(){let i=this.chart;i.options.tooltip&&(i.tooltip=new c(i,i.options.tooltip,this))})}})(ma||(ma={}));let oh=ma,{animObject:Hl}=se,{defaultOptions:Fl}=ke,{format:Gl}=ut,{addEvent:Xl,crisp:jl,erase:Ul,extend:or,fireEvent:ga,getNestedProperty:Yl,isArray:Vl,isFunction:ql,isNumber:Vi,isObject:rr,merge:rh,pick:qi,syncTimeout:$l,removeEvent:ah,uniqueKey:Kl}=ht;class ao{animateBeforeDestroy(){let t=this,i={x:t.startXPos,opacity:0},s=t.getGraphicalProps();s.singular.forEach(function(o){t[o]=t[o].animate(o==="dataLabel"?{x:t[o].startXPos,y:t[o].startYPos,opacity:0}:i)}),s.plural.forEach(function(o){t[o].forEach(function(r){r.element&&r.animate(or({x:t.startXPos},r.startYPos?{x:r.startXPos,y:r.startYPos}:{}))})})}applyOptions(t,i){let s=this.series,o=s.options.pointValKey||s.pointValKey;return or(this,t=ao.prototype.optionsToObject.call(this,t)),this.options=this.options?or(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,o&&(this.y=ao.prototype.getNestedProperty.call(this,o)),this.selected&&(this.state="select"),"name"in this&&i===void 0&&s.xAxis&&s.xAxis.hasNames&&(this.x=s.xAxis.nameToX(this)),this.x===void 0&&s?this.x=i??s.autoIncrement():Vi(t.x)&&s.options.relativeXValue?this.x=s.autoIncrement(t.x):typeof this.x=="string"&&(i??(i=s.chart.time.parse(this.x)),Vi(i)&&(this.x=i)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let t=this,i=t.series,s=i.chart,o=i.options.dataSorting,r=s.hoverPoints,a=Hl(t.series.chart.renderer.globalAnimation),h=()=>{for(let d in(t.graphic||t.graphics||t.dataLabel||t.dataLabels)&&(ah(t),t.destroyElements()),t)delete t[d]};t.legendItem&&s.legend.destroyItem(t),r&&(t.setState(),Ul(r,t),r.length||(s.hoverPoints=null)),t===s.hoverPoint&&t.onMouseOut(),o&&o.enabled?(this.animateBeforeDestroy(),$l(h,a.duration)):h(),s.pointCount--}this.destroyed=!0}destroyElements(t){let i=this,s=i.getGraphicalProps(t);s.singular.forEach(function(o){i[o]=i[o].destroy()}),s.plural.forEach(function(o){i[o].forEach(function(r){r&&r.element&&r.destroy()}),delete i[o]})}firePointEvent(t,i,s){let o=this,r=this.series.options;o.manageEvent(t),t==="click"&&r.allowPointSelect&&(s=function(a){!o.destroyed&&o.select&&o.select(null,a.ctrlKey||a.metaKey||a.shiftKey)}),ga(o,t,i,s)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(t){let i,s,o=this,r=[],a={singular:[],plural:[]};for((t=t||{graphic:1,dataLabel:1}).graphic&&r.push("graphic","connector"),t.dataLabel&&r.push("dataLabel","dataLabelPath","dataLabelUpper"),s=r.length;s--;)o[i=r[s]]&&a.singular.push(i);return["graphic","dataLabel"].forEach(function(h){let d=h+"s";t[h]&&o[d]&&a.plural.push(d)}),a}getNestedProperty(t){return t?t.indexOf("custom.")===0?Yl(t,this.options):this[t]:void 0}getZone(){let t=this.series,i=t.zones,s=t.zoneAxis||"y",o,r=0;for(o=i[0];this[s]>=o.value;)o=i[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),o&&o.color&&!this.options.color?this.color=o.color:this.color=this.nonZonedColor,o}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(t,i,s){this.formatPrefix="point",this.visible=!0,this.point=this,this.series=t,this.applyOptions(i,s),this.id??(this.id=Kl()),this.resolveColor(),t.chart.pointCount++,ga(this,"afterInit")}isValid(){return(Vi(this.x)||this.x instanceof Date)&&Vi(this.y)}optionsToObject(t){let i=this.series,s=i.options.keys,o=s||i.pointArrayMap||["y"],r=o.length,a={},h,d=0,u=0;if(Vi(t)||t===null)a[o[0]]=t;else if(Vl(t))for(!s&&t.length>r&&((h=typeof t[0])=="string"?i.xAxis?.dateTime?a.x=i.chart.time.parse(t[0]):a.name=t[0]:h==="number"&&(a.x=t[0]),d++);u<r;)s&&t[d]===void 0||(o[u].indexOf(".")>0?ao.prototype.setNestedProperty(a,t[d],o[u]):a[o[u]]=t[d]),d++,u++;else typeof t=="object"&&(a=t,t.dataLabels&&(i.hasDataLabels=()=>!0),t.marker&&(i._hasPointMarkers=!0));return a}pos(t,i=this.plotY){if(!this.destroyed){let{plotX:s,series:o}=this,{chart:r,xAxis:a,yAxis:h}=o,d=0,u=0;if(Vi(s)&&Vi(i))return t&&(d=a?a.pos:r.plotLeft,u=h?h.pos:r.plotTop),r.inverted&&a&&h?[h.len-i+u,a.len-s+d]:[s+d,i+u]}}resolveColor(){let t=this.series,i=t.chart.options.chart,s=t.chart.styledMode,o,r,a=i.colorCount,h;delete this.nonZonedColor,t.options.colorByPoint?(s||(o=(r=t.options.colors||t.chart.options.colors)[t.colorCounter],a=r.length),h=t.colorCounter,t.colorCounter++,t.colorCounter===a&&(t.colorCounter=0)):(s||(o=t.color),h=t.colorIndex),this.colorIndex=qi(this.options.colorIndex,h),this.color=qi(this.options.color,o)}setNestedProperty(t,i,s){return s.split(".").reduce(function(o,r,a,h){let d=h.length-1===a;return o[r]=d?i:rr(o[r],!0)?o[r]:{},o[r]},t),t}shouldDraw(){return!this.isNull}tooltipFormatter(t){let{chart:i,pointArrayMap:s=["y"],tooltipOptions:o}=this.series,{valueDecimals:r="",valuePrefix:a="",valueSuffix:h=""}=o;return i.styledMode&&(t=i.tooltip?.styledModeFormat(t)||t),s.forEach(d=>{d="{point."+d,(a||h)&&(t=t.replace(RegExp(d+"}","g"),a+d+"}"+h)),t=t.replace(RegExp(d+"}","g"),d+":,."+r+"f}")}),Gl(t,this,i)}update(t,i,s,o){let r,a=this,h=a.series,d=a.graphic,u=h.chart,m=h.options;function p(){a.applyOptions(t);let g=d&&a.hasMockGraphic,v=a.y===null?!g:g;d&&v&&(a.graphic=d.destroy(),delete a.hasMockGraphic),rr(t,!0)&&(d&&d.element&&t&&t.marker&&t.marker.symbol!==void 0&&(a.graphic=d.destroy()),t?.dataLabels&&a.dataLabel&&(a.dataLabel=a.dataLabel.destroy())),r=a.index;let y={};for(let w of h.dataColumnKeys())y[w]=a[w];h.dataTable.setRow(y,r),m.data[r]=rr(m.data[r],!0)||rr(t,!0)?a.options:qi(t,m.data[r]),h.isDirty=h.isDirtyData=!0,!h.fixedBox&&h.hasCartesianSeries&&(u.isDirtyBox=!0),m.legendType==="point"&&(u.isDirtyLegend=!0),i&&u.redraw(s)}i=qi(i,!0),o===!1?p():a.firePointEvent("update",{options:t},p)}remove(t,i){this.series.removePoint(this.series.data.indexOf(this),t,i)}select(t,i){let s=this,o=s.series,r=o.chart;t=qi(t,!s.selected),this.selectedStaging=t,s.firePointEvent(t?"select":"unselect",{accumulate:i},function(){s.selected=s.options.selected=t,o.options.data[o.data.indexOf(s)]=s.options,s.setState(t&&"select"),i||r.getSelectedPoints().forEach(function(a){let h=a.series;a.selected&&a!==s&&(a.selected=a.options.selected=!1,h.options.data[h.data.indexOf(a)]=a.options,a.setState(r.hoverPoints&&h.options.inactiveOtherPoints?"inactive":""),a.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(t){let{inverted:i,pointer:s}=this.series.chart;s&&(t=t?s.normalize(t):s.getChartCoordinatesFromPoint(this,i),s.runPointActions(t,this))}onMouseOut(){let t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach(function(i){i.setState()}),t.hoverPoints=t.hoverPoint=null}manageEvent(t){let i=rh(this.series.options.point,this.options),s=i.events?.[t];ql(s)&&(!this.hcEvents?.[t]||this.hcEvents?.[t]?.map(o=>o.fn).indexOf(s)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=Xl(this,t,s),this.hcEvents&&(this.hcEvents[t].userEvent=!0)):this.importedUserEvent&&!s&&this.hcEvents?.[t]&&this.hcEvents?.[t].userEvent&&(ah(this,t),delete this.hcEvents[t],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(t,i){let s=this.series,o=this.state,r=s.options.states[t||"normal"]||{},a=Fl.plotOptions[s.type].marker&&s.options.marker,h=a&&a.enabled===!1,d=a&&a.states&&a.states[t||"normal"]||{},u=d.enabled===!1,m=this.marker||{},p=s.chart,g=a&&s.markerAttribs,v=s.halo,y,w,k,b=s.stateMarkerGraphic,P;if((t=t||"")===this.state&&!i||this.selected&&t!=="select"||r.enabled===!1||t&&(u||h&&d.enabled===!1)||t&&m.states&&m.states[t]&&m.states[t].enabled===!1)return;if(this.state=t,g&&(y=s.markerAttribs(this,t)),this.graphic&&!this.hasMockGraphic){if(o&&this.graphic.removeClass("highcharts-point-"+o),t&&this.graphic.addClass("highcharts-point-"+t),!p.styledMode){w=s.pointAttribs(this,t),k=qi(p.options.chart.animation,r.animation);let z=w.opacity;s.options.inactiveOtherPoints&&Vi(z)&&(this.dataLabels||[]).forEach(function(E){E&&!E.hasClass("highcharts-data-label-hidden")&&(E.animate({opacity:z},k),E.connector&&E.connector.animate({opacity:z},k))}),this.graphic.animate(w,k)}y&&this.graphic.animate(y,qi(p.options.chart.animation,d.animation,a.animation)),b&&b.hide()}else t&&d&&(P=m.symbol||s.symbol,b&&b.currentSymbol!==P&&(b=b.destroy()),y&&(b?b[i?"animate":"attr"]({x:y.x,y:y.y}):P&&(s.stateMarkerGraphic=b=p.renderer.symbol(P,y.x,y.y,y.width,y.height,rh(a,d)).add(s.markerGroup),b.currentSymbol=P)),!p.styledMode&&b&&this.state!=="inactive"&&b.attr(s.pointAttribs(this,t))),b&&(b[t&&this.isInside?"show":"hide"](),b.element.point=this,b.addClass(this.getClassName(),!0));let S=r.halo,I=this.graphic||b,B=I&&I.visibility||"inherit";S&&S.size&&I&&B!=="hidden"&&!this.isCluster?(v||(s.halo=v=p.renderer.path().add(I.parentGroup)),v.show()[i?"animate":"attr"]({d:this.haloPath(S.size)}),v.attr({class:"highcharts-halo highcharts-color-"+qi(this.colorIndex,s.colorIndex)+(this.className?" "+this.className:""),visibility:B,zIndex:-1}),v.point=this,p.styledMode||v.attr(or({fill:this.color||s.color,"fill-opacity":S.opacity},Et.filterUserAttributes(S.attributes||{})))):v?.point?.haloPath&&!v.point.destroyed&&v.animate({d:v.point.haloPath(0)},null,v.hide),ga(this,"afterSetState",{state:t})}haloPath(t){let i=this.pos();return i?this.series.chart.renderer.symbols.circle(jl(i[0],1)-t,i[1]-t,2*t,2*t):[]}}let $i=ao,{parse:Jl}=Vt,{charts:_a,composed:Ql,isTouchDevice:td}=U,{addEvent:je,attr:ed,css:va,extend:ya,find:hh,fireEvent:Ki,isNumber:ar,isObject:hr,objectEach:id,offset:sd,pick:si,pushUnique:nd,splat:lh}=ht;class le{applyInactiveState(t){let i=[],s;(t||[]).forEach(function(o){s=o.series,i.push(s),s.linkedParent&&i.push(s.linkedParent),s.linkedSeries&&(i=i.concat(s.linkedSeries)),s.navigatorSeries&&i.push(s.navigatorSeries)}),this.chart.series.forEach(function(o){i.indexOf(o)===-1?o.setState("inactive",!0):o.options.inactiveOtherPoints&&o.setAllPointsToState("inactive")})}destroy(){let t=this;this.eventsToUnbind.forEach(i=>i()),this.eventsToUnbind=[],!U.chartCount&&(le.unbindDocumentMouseUp.forEach(i=>i.unbind()),le.unbindDocumentMouseUp.length=0,le.unbindDocumentTouchEnd&&(le.unbindDocumentTouchEnd=le.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),id(t,function(i,s){t[s]=void 0})}getSelectionMarkerAttrs(t,i){let s={args:{chartX:t,chartY:i},attrs:{},shapeType:"rect"};return Ki(this,"getSelectionMarkerAttrs",s,o=>{let r,{chart:a,zoomHor:h,zoomVert:d}=this,{mouseDownX:u=0,mouseDownY:m=0}=a,p=o.attrs;p.x=a.plotLeft,p.y=a.plotTop,p.width=h?1:a.plotWidth,p.height=d?1:a.plotHeight,h&&(r=t-u,p.width=Math.max(1,Math.abs(r)),p.x=(r>0?0:r)+u),d&&(r=i-m,p.height=Math.max(1,Math.abs(r)),p.y=(r>0?0:r)+m)}),s}drag(t){let{chart:i}=this,{mouseDownX:s=0,mouseDownY:o=0}=i,{panning:r,panKey:a,selectionMarkerFill:h}=i.options.chart,d=i.plotLeft,u=i.plotTop,m=i.plotWidth,p=i.plotHeight,g=hr(r)?r.enabled:r,v=a&&t[`${a}Key`],y=t.chartX,w=t.chartY,k,b=this.selectionMarker;if((!b||!b.touch)&&(y<d?y=d:y>d+m&&(y=d+m),w<u?w=u:w>u+p&&(w=u+p),this.hasDragged=Math.sqrt(Math.pow(s-y,2)+Math.pow(o-w,2)),this.hasDragged>10)){k=i.isInsidePlot(s-d,o-u,{visiblePlotOnly:!0});let{shapeType:P,attrs:S}=this.getSelectionMarkerAttrs(y,w);(i.hasCartesianSeries||i.mapView)&&this.hasZoom&&k&&!v&&!b&&(this.selectionMarker=b=i.renderer[P](),b.attr({class:"highcharts-selection-marker",zIndex:7}).add(),i.styledMode||b.attr({fill:h||Jl("#334eff").setOpacity(.25).get()})),b&&b.attr(S),k&&!b&&g&&i.pan(t,r)}}dragStart(t){let i=this.chart;i.mouseIsDown=t.type,i.cancelClick=!1,i.mouseDownX=t.chartX,i.mouseDownY=t.chartY}getSelectionBox(t){let i={args:{marker:t},result:t.getBBox()};return Ki(this,"getSelectionBox",i),i.result}drop(t){let i,{chart:s,selectionMarker:o}=this;for(let r of s.axes)r.isPanning&&(r.isPanning=!1,(r.options.startOnTick||r.options.endOnTick||r.series.some(a=>a.boosted))&&(r.forceRedraw=!0,r.setExtremes(r.userMin,r.userMax,!1),i=!0));if(i&&s.redraw(),o&&t){if(this.hasDragged){let r=this.getSelectionBox(o);s.transform({axes:s.axes.filter(a=>a.zoomEnabled&&(a.coll==="xAxis"&&this.zoomX||a.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:t,xAxis:[],yAxis:[],...r},from:r})}ar(s.index)&&(this.selectionMarker=o.destroy())}s&&ar(s.index)&&(va(s.container,{cursor:s._cursor}),s.cancelClick=this.hasDragged>10,s.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(t,i,s){let o;return t.forEach(function(r){let a=!(r.noSharedTooltip&&i)&&0>r.options.findNearestPointBy.indexOf("y"),h=r.searchPoint(s,a);hr(h,!0)&&h.series&&(!hr(o,!0)||function(d,u){let m=d.distX-u.distX,p=d.dist-u.dist,g=u.series.group?.zIndex-d.series.group?.zIndex;return m!==0&&i?m:p!==0?p:g!==0?g:d.series.index>u.series.index?-1:1}(o,h)>0)&&(o=h)}),o}getChartCoordinatesFromPoint(t,i){let{xAxis:s,yAxis:o}=t.series,r=t.shapeArgs;if(s&&o){let a=t.clientX??t.plotX??0,h=t.plotY||0;return t.isNode&&r&&ar(r.x)&&ar(r.y)&&(a=r.x,h=r.y),i?{chartX:o.len+o.pos-h,chartY:s.len+s.pos-a}:{chartX:a+s.pos,chartY:h+o.pos}}if(r&&r.x&&r.y)return{chartX:r.x,chartY:r.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:t}=this.chart,i=sd(t);this.chartPosition={left:i.left,top:i.top,scaleX:1,scaleY:1};let{offsetHeight:s,offsetWidth:o}=t;return o>2&&s>2&&(this.chartPosition.scaleX=i.width/o,this.chartPosition.scaleY=i.height/s),this.chartPosition}getCoordinates(t){let i={xAxis:[],yAxis:[]};for(let s of this.chart.axes)i[s.isXAxis?"xAxis":"yAxis"].push({axis:s,value:s.toValue(t[s.horiz?"chartX":"chartY"])});return i}getHoverData(t,i,s,o,r,a){let h=[],d=function(v){return v.visible&&!(!r&&v.directTouch)&&si(v.options.enableMouseTracking,!0)},u=i,m,p={chartX:a?a.chartX:void 0,chartY:a?a.chartY:void 0,shared:r};Ki(this,"beforeGetHoverData",p),m=u&&!u.stickyTracking?[u]:s.filter(v=>v.stickyTracking&&(p.filter||d)(v));let g=o&&t||!a?t:this.findNearestKDPoint(m,r,a);return u=g&&g.series,g&&(r&&!u.noSharedTooltip?(m=s.filter(function(v){return p.filter?p.filter(v):d(v)&&!v.noSharedTooltip})).forEach(function(v){let y=hh(v.points,function(w){return w.x===g.x&&!w.isNull});hr(y)&&(v.boosted&&v.boost&&(y=v.boost.getPoint(y)),h.push(y))}):h.push(g)),Ki(this,"afterGetHoverData",p={hoverPoint:g}),{hoverPoint:p.hoverPoint,hoverSeries:u,hoverPoints:h}}getPointFromEvent(t){let i=t.target,s;for(;i&&!s;)s=i.point,i=i.parentNode;return s}onTrackerMouseOut(t){let i=this.chart,s=t.relatedTarget,o=i.hoverSeries;this.isDirectTouch=!1,!o||!s||o.stickyTracking||this.inClass(s,"highcharts-tooltip")||this.inClass(s,"highcharts-series-"+o.index)&&this.inClass(s,"highcharts-tracker")||o.onMouseOut()}inClass(t,i){let s=t,o;for(;s;){if(o=ed(s,"class")){if(o.indexOf(i)!==-1)return!0;if(o.indexOf("highcharts-container")!==-1)return!1}s=s.parentElement}}constructor(t,i){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=i,this.chart=t,this.runChartClick=!!i.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),Ki(this,"afterInit")}normalize(t,i){let s=t.touches,o=s?s.length?s.item(0):si(s.changedTouches,t.changedTouches)[0]:t;i||(i=this.getChartPosition());let r=o.pageX-i.left,a=o.pageY-i.top;return ya(t,{chartX:Math.round(r/=i.scaleX),chartY:Math.round(a/=i.scaleY)})}onContainerClick(t){let i=this.chart,s=i.hoverPoint,o=this.normalize(t),r=i.plotLeft,a=i.plotTop;!i.cancelClick&&(s&&this.inClass(o.target,"highcharts-tracker")?(Ki(s.series,"click",ya(o,{point:s})),i.hoverPoint&&s.firePointEvent("click",o)):(ya(o,this.getCoordinates(o)),i.isInsidePlot(o.chartX-r,o.chartY-a,{visiblePlotOnly:!0})&&Ki(i,"click",o)))}onContainerMouseDown(t){let i=(1&(t.buttons||t.button))==1;t=this.normalize(t),U.isFirefox&&t.button!==0&&this.onContainerMouseMove(t),(t.button===void 0||i)&&(this.zoomOption(t),i&&t.preventDefault?.(),this.dragStart(t))}onContainerMouseLeave(t){let{pointer:i}=_a[si(le.hoverChartIndex,-1)]||{};t=this.normalize(t),this.onContainerMouseMove(t),i&&!this.inClass(t.relatedTarget,"highcharts-tooltip")&&(i.reset(),i.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(t){let i=this.chart,s=i.tooltip,o=this.normalize(t);this.setHoverChartIndex(t),(i.mouseIsDown==="mousedown"||this.touchSelect(o))&&this.drag(o),!i.openMenu&&(this.inClass(o.target,"highcharts-tracker")||i.isInsidePlot(o.chartX-i.plotLeft,o.chartY-i.plotTop,{visiblePlotOnly:!0}))&&!(s&&s.shouldStickOnContact(o))&&(this.inClass(o.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(o))}onDocumentTouchEnd(t){this.onDocumentMouseUp(t)}onContainerTouchMove(t){this.touchSelect(t)?this.onContainerMouseMove(t):this.touch(t)}onContainerTouchStart(t){this.touchSelect(t)?this.onContainerMouseDown(t):(this.zoomOption(t),this.touch(t,!0))}onDocumentMouseMove(t){let i=this.chart,s=i.tooltip,o=this.chartPosition,r=this.normalize(t,o);!o||i.isInsidePlot(r.chartX-i.plotLeft,r.chartY-i.plotTop,{visiblePlotOnly:!0})||s&&s.shouldStickOnContact(r)||r.target!==i.container.ownerDocument&&this.inClass(r.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(t){_a[si(le.hoverChartIndex,-1)]?.pointer?.drop(t)}pinch(t){let i=this,{chart:s,hasZoom:o,lastTouches:r}=i,a=[].map.call(t.touches||[],p=>i.normalize(p)),h=a.length,d=h===1&&(i.inClass(t.target,"highcharts-tracker")&&s.runTrackerClick||i.runChartClick),u=s.tooltip,m=h===1&&si(u?.options.followTouchMove,!0);h>1?i.initiated=!0:m&&(i.initiated=!1),o&&i.initiated&&!d&&t.cancelable!==!1&&t.preventDefault(),t.type==="touchstart"?(i.pinchDown=a,i.res=!0,s.mouseDownX=t.chartX):m?this.runPointActions(i.normalize(t)):r&&(Ki(s,"touchpan",{originalEvent:t,touches:a},()=>{let p=g=>{let v=g[0],y=g[1]||v;return{x:v.chartX,y:v.chartY,width:y.chartX-v.chartX,height:y.chartY-v.chartY}};s.transform({axes:s.axes.filter(g=>g.zoomEnabled&&(this.zoomHor&&g.horiz||this.zoomVert&&!g.horiz)),to:p(a),from:p(r),trigger:t.type})}),i.res&&(i.res=!1,this.reset(!1,0))),i.lastTouches=a}reset(t,i){let s=this.chart,o=s.hoverSeries,r=s.hoverPoint,a=s.hoverPoints,h=s.tooltip,d=h&&h.shared?a:r;t&&d&&lh(d).forEach(function(u){u.series.isCartesian&&u.plotX===void 0&&(t=!1)}),t?h&&d&&lh(d).length&&(h.refresh(d),h.shared&&a?a.forEach(function(u){u.setState(u.state,!0),u.series.isCartesian&&(u.series.xAxis.crosshair&&u.series.xAxis.drawCrosshair(null,u),u.series.yAxis.crosshair&&u.series.yAxis.drawCrosshair(null,u))}):r&&(r.setState(r.state,!0),s.axes.forEach(function(u){u.crosshair&&r.series[u.coll]===u&&u.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),a&&a.forEach(function(u){u.setState()}),o&&o.onMouseOut(),h&&h.hide(i),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),s.axes.forEach(function(u){u.hideCrosshair()}),s.hoverPoints=s.hoverPoint=void 0)}runPointActions(t,i,s){let o=this.chart,r=o.series,a=o.tooltip&&o.tooltip.options.enabled?o.tooltip:void 0,h=!!a&&a.shared,d=i||o.hoverPoint,u=d&&d.series||o.hoverSeries,m=(!t||t.type!=="touchmove")&&(!!i||u&&u.directTouch&&this.isDirectTouch),p=this.getHoverData(d,u,r,m,h,t);d=p.hoverPoint,u=p.hoverSeries;let g=p.hoverPoints,v=u&&u.tooltipOptions.followPointer&&!u.tooltipOptions.split,y=h&&u&&!u.noSharedTooltip;if(d&&(s||d!==o.hoverPoint||a&&a.isHidden)){if((o.hoverPoints||[]).forEach(function(w){g.indexOf(w)===-1&&w.setState()}),o.hoverSeries!==u&&u.onMouseOver(),this.applyInactiveState(g),(g||[]).forEach(function(w){w.setState("hover")}),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),!d.series)return;o.hoverPoints=g,o.hoverPoint=d,d.firePointEvent("mouseOver",void 0,()=>{a&&d&&a.refresh(y?g:d,t)})}else if(v&&a&&!a.isHidden){let w=a.getAnchor([{}],t);o.isInsidePlot(w[0],w[1],{visiblePlotOnly:!0})&&a.updatePosition({plotX:w[0],plotY:w[1]})}this.unDocMouseMove||(this.unDocMouseMove=je(o.container.ownerDocument,"mousemove",w=>_a[le.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(w)),this.eventsToUnbind.push(this.unDocMouseMove)),o.axes.forEach(function(w){let k,b=si((w.crosshair||{}).snap,!0);!b||(k=o.hoverPoint)&&k.series[w.coll]===w||(k=hh(g,P=>P.series&&P.series[w.coll]===w)),k||!b?w.drawCrosshair(t,k):w.hideCrosshair()})}setDOMEvents(){let t=this.chart.container,i=t.ownerDocument;t.onmousedown=this.onContainerMouseDown.bind(this),t.onmousemove=this.onContainerMouseMove.bind(this),t.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(je(t,"mouseenter",this.onContainerMouseEnter.bind(this)),je(t,"mouseleave",this.onContainerMouseLeave.bind(this))),le.unbindDocumentMouseUp.some(o=>o.doc===i)||le.unbindDocumentMouseUp.push({doc:i,unbind:je(i,"mouseup",this.onDocumentMouseUp.bind(this))});let s=this.chart.renderTo.parentElement;for(;s&&s.tagName!=="BODY";)this.eventsToUnbind.push(je(s,"scroll",()=>{delete this.chartPosition})),s=s.parentElement;this.eventsToUnbind.push(je(t,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),je(t,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),le.unbindDocumentTouchEnd||(le.unbindDocumentTouchEnd=je(i,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),je(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!td)return;let t=this.pointerCaptureEventsToUnbind,i=this.chart,s=i.container,o=si(i.options.tooltip?.followTouchMove,!0)&&i.series.some(r=>r.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&o?(t.push(je(s,"pointerdown",r=>{r.target?.hasPointerCapture(r.pointerId)&&r.target?.releasePointerCapture(r.pointerId)}),je(s,"pointermove",r=>{i.pointer?.getPointFromEvent(r)?.onMouseOver(r)})),i.styledMode||va(s,{"touch-action":"none"}),s.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!o&&(t.forEach(r=>r()),t.length=0,i.styledMode||va(s,{"touch-action":si(i.options.chart.style?.["touch-action"],"manipulation")}),s.className=s.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(t){let i=this.chart,s=U.charts[si(le.hoverChartIndex,-1)];if(s&&s!==i){let o={relatedTarget:i.container};t&&!t?.relatedTarget&&(t={...o,...t}),s.pointer?.onContainerMouseLeave(t||o)}s&&s.mouseIsDown||(le.hoverChartIndex=i.index)}touch(t,i){let s,{chart:o,pinchDown:r=[]}=this;this.setHoverChartIndex(),(t=this.normalize(t)).touches.length===1?o.isInsidePlot(t.chartX-o.plotLeft,t.chartY-o.plotTop,{visiblePlotOnly:!0})&&!o.openMenu?(i&&this.runPointActions(t),t.type==="touchmove"&&(s=!!r[0]&&Math.pow(r[0].chartX-t.chartX,2)+Math.pow(r[0].chartY-t.chartY,2)>=16),si(s,!0)&&this.pinch(t)):i&&this.reset():t.touches.length===2&&this.pinch(t)}touchSelect(t){return!!(this.chart.zooming.singleTouch&&t.touches&&t.touches.length===1)}zoomOption(t){let i=this.chart,s=i.inverted,o=i.zooming.type||"",r,a;/touch/.test(t.type)&&(o=si(i.zooming.pinchType,o)),this.zoomX=r=/x/.test(o),this.zoomY=a=/y/.test(o),this.zoomHor=r&&!s||a&&s,this.zoomVert=a&&!s||r&&s,this.hasZoom=r||a}}le.unbindDocumentMouseUp=[],function(c){c.compose=function(t){nd(Ql,"Core.Pointer")&&je(t,"beforeRender",function(){this.pointer=new c(this,this.options)})}}(le||(le={}));let dh=le,{fireEvent:ch,isArray:od,objectEach:lr,uniqueKey:dr}=ht,cr=class{constructor(c={}){this.autoId=!c.id,this.columns={},this.id=c.id||dr(),this.modified=this,this.rowCount=0,this.versionTag=dr();let t=0;lr(c.columns||{},(i,s)=>{this.columns[s]=i.slice(),t=Math.max(t,i.length)}),this.applyRowCount(t)}applyRowCount(c){this.rowCount=c,lr(this.columns,t=>{od(t)&&(t.length=c)})}getColumn(c,t){return this.columns[c]}getColumns(c,t){return(c||Object.keys(this.columns)).reduce((i,s)=>(i[s]=this.columns[s],i),{})}getRow(c,t){return(t||Object.keys(this.columns)).map(i=>this.columns[i]?.[c])}setColumn(c,t=[],i=0,s){this.setColumns({[c]:t},i,s)}setColumns(c,t,i){let s=this.rowCount;lr(c,(o,r)=>{this.columns[r]=o.slice(),s=o.length}),this.applyRowCount(s),i?.silent||(ch(this,"afterSetColumns"),this.versionTag=dr())}setRow(c,t=this.rowCount,i,s){let{columns:o}=this,r=i?this.rowCount+1:t+1;lr(c,(a,h)=>{let d=o[h]||s?.addColumns!==!1&&Array(r);d&&(i?d.splice(t,0,a):d[t]=a,o[h]=d)}),r>this.rowCount&&this.applyRowCount(r),s?.silent||(ch(this,"afterSetRows"),this.versionTag=dr())}},{extend:rd,merge:ad,pick:uh}=ht;(function(c){function t(i,s,o){let r=this.legendItem=this.legendItem||{},{chart:a,options:h}=this,{baseline:d=0,symbolWidth:u,symbolHeight:m}=i,p=this.symbol||"circle",g=m/2,v=a.renderer,y=r.group,w=d-Math.round((i.fontMetrics?.b||m)*(o?.4:.3)),k={},b,P=h.marker,S=0;if(a.styledMode||(k["stroke-width"]=Math.min(h.lineWidth||0,24),h.dashStyle?k.dashstyle=h.dashStyle:h.linecap==="square"||(k["stroke-linecap"]="round")),r.line=v.path().addClass("highcharts-graph").attr(k).add(y),o&&(r.area=v.path().addClass("highcharts-area").add(y)),k["stroke-linecap"]&&(S=Math.min(r.line.strokeWidth(),u)/2),u){let I=[["M",S,w],["L",u-S,w]];r.line.attr({d:I}),r.area?.attr({d:[...I,["L",u-S,d],["L",S,d]]})}if(P&&P.enabled!==!1&&u){let I=Math.min(uh(P.radius,g),g);p.indexOf("url")===0&&(P=ad(P,{width:m,height:m}),I=0),r.symbol=b=v.symbol(p,u/2-I,w-I,2*I,2*I,rd({context:"legend"},P)).addClass("highcharts-point").add(y),b.isMarker=!0}}c.areaMarker=function(i,s){t.call(this,i,s,!0)},c.lineMarker=t,c.rectangle=function(i,s){let o=s.legendItem||{},r=i.options,a=i.symbolHeight,h=r.squareSymbol,d=h?a:i.symbolWidth;o.symbol=this.chart.renderer.rect(h?(i.symbolWidth-a)/2:0,i.baseline-a+1,d,a,uh(i.options.symbolRadius,a/2)).addClass("highcharts-point").attr({zIndex:3}).add(o.group)}})(q||(q={}));let ph=q,{defaultOptions:fh}=ke,{extend:hd,extendClass:ld,merge:dd}=ht;(function(c){function t(i,s){let o=fh.plotOptions||{},r=s.defaultOptions,a=s.prototype;return a.type=i,a.pointClass||(a.pointClass=$i),!c.seriesTypes[i]&&(r&&(o[i]=r),c.seriesTypes[i]=s,!0)}c.seriesTypes=U.seriesTypes,c.registerSeriesType=t,c.seriesType=function(i,s,o,r,a){let h=fh.plotOptions||{};if(s=s||"",h[i]=dd(h[s],o),delete c.seriesTypes[i],t(i,ld(c.seriesTypes[s]||function(){},r)),c.seriesTypes[i].prototype.type=i,a){class d extends $i{}hd(d.prototype,a),c.seriesTypes[i].prototype.pointClass=d}return c.seriesTypes[i]}})(j||(j={}));let $t=j,{animObject:mh,setAnimation:cd}=se,{defaultOptions:ur}=ke,{registerEventOptions:ud}=ws,{svg:pd,win:fd}=U,{seriesTypes:ln}=$t,{arrayMax:xa,arrayMin:gh,clamp:_h,correctFloat:vh,crisp:md,defined:de,destroyObjectProperties:gd,diffObjects:_d,erase:yh,error:pr,extend:dn,find:vd,fireEvent:Gt,getClosestDistance:yd,getNestedProperty:xh,insertItem:bh,isArray:wh,isNumber:ce,isString:xd,merge:cn,objectEach:ba,pick:Xt,removeEvent:bd,syncTimeout:Lh}=ht;class un{constructor(){this.zoneAxis="y"}init(t,i){let s;Gt(this,"init",{options:i}),this.dataTable??(this.dataTable=new cr);let o=t.series;this.eventsToUnbind=[],this.chart=t,this.options=this.setOptions(i);let r=this.options,a=r.visible!==!1;this.linkedSeries=[],this.bindAxes(),dn(this,{name:r.name,state:"",visible:a,selected:r.selected===!0}),ud(this,r);let h=r.events;(h&&h.click||r.point&&r.point.events&&r.point.events.click||r.allowPointSelect)&&(t.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(t.hasCartesianSeries=!0),o.length&&(s=o[o.length-1]),this._i=Xt(s&&s._i,-1)+1,this.opacity=this.options.opacity,t.orderItems("series",bh(this,o)),r.dataSorting&&r.dataSorting.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(r.data,!1),Gt(this,"afterInit")}is(t){return ln[t]&&this instanceof ln[t]}bindAxes(){let t,i=this,s=i.options,o=i.chart;Gt(this,"bindAxes",null,function(){(i.axisTypes||[]).forEach(function(r){(o[r]||[]).forEach(function(a){t=a.options,(Xt(s[r],0)===a.index||s[r]!==void 0&&s[r]===t.id)&&(bh(i,a.series),i[r]=a,a.isDirty=!0)}),i[r]||i.optionalAxis===r||pr(18,!0,o)})}),Gt(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(t,i){let s=t.marker,o=i.marker||{};return s&&(o.enabled&&!s.enabled||o.symbol!==s.symbol||o.height!==s.height||o.width!==s.width)}autoIncrement(t){let i,s=this.options,{pointIntervalUnit:o,relativeXValue:r}=this.options,a=this.chart.time,h=this.xIncrement??a.parse(s.pointStart)??0;if(this.pointInterval=i=Xt(this.pointInterval,s.pointInterval,1),r&&ce(t)&&(i*=t),o){let d=a.toParts(h);o==="day"?d[2]+=i:o==="month"?d[1]+=i:o==="year"&&(d[0]+=i),i=a.makeTime.apply(a,d)-h}return r&&ce(t)?h+i:(this.xIncrement=h+i,h)}setDataSortingOptions(){let t=this.options;dn(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),de(t.pointRange)||(t.pointRange=1)}setOptions(t){let i,s=this.chart,o=s.options.plotOptions,r=s.userOptions||{},a=cn(t),h=s.styledMode,d={plotOptions:o,userOptions:a};Gt(this,"setOptions",d);let u=d.plotOptions[this.type],m=r.plotOptions||{},p=m.series||{},g=ur.plotOptions[this.type]||{},v=m[this.type]||{};this.userOptions=d.userOptions;let y=cn(u,o.series,v,a);this.tooltipOptions=cn(ur.tooltip,ur.plotOptions.series?.tooltip,g?.tooltip,s.userOptions.tooltip,m.series?.tooltip,v.tooltip,a.tooltip),this.stickyTracking=Xt(a.stickyTracking,v.stickyTracking,p.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||y.stickyTracking),u.marker===null&&delete y.marker,this.zoneAxis=y.zoneAxis||"y";let w=this.zones=(y.zones||[]).map(k=>({...k}));return(y.negativeColor||y.negativeFillColor)&&!y.zones&&(i={value:y[this.zoneAxis+"Threshold"]||y.threshold||0,className:"highcharts-negative"},h||(i.color=y.negativeColor,i.fillColor=y.negativeFillColor),w.push(i)),w.length&&de(w[w.length-1].value)&&w.push(h?{}:{color:this.color,fillColor:this.fillColor}),Gt(this,"afterSetOptions",{options:y}),y}getName(){return Xt(this.options.name,"Series "+(this.index+1))}getCyclic(t,i,s){let o,r,a=this.chart,h=`${t}Index`,d=`${t}Counter`,u=s?.length||a.options.chart.colorCount;!i&&(de(r=Xt(t==="color"?this.options.colorIndex:void 0,this[h]))?o=r:(a.series.length||(a[d]=0),o=a[d]%u,a[d]+=1),s&&(i=s[o])),o!==void 0&&(this[h]=o),this[t]=i}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||ur.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)}getColumn(t,i){return(i?this.dataTable.modified:this.dataTable).getColumn(t,!0)||[]}findPointIndex(t,i){let s,o,r,a=t.id,h=t.x,d=this.points,u=this.options.dataSorting;if(a){let m=this.chart.get(a);m instanceof $i&&(s=m)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let m=p=>!p.touched&&p.index===t.index;if(u&&u.matchByName?m=p=>!p.touched&&p.name===t.name:this.options.relativeXValue&&(m=p=>!p.touched&&p.options.x===t.x),!(s=vd(d,m)))return}return s&&(r=s&&s.index)!==void 0&&(o=!0),r===void 0&&ce(h)&&(r=this.getColumn("x").indexOf(h,i)),r!==-1&&r!==void 0&&this.cropped&&(r=r>=this.cropStart?r-this.cropStart:r),!o&&ce(r)&&d[r]&&d[r].touched&&(r=void 0),r}updateData(t,i){let s=this.options,o=s.dataSorting,r=this.points,a=[],h=this.requireSorting,d=t.length===r.length,u,m,p,g,v=!0;if(this.xIncrement=null,t.forEach(function(w,k){let b,P=de(w)&&this.pointClass.prototype.optionsToObject.call({series:this},w)||{},S=P.x;P.id||ce(S)?((b=this.findPointIndex(P,g))===-1||b===void 0?a.push(w):r[b]&&w!==s.data[b]?(r[b].update(w,!1,null,!1),r[b].touched=!0,h&&(g=b+1)):r[b]&&(r[b].touched=!0),(!d||k!==b||o&&o.enabled||this.hasDerivedData)&&(u=!0)):a.push(w)},this),u)for(m=r.length;m--;)(p=r[m])&&!p.touched&&p.remove&&p.remove(!1,i);else!d||o&&o.enabled?v=!1:(t.forEach(function(w,k){w===r[k].y||r[k].destroyed||r[k].update(w,!1,null,!1)}),a.length=0);if(r.forEach(function(w){w&&(w.touched=!1)}),!v)return!1;a.forEach(function(w){this.addPoint(w,!1,null,null,!1)},this);let y=this.getColumn("x");return this.xIncrement===null&&y.length&&(this.xIncrement=xa(y),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(t,i=!0,s,o){let r=this.points,a=r&&r.length||0,h=this.options,d=this.chart,u=h.dataSorting,m=this.xAxis,p=h.turboThreshold,g=this.dataTable,v=this.dataColumnKeys(),y=this.pointValKey||"y",w=(this.pointArrayMap||[]).length,k=h.keys,b,P,S=0,I=1,B;d.options.chart.allowMutatingData||(h.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,B=cn(!0,t));let z=(t=B||t||[]).length;if(u&&u.enabled&&(t=this.sortData(t)),d.options.chart.allowMutatingData&&o!==!1&&z&&a&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(P=this.updateData(t,s)),!P){this.xIncrement=null,this.colorCounter=0;let E=p&&z>p;if(E){let D=this.getFirstValidPoint(t),F=this.getFirstValidPoint(t,z-1,-1),X=Y=>!!(wh(Y)&&(k||ce(Y[0])));if(ce(D)&&ce(F)){let Y=[],tt=[];for(let et of t)Y.push(this.autoIncrement()),tt.push(et);g.setColumns({x:Y,[y]:tt})}else if(X(D)&&X(F))if(w){let Y=D.length===w?1:0,tt=Array(v.length).fill(0).map(()=>[]);for(let et of t){Y&&tt[0].push(this.autoIncrement());for(let ot=Y;ot<=w;ot++)tt[ot]?.push(et[ot-Y])}g.setColumns(v.reduce((et,ot,st)=>(et[ot]=tt[st],et),{}))}else{k&&(S=k.indexOf("x"),I=k.indexOf("y"),S=S>=0?S:0,I=I>=0?I:1),D.length===1&&(I=0);let Y=[],tt=[];if(S===I)for(let et of t)Y.push(this.autoIncrement()),tt.push(et[I]);else for(let et of t)Y.push(et[S]),tt.push(et[I]);g.setColumns({x:Y,[y]:tt})}else E=!1}if(!E){let D=v.reduce((F,X)=>(F[X]=[],F),{});for(b=0;b<z;b++){let F=this.pointClass.prototype.applyOptions.apply({series:this},[t[b]]);for(let X of v)D[X][b]=F[X]}g.setColumns(D)}for(xd(this.getColumn("y")[0])&&pr(14,!0,d),this.data=[],this.options.data=this.userOptions.data=t,b=a;b--;)r[b]?.destroy();m&&(m.minRange=m.userMinRange),this.isDirty=d.isDirtyBox=!0,this.isDirtyData=!!r,s=!1}h.legendType==="point"&&(this.processData(),this.generatePoints()),i&&d.redraw(s)}sortData(t){let i=this,s=i.options.dataSorting.sortKey||"y",o=function(r,a){return de(a)&&r.pointClass.prototype.optionsToObject.call({series:r},a)||{}};return t.forEach(function(r,a){t[a]=o(i,r),t[a].index=a},this),t.concat().sort((r,a)=>{let h=xh(s,r),d=xh(s,a);return d<h?-1:d>h?1:0}).forEach(function(r,a){r.x=a},this),i.linkedSeries&&i.linkedSeries.forEach(function(r){let a=r.options,h=a.data;a.dataSorting&&a.dataSorting.enabled||!h||(h.forEach(function(d,u){h[u]=o(r,d),t[u]&&(h[u].x=t[u].x,h[u].index=u)}),r.setData(h,!1))}),t}getProcessedData(t){let i=this,{dataTable:s,isCartesian:o,options:r,xAxis:a}=i,h=r.cropThreshold,d=t||i.getExtremesFromAll,u=a?.logarithmic,m=s.rowCount,p,g,v=0,y,w,k,b=i.getColumn("x"),P=s,S=!1;return a&&(w=(y=a.getExtremes()).min,k=y.max,S=!!(a.categories&&!a.names.length),o&&i.sorted&&!d&&(!h||m>h||i.forceCrop)&&(b[m-1]<w||b[0]>k?P=new cr:i.getColumn(i.pointValKey||"y").length&&(b[0]<w||b[m-1]>k)&&(P=(p=this.cropData(s,w,k)).modified,v=p.start,g=!0))),b=P.getColumn("x")||[],{modified:P,cropped:g,cropStart:v,closestPointRange:yd([u?b.map(u.log2lin):b],()=>i.requireSorting&&!S&&pr(15,!1,i.chart))}}processData(t){let i=this.xAxis,s=this.dataTable;if(this.isCartesian&&!this.isDirty&&!i.isDirty&&!this.yAxis.isDirty&&!t)return!1;let o=this.getProcessedData();s.modified=o.modified,this.cropped=o.cropped,this.cropStart=o.cropStart,this.closestPointRange=this.basePointRange=o.closestPointRange,Gt(this,"afterProcessData")}cropData(t,i,s){let o=t.getColumn("x",!0)||[],r=o.length,a={},h,d,u=0,m=r;for(h=0;h<r;h++)if(o[h]>=i){u=Math.max(0,h-1);break}for(d=h;d<r;d++)if(o[d]>s){m=d+1;break}for(let p of this.dataColumnKeys()){let g=t.getColumn(p,!0);g&&(a[p]=g.slice(u,m))}return{modified:new cr({columns:a}),start:u,end:m}}generatePoints(){let t=this.options,i=this.processedData||t.data,s=this.dataTable.modified,o=this.getColumn("x",!0),r=this.pointClass,a=s.rowCount,h=this.cropStart||0,d=this.hasGroupedData,u=t.keys,m=[],p=t.dataGrouping&&t.dataGrouping.groupAll?h:0,g=this.xAxis?.categories,v=this.pointArrayMap||["y"],y=this.dataColumnKeys(),w,k,b,P,S=this.data,I;if(!S&&!d){let B=[];B.length=i?.length||0,S=this.data=B}for(u&&d&&(this.options.keys=!1),P=0;P<a;P++)k=h+P,d?((b=new r(this,s.getRow(P,y)||[])).dataGroup=this.groupMap[p+P],b.dataGroup?.options&&(b.options=b.dataGroup.options,dn(b,b.dataGroup.options),delete b.dataLabels)):(b=S[k],I=i?i[k]:s.getRow(P,v),b||I===void 0||(S[k]=b=new r(this,I,o[P]))),b&&(b.index=d?p+P:k,m[P]=b,b.category=g?.[b.x]??b.x,b.key=b.name??b.category);if(this.options.keys=u,S&&(a!==(w=S.length)||d))for(P=0;P<w;P++)P!==h||d||(P+=a),S[P]&&(S[P].destroyElements(),S[P].plotX=void 0);this.data=S,this.points=m,Gt(this,"afterGeneratePoints")}getXExtremes(t){return{min:gh(t),max:xa(t)}}getExtremes(t,i){let{xAxis:s,yAxis:o}=this,r=i||this.getExtremesFromAll||this.options.getExtremesFromAll,a=r&&this.cropped?this.dataTable:this.dataTable.modified,h=a.rowCount,d=t||this.stackedYData,u=d?[d]:(this.keysAffectYAxis||this.pointArrayMap||["y"])?.map(B=>a.getColumn(B,!0)||[])||[],m=this.getColumn("x",!0),p=[],g=this.requireSorting&&!this.is("column")?1:0,v=!!o&&o.positiveValuesOnly,y=r||this.cropped||!s,w,k,b,P=0,S=0;for(s&&(P=(w=s.getExtremes()).min,S=w.max),b=0;b<h;b++)if(k=m[b],y||(m[b+g]||k)>=P&&(m[b-g]||k)<=S)for(let B of u){let z=B[b];ce(z)&&(z>0||!v)&&p.push(z)}let I={activeYData:p,dataMin:gh(p),dataMax:xa(p)};return Gt(this,"afterGetExtremes",{dataExtremes:I}),I}applyExtremes(){let t=this.getExtremes();return this.dataMin=t.dataMin,this.dataMax=t.dataMax,t}getFirstValidPoint(t,i=0,s=1){let o=t.length,r=i;for(;r>=0&&r<o;){if(de(t[r]))return t[r];r+=s}}translate(){this.generatePoints();let t=this.options,i=t.stacking,s=this.xAxis,o=this.enabledDataSorting,r=this.yAxis,a=this.points,h=a.length,d=this.pointPlacementToXValue(),u=!!d,m=t.threshold,p=t.startFromThreshold?m:0,g,v,y,w,k=Number.MAX_VALUE;function b(P){return _h(P,-1e9,1e9)}for(g=0;g<h;g++){let P,S=a[g],I=S.x,B,z,E=S.y,D=S.low,F=i&&r.stacking?.stacks[(this.negStacks&&E<(p?0:m)?"-":"")+this.stackKey];v=s.translate(I,!1,!1,!1,!0,d),S.plotX=ce(v)?vh(b(v)):void 0,i&&this.visible&&F&&F[I]&&(w=this.getStackIndicator(w,I,this.index),!S.isNull&&w.key&&(z=(B=F[I]).points[w.key]),B&&wh(z)&&(D=z[0],E=z[1],D===p&&w.key===F[I].base&&(D=Xt(ce(m)?m:r.min)),r.positiveValuesOnly&&de(D)&&D<=0&&(D=void 0),S.total=S.stackTotal=Xt(B.total),S.percentage=de(S.y)&&B.total?S.y/B.total*100:void 0,S.stackY=E,this.irregularWidths||B.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),S.yBottom=de(D)?b(r.translate(D,!1,!0,!1,!0)):void 0,this.dataModify&&(E=this.dataModify.modifyValue(E,g)),ce(E)&&S.plotX!==void 0&&(P=ce(P=r.translate(E,!1,!0,!1,!0))?b(P):void 0),S.plotY=P,S.isInside=this.isPointInside(S),S.clientX=u?vh(s.translate(I,!1,!1,!1,!0,d)):v,S.negative=(S.y||0)<(m||0),S.isNull||S.visible===!1||(y!==void 0&&(k=Math.min(k,Math.abs(v-y))),y=v),S.zone=this.zones.length?S.getZone():void 0,!S.graphic&&this.group&&o&&(S.isNew=!0)}this.closestPointRangePx=k,Gt(this,"afterTranslate")}getValidPoints(t,i,s){let o=this.chart;return(t||this.points||[]).filter(function(r){let{plotX:a,plotY:h}=r;return!!((s||!r.isNull&&ce(h))&&(!i||o.isInsidePlot(a,h,{inverted:o.inverted})))&&r.visible!==!1})}getClipBox(){let{chart:t,xAxis:i,yAxis:s}=this,{x:o,y:r,width:a,height:h}=cn(t.clipBox);return i&&i.len!==t.plotSizeX&&(a=i.len),s&&s.len!==t.plotSizeY&&(h=s.len),t.inverted&&!this.invertible&&([a,h]=[h,a]),{x:o,y:r,width:a,height:h}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:t,group:i,markerGroup:s}=this,o=t.sharedClips,r=t.renderer,a=this.getClipBox(),h=this.getSharedClipKey(),d=o[h];d?d.animate(a):o[h]=d=r.clipRect(a),i&&i.clip(this.options.clip===!1?void 0:d),s&&s.clip()}animate(t){let{chart:i,group:s,markerGroup:o}=this,r=i.inverted,a=mh(this.options.animation),h=[this.getSharedClipKey(),a.duration,a.easing,a.defer].join(","),d=i.sharedClips[h],u=i.sharedClips[h+"m"];if(t&&s){let m=this.getClipBox();if(d)d.attr("height",m.height);else{m.width=0,r&&(m.x=i.plotHeight),d=i.renderer.clipRect(m),i.sharedClips[h]=d;let p={x:-99,y:-99,width:r?i.plotWidth+199:99,height:r?99:i.plotHeight+199};u=i.renderer.clipRect(p),i.sharedClips[h+"m"]=u}s.clip(d),o?.clip(u)}else if(d&&!d.hasClass("highcharts-animating")){let m=this.getClipBox(),p=a.step;(o?.element.childNodes.length||i.series.length>1)&&(a.step=function(g,v){p&&p.apply(v,arguments),v.prop==="width"&&u?.element&&u.attr(r?"height":"width",g+99)}),d.addClass("highcharts-animating").animate(m,a)}}afterAnimate(){this.setClip(),ba(this.chart.sharedClips,(t,i,s)=>{t&&!this.chart.container.querySelector(`[clip-path="url(#${t.id})"]`)&&(t.destroy(),delete s[i])}),this.finishedAnimating=!0,Gt(this,"afterAnimate")}drawPoints(t=this.points){let i,s,o,r,a,h,d,u=this.chart,m=u.styledMode,{colorAxis:p,options:g}=this,v=g.marker,y=this[this.specialGroup||"markerGroup"],w=this.xAxis,k=Xt(v.enabled,!w||!!w.isRadial||null,this.closestPointRangePx>=v.enabledThreshold*v.radius);if(v.enabled!==!1||this._hasPointMarkers)for(i=0;i<t.length;i++)if(r=(o=(s=t[i]).graphic)?"animate":"attr",a=s.marker||{},h=!!s.marker,(k&&a.enabled===void 0||a.enabled)&&!s.isNull&&s.visible!==!1){let b=Xt(a.symbol,this.symbol,"rect");d=this.markerAttribs(s,s.selected&&"select"),this.enabledDataSorting&&(s.startXPos=w.reversed?-(d.width||0):w.width);let P=s.isInside!==!1;if(!o&&P&&((d.width||0)>0||s.hasImage)&&(s.graphic=o=u.renderer.symbol(b,d.x,d.y,d.width,d.height,h?a:v).add(y),this.enabledDataSorting&&u.hasRendered&&(o.attr({x:s.startXPos}),r="animate")),o&&r==="animate"&&o[P?"show":"hide"](P).animate(d),o){let S=this.pointAttribs(s,m||!s.selected?void 0:"select");m?p&&o.css({fill:S.fill}):o[r](S)}o&&o.addClass(s.getClassName(),!0)}else o&&(s.graphic=o.destroy())}markerAttribs(t,i){let s=this.options,o=s.marker,r=t.marker||{},a=r.symbol||o.symbol,h={},d,u,m=Xt(r.radius,o&&o.radius);i&&(d=o.states[i],m=Xt((u=r.states&&r.states[i])&&u.radius,d&&d.radius,m&&m+(d&&d.radiusPlus||0))),t.hasImage=a&&a.indexOf("url")===0,t.hasImage&&(m=0);let p=t.pos();return ce(m)&&p&&(s.crisp&&(p[0]=md(p[0],t.hasImage?0:a==="rect"?o?.lineWidth||0:1)),h.x=p[0]-m,h.y=p[1]-m),m&&(h.width=h.height=2*m),h}pointAttribs(t,i){let s=this.options.marker,o=t&&t.options,r=o&&o.marker||{},a=o&&o.color,h=t&&t.color,d=t&&t.zone&&t.zone.color,u,m,p=this.color,g,v,y=Xt(r.lineWidth,s.lineWidth),w=1;return p=a||d||h||p,g=r.fillColor||s.fillColor||p,v=r.lineColor||s.lineColor||p,i=i||"normal",u=s.states[i]||{},y=Xt((m=r.states&&r.states[i]||{}).lineWidth,u.lineWidth,y+Xt(m.lineWidthPlus,u.lineWidthPlus,0)),g=m.fillColor||u.fillColor||g,{stroke:v=m.lineColor||u.lineColor||v,"stroke-width":y,fill:g,opacity:w=Xt(m.opacity,u.opacity,w)}}destroy(t){let i,s,o,r=this,a=r.chart,h=/AppleWebKit\/533/.test(fd.navigator.userAgent),d=r.data||[];for(Gt(r,"destroy",{keepEventsForUpdate:t}),this.removeEvents(t),(r.axisTypes||[]).forEach(function(u){(o=r[u])&&o.series&&(yh(o.series,r),o.isDirty=o.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),i=d.length;i--;)(s=d[i])&&s.destroy&&s.destroy();for(let u of r.zones)gd(u,void 0,!0);ht.clearTimeout(r.animationTimeout),ba(r,function(u,m){u instanceof Fe&&!u.survive&&u[h&&m==="group"?"hide":"destroy"]()}),a.hoverSeries===r&&(a.hoverSeries=void 0),yh(a.series,r),a.orderItems("series"),ba(r,function(u,m){t&&m==="hcEvents"||delete r[m]})}applyZones(){let{area:t,chart:i,graph:s,zones:o,points:r,xAxis:a,yAxis:h,zoneAxis:d}=this,{inverted:u,renderer:m}=i,p=this[`${d}Axis`],{isXAxis:g,len:v=0,minPointOffset:y=0}=p||{},w=(s?.strokeWidth()||0)/2+1,k=(b,P=0,S=0)=>{u&&(S=v-S);let{translated:I=0,lineClip:B}=b,z=S-I;B?.push(["L",P,Math.abs(z)<w?S-w*(z<=0?-1:1):I])};if(o.length&&(s||t)&&p&&ce(p.min)){let b=p.getExtremes().max+y,P=B=>{B.forEach((z,E)=>{(z[0]==="M"||z[0]==="L")&&(B[E]=[z[0],g?v-z[1]:z[1],g?z[2]:v-z[2]])})};if(o.forEach(B=>{B.lineClip=[],B.translated=_h(p.toPixels(Xt(B.value,b),!0)||0,0,v)}),s&&!this.showLine&&s.hide(),t&&t.hide(),d==="y"&&r.length<a.len)for(let B of r){let{plotX:z,plotY:E,zone:D}=B,F=D&&o[o.indexOf(D)-1];D&&k(D,z,E),F&&k(F,z,E)}let S=[],I=p.toPixels(p.getExtremes().min-y,!0);o.forEach(B=>{let z=B.lineClip||[],E=Math.round(B.translated||0);a.reversed&&z.reverse();let{clip:D,simpleClip:F}=B,X=0,Y=0,tt=a.len,et=h.len;g?(X=E,tt=I):(Y=E,et=I);let ot=[["M",X,Y],["L",tt,Y],["L",tt,et],["L",X,et],["Z"]],st=[ot[0],...z,ot[1],ot[2],...S,ot[3],ot[4]];S=z.reverse(),I=E,u&&(P(st),t&&P(ot)),D?(D.animate({d:st}),F?.animate({d:ot})):(D=B.clip=m.path(st),t&&(F=B.simpleClip=m.path(ot))),s&&B.graph?.clip(D),t&&B.area?.clip(F)})}else this.visible&&(s&&s.show(),t&&t.show())}plotGroup(t,i,s,o,r){let a=this[t],h=!a,d={visibility:s,zIndex:o||.1};return de(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(d.opacity=this.opacity),a||(this[t]=a=this.chart.renderer.g().add(r)),a.addClass("highcharts-"+i+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(de(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(a.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),a.attr(d)[h?"attr":"animate"](this.getPlotBox(i)),a}getPlotBox(t){let i=this.xAxis,s=this.yAxis,o=this.chart,r=o.inverted&&!o.polar&&i&&this.invertible&&t==="series";return o.inverted&&(i=s,s=this.xAxis),{translateX:i?i.left:o.plotLeft,translateY:s?s.top:o.plotTop,rotation:r?90:0,rotationOriginX:r?(i.len-s.len)/2:0,rotationOriginY:r?(i.len+s.len)/2:0,scaleX:r?-1:1,scaleY:1}}removeEvents(t){let{eventsToUnbind:i}=this;t||bd(this),i.length&&(i.forEach(s=>{s()}),i.length=0)}render(){let t=this,{chart:i,options:s,hasRendered:o}=t,r=mh(s.animation),a=t.visible?"inherit":"hidden",h=s.zIndex,d=i.seriesGroup,u=t.finishedAnimating?0:r.duration;Gt(this,"render"),t.plotGroup("group","series",a,h,d),t.markerGroup=t.plotGroup("markerGroup","markers",a,h,d),s.clip!==!1&&t.setClip(),u&&t.animate?.(!0),t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels?.(),t.redrawPoints?.(),s.enableMouseTracking&&t.drawTracker?.(),u&&t.animate?.(),o||(u&&r.defer&&(u+=r.defer),t.animationTimeout=Lh(()=>{t.afterAnimate()},u||0)),t.isDirty=!1,t.hasRendered=!0,Gt(t,"afterRender")}redraw(){let t=this.isDirty||this.isDirtyData;this.translate(),this.render(),t&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(t,i){let{xAxis:s,yAxis:o}=this,r=this.chart.inverted;return this.searchKDTree({clientX:r?s.len-t.chartY+s.pos:t.chartX-s.pos,plotY:r?o.len-t.chartX+o.pos:t.chartY-o.pos},i,t)}buildKDTree(t){this.buildingKdTree=!0;let i=this,s=i.options.findNearestPointBy.indexOf("y")>-1?2:1;delete i.kdTree,Lh(function(){i.kdTree=function o(r,a,h){let d,u,m=r?.length;if(m)return d=i.kdAxisArray[a%h],r.sort((p,g)=>(p[d]||0)-(g[d]||0)),{point:r[u=Math.floor(m/2)],left:o(r.slice(0,u),a+1,h),right:o(r.slice(u+1),a+1,h)}}(i.getValidPoints(void 0,!i.directTouch),s,s),i.buildingKdTree=!1},i.options.kdNow||t?.type==="touchstart"?0:1)}searchKDTree(t,i,s,o,r){let a=this,[h,d]=this.kdAxisArray,u=i?"distX":"dist",m=(a.options.findNearestPointBy||"").indexOf("y")>-1?2:1,p=!!a.isBubble,g=o||((y,w,k)=>[(y[k]||0)<(w[k]||0)?y:w,!1]),v=r||((y,w)=>y<w);if(this.kdTree||this.buildingKdTree||this.buildKDTree(s),this.kdTree)return function y(w,k,b,P){let S=k.point,I=a.kdAxisArray[b%P],B=S,z=!1;(function(X,Y){let tt=X[h],et=Y[h],ot=de(tt)&&de(et)?tt-et:null,st=X[d],at=Y[d],bt=de(st)&&de(at)?st-at:0,ft=p&&Y.marker?.radius||0;Y.dist=Math.sqrt((ot&&ot*ot||0)+bt*bt)-ft,Y.distX=de(ot)?Math.abs(ot)-ft:Number.MAX_VALUE})(w,S);let E=(w[I]||0)-(S[I]||0)+(p&&S.marker?.radius||0),D=E<0?"left":"right",F=E<0?"right":"left";return k[D]&&([B,z]=g(S,y(w,k[D],b+1,P),u)),k[F]&&v(Math.sqrt(E*E),B[u],z)&&(B=g(B,y(w,k[F],b+1,P),u)[0]),B}(t,this.kdTree,m,m)}pointPlacementToXValue(){let{options:t,xAxis:i}=this,s=t.pointPlacement;return s==="between"&&(s=i.reversed?-.5:.5),ce(s)?s*(t.pointRange||i.pointRange):0}isPointInside(t){let{chart:i,xAxis:s,yAxis:o}=this,{plotX:r=-1,plotY:a=-1}=t;return a>=0&&a<=(o?o.len:i.plotHeight)&&r>=0&&r<=(s?s.len:i.plotWidth)}drawTracker(){let t=this,i=t.options,s=i.trackByArea,o=[].concat((s?t.areaPath:t.graphPath)||[]),r=t.chart,a=r.pointer,h=r.renderer,d=r.options.tooltip?.snap||0,u=()=>{i.enableMouseTracking&&r.hoverSeries!==t&&t.onMouseOver()},m="rgba(192,192,192,"+(pd?1e-4:.002)+")",p=t.tracker;p?p.attr({d:o}):t.graph&&(t.tracker=p=h.path(o).attr({visibility:t.visible?"inherit":"hidden",zIndex:2}).addClass(s?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),r.styledMode||p.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:m,fill:s?m:"none","stroke-width":t.graph.strokeWidth()+(s?0:2*d)}),[t.tracker,t.markerGroup,t.dataLabelsGroup].forEach(g=>{g&&(g.addClass("highcharts-tracker").on("mouseover",u).on("mouseout",v=>{a?.onTrackerMouseOut(v)}),i.cursor&&!r.styledMode&&g.css({cursor:i.cursor}),g.on("touchstart",u))})),Gt(this,"afterDrawTracker")}addPoint(t,i,s,o,r){let a,h,d=this.options,{chart:u,data:m,dataTable:p,xAxis:g}=this,v=g&&g.hasNames&&g.names,y=d.data,w=this.getColumn("x");i=Xt(i,!0);let k={series:this};this.pointClass.prototype.applyOptions.apply(k,[t]);let b=k.x;if(h=w.length,this.requireSorting&&b<w[h-1])for(a=!0;h&&w[h-1]>b;)h--;p.setRow(k,h,!0,{addColumns:!1}),v&&k.name&&(v[b]=k.name),y?.splice(h,0,t),(a||this.processedData)&&(this.data.splice(h,0,null),this.processData()),d.legendType==="point"&&this.generatePoints(),s&&(m[0]&&m[0].remove?m[0].remove(!1):([m,y,...Object.values(p.getColumns())].filter(de).forEach(P=>{P.shift()}),p.rowCount-=1,Gt(p,"afterDeleteRows"))),r!==!1&&Gt(this,"addPoint",{point:k}),this.isDirty=!0,this.isDirtyData=!0,i&&u.redraw(o)}removePoint(t,i,s){let o=this,{chart:r,data:a,points:h,dataTable:d}=o,u=a[t],m=function(){[h?.length===a.length?h:void 0,a,o.options.data,...Object.values(d.getColumns())].filter(de).forEach(p=>{p.splice(t,1)}),d.rowCount-=1,Gt(d,"afterDeleteRows"),u?.destroy(),o.isDirty=!0,o.isDirtyData=!0,i&&r.redraw()};cd(s,r),i=Xt(i,!0),u?u.firePointEvent("remove",null,m):m()}remove(t,i,s,o){let r=this,a=r.chart;function h(){r.destroy(o),a.isDirtyLegend=a.isDirtyBox=!0,a.linkSeries(o),Xt(t,!0)&&a.redraw(i)}s!==!1?Gt(r,"remove",null,h):h()}update(t,i){Gt(this,"update",{options:t=_d(t,this.userOptions)});let s=this,o=s.chart,r=s.userOptions,a=s.initialType||s.type,h=o.options.plotOptions,d=ln[a].prototype,u=s.finishedAnimating&&{animation:!1},m={},p,g,v=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],y=t.type||r.type||o.options.chart.type,w=!(this.hasDerivedData||y&&y!==this.type||t.keys!==void 0||t.pointStart!==void 0||t.pointInterval!==void 0||t.relativeXValue!==void 0||t.joinBy||t.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(b=>s.hasOptionChanged(b)));y=y||a,w?(v.push("data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),t.visible!==!1&&v.push("area","graph"),s.parallelArrays.forEach(function(b){v.push(b+"Data")}),t.data&&(t.dataSorting&&dn(s.options.dataSorting,t.dataSorting),this.setData(t.data,!1))):this.dataTable.modified=this.dataTable,t=cn(r,{index:r.index===void 0?s.index:r.index,pointStart:h?.series?.pointStart??r.pointStart??s.getColumn("x")[0]},!w&&{data:s.options.data},t,u),w&&t.data&&(t.data=s.options.data),(v=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(v)).forEach(function(b){v[b]=s[b],delete s[b]});let k=!1;if(ln[y]){if(k=y!==s.type,s.remove(!1,!1,!1,!0),k)if(o.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(s,ln[y].prototype);else{let b=Object.hasOwnProperty.call(s,"hcEvents")&&s.hcEvents;for(g in d)s[g]=void 0;dn(s,ln[y].prototype),b?s.hcEvents=b:delete s.hcEvents}}else pr(17,!0,o,{missingModuleFor:y});if(v.forEach(function(b){s[b]=v[b]}),s.init(o,t),w&&this.points)for(let b of((p=s.options).visible===!1?(m.graphic=1,m.dataLabel=1):(this.hasMarkerChanged(p,r)&&(m.graphic=1),s.hasDataLabels?.()||(m.dataLabel=1)),this.points))b&&b.series&&(b.resolveColor(),Object.keys(m).length&&b.destroyElements(m),p.showInLegend===!1&&b.legendItem&&o.legend.destroyItem(b));s.initialType=a,o.linkSeries(),o.setSortedData(),k&&s.linkedSeries.length&&(s.isDirtyData=!0),Gt(this,"afterUpdate"),Xt(i,!0)&&o.redraw(!!w&&void 0)}setName(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}hasOptionChanged(t){let i=this.chart,s=this.options[t],o=i.options.plotOptions,r=this.userOptions[t],a=Xt(o?.[this.type]?.[t],o?.series?.[t]);return r&&!de(a)?s!==r:s!==Xt(a,s)}onMouseOver(){let t=this.chart,i=t.hoverSeries;t.pointer?.setHoverChartIndex(),i&&i!==this&&i.onMouseOut(),this.options.events.mouseOver&&Gt(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this}onMouseOut(){let t=this.options,i=this.chart,s=i.tooltip,o=i.hoverPoint;i.hoverSeries=null,o&&o.onMouseOut(),this&&t.events.mouseOut&&Gt(this,"mouseOut"),s&&!this.stickyTracking&&(!s.shared||this.noSharedTooltip)&&s.hide(),i.series.forEach(function(r){r.setState("",!0)})}setState(t,i){let s=this,o=s.options,r=s.graph,a=o.inactiveOtherPoints,h=o.states,d=Xt(h[t||"normal"]&&h[t||"normal"].animation,s.chart.options.chart.animation),u=o.lineWidth,m=o.opacity;if(t=t||"",s.state!==t&&([s.group,s.markerGroup,s.dataLabelsGroup].forEach(function(p){p&&(s.state&&p.removeClass("highcharts-series-"+s.state),t&&p.addClass("highcharts-series-"+t))}),s.state=t,!s.chart.styledMode)){if(h[t]&&h[t].enabled===!1)return;if(t&&(u=h[t].lineWidth||u+(h[t].lineWidthPlus||0),m=Xt(h[t].opacity,m)),r&&!r.dashstyle&&ce(u))for(let p of[r,...this.zones.map(g=>g.graph)])p?.animate({"stroke-width":u},d);a||[s.group,s.markerGroup,s.dataLabelsGroup,s.labelBySeries].forEach(function(p){p&&p.animate({opacity:m},d)})}i&&a&&s.points&&s.setAllPointsToState(t||void 0)}setAllPointsToState(t){this.points.forEach(function(i){i.setState&&i.setState(t)})}setVisible(t,i){let s=this,o=s.chart,r=o.options.chart.ignoreHiddenSeries,a=s.visible;s.visible=t=s.options.visible=s.userOptions.visible=t===void 0?!a:t;let h=t?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(d=>{s[d]?.[h]()}),(o.hoverSeries===s||o.hoverPoint?.series===s)&&s.onMouseOut(),s.legendItem&&o.legend.colorizeItem(s,t),s.isDirty=!0,s.options.stacking&&o.series.forEach(d=>{d.options.stacking&&d.visible&&(d.isDirty=!0)}),s.linkedSeries.forEach(d=>{d.setVisible(t,!1)}),r&&(o.isDirtyBox=!0),Gt(s,h),i!==!1&&o.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(t){this.selected=t=this.options.selected=t===void 0?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),Gt(this,t?"select":"unselect")}shouldShowTooltip(t,i,s={}){return s.series=this,s.visiblePlotOnly=!0,this.chart.isInsidePlot(t,i,s)}drawLegendSymbol(t,i){ph[this.options.legendSymbol||"rectangle"]?.call(this,t,i)}}un.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:c}=this.series.chart;return typeof this.y!="number"?"":c(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},un.types=$t.seriesTypes,un.registerType=$t.registerSeriesType,dn(un.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:$i,requireSorting:!0,sorted:!0}),$t.series=un;let Re=un,{animObject:wd,setAnimation:Ld}=se,{registerEventOptions:kh}=ws,{composed:kd,marginNames:Mh}=U,{distribute:Md}=wi,{format:Pd}=ut,{addEvent:fr,createElement:Cd,css:Sd,defined:wa,discardElement:Td,find:Ad,fireEvent:Ai,isNumber:Ph,merge:Ts,pick:Ue,pushUnique:Od,relativeLength:Ed,stableSort:Id,syncTimeout:zd}=ht;class La{constructor(t,i){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=t,this.setOptions(i),i.enabled&&(this.render(),kh(this,i),fr(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),fr(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(t){let i=Ue(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=Ts(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop,this.itemMarginBottom=t.itemMarginBottom,this.padding=i,this.initialItemY=i-5,this.symbolWidth=Ue(t.symbolWidth,16),this.pages=[],this.proximate=t.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(t,i){let s=this.chart;this.setOptions(Ts(!0,this.options,t)),"events"in this.options&&kh(this,this.options),this.destroy(),s.isDirtyLegend=s.isDirtyBox=!0,Ue(i,!0)&&s.redraw(),Ai(this,"afterUpdate",{redraw:i})}colorizeItem(t,i){let s=t.color,{area:o,group:r,label:a,line:h,symbol:d}=t.legendItem||{};if((t instanceof Re||t instanceof $i)&&(t.color=t.options?.legendSymbolColor||s),r?.[i?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:u={}}=this,m=u.color,{fillColor:p,fillOpacity:g,lineColor:v,marker:y}=t.options,w=k=>(!i&&(k.fill&&(k.fill=m),k.stroke&&(k.stroke=m)),k);a?.css(Ts(i?this.itemStyle:u)),h?.attr(w({stroke:v||t.color})),d&&d.attr(w(y&&d.isMarker?t.pointAttribs():{fill:t.color})),o?.attr(w({fill:p||t.color,"fill-opacity":p?1:g??.75}))}t.color=s,Ai(this,"afterColorizeItem",{item:t,visible:i})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(t){let{group:i,x:s=0,y:o=0}=t.legendItem||{},r=this.options,a=r.symbolPadding,h=!r.rtl,d=t.checkbox;if(i&&i.element){let u={translateX:h?s:this.legendWidth-s-2*a-4,translateY:o};i[wa(i.translateY)?"animate":"attr"](u,void 0,()=>{Ai(this,"afterPositionItem",{item:t})})}d&&(d.x=s,d.y=o)}destroyItem(t){let i=t.checkbox,s=t.legendItem||{};for(let o of["group","label","line","symbol"])s[o]&&(s[o]=s[o].destroy());i&&Td(i),t.legendItem=void 0}destroy(){for(let t of this.getAllItems())this.destroyItem(t);for(let t of["clipRect","up","down","pager","nav","box","title","group"])this[t]&&(this[t]=this[t].destroy());this.display=null}positionCheckboxes(){let t,i=this.group&&this.group.alignAttr,s=this.clipHeight||this.legendHeight,o=this.titleHeight;i&&(t=i.translateY,this.allItems.forEach(function(r){let a,h=r.checkbox;h&&(a=t+o+h.y+(this.scrollOffset||0)+3,Sd(h,{left:i.translateX+r.checkboxOffset+h.x-20+"px",top:a+"px",display:this.proximate||a>t-6&&a<t+s-6?"":"none"}))},this))}renderTitle(){let t=this.options,i=this.padding,s=t.title,o,r=0;s.text&&(this.title||(this.title=this.chart.renderer.label(s.text,i-3,i-4,void 0,void 0,void 0,t.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(s.style),this.title.add(this.group)),s.width||this.title.css({width:this.maxLegendWidth+"px"}),r=(o=this.title.getBBox()).height,this.offsetWidth=o.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r}setText(t){let i=this.options;t.legendItem.label.attr({text:i.labelFormat?Pd(i.labelFormat,t,this.chart):i.labelFormatter.call(t)})}renderItem(t){let i=t.legendItem=t.legendItem||{},s=this.chart,o=s.renderer,r=this.options,a=r.layout==="horizontal",h=this.symbolWidth,d=r.symbolPadding||0,u=this.itemStyle,m=this.itemHiddenStyle,p=a?Ue(r.itemDistance,20):0,g=!r.rtl,v=!t.series,y=!v&&t.series.drawLegendSymbol?t.series:t,w=y.options,k=!!this.createCheckboxForItem&&w&&w.showCheckbox,b=r.useHTML,P=t.options.className,S=i.label,I=h+d+p+(k?20:0);!S&&(i.group=o.g("legend-item").addClass("highcharts-"+y.type+"-series highcharts-color-"+t.colorIndex+(P?" "+P:"")+(v?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),i.label=S=o.text("",g?h+d:-d,this.baseline||0,b),s.styledMode||S.css(Ts(t.visible?u:m)),S.attr({align:g?"left":"right",zIndex:2}).add(i.group),!this.baseline&&(this.fontMetrics=o.fontMetrics(S),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,S.attr("y",this.baseline),this.symbolHeight=Ue(r.symbolHeight,this.fontMetrics.f),r.squareSymbol&&(this.symbolWidth=Ue(r.symbolWidth,Math.max(this.symbolHeight,16)),I=this.symbolWidth+d+p+(k?20:0),g&&S.attr("x",this.symbolWidth+d))),y.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,S,b)),k&&!t.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),(s.styledMode||!u.width)&&S.css({width:(r.itemWidth||this.widthOption||s.spacingBox.width)-I+"px"}),this.setText(t);let B=S.getBBox(),z=this.fontMetrics&&this.fontMetrics.h||0;t.itemWidth=t.checkboxOffset=r.itemWidth||i.labelWidth||B.width+I,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(i.labelHeight||(B.height>1.5*z?B.height:z))}layoutItem(t){let i=this.options,s=this.padding,o=i.layout==="horizontal",r=t.itemHeight,a=this.itemMarginBottom,h=this.itemMarginTop,d=o?Ue(i.itemDistance,20):0,u=this.maxLegendWidth,m=i.alignColumns&&this.totalItemWidth>u?this.maxItemWidth:t.itemWidth,p=t.legendItem||{};o&&this.itemX-s+m>u&&(this.itemX=s,this.lastLineHeight&&(this.itemY+=h+this.lastLineHeight+a),this.lastLineHeight=0),this.lastItemY=h+this.itemY+a,this.lastLineHeight=Math.max(r,this.lastLineHeight),p.x=this.itemX,p.y=this.itemY,o?this.itemX+=m:(this.itemY+=h+r+a,this.lastLineHeight=r),this.offsetWidth=this.widthOption||Math.max((o?this.itemX-s-(t.checkbox?0:d):m)+s,this.offsetWidth)}getAllItems(){let t=[];return this.chart.series.forEach(function(i){let s=i&&i.options;i&&Ue(s.showInLegend,!wa(s.linkedTo)&&void 0,!0)&&(t=t.concat((i.legendItem||{}).labels||(s.legendType==="point"?i.data:i)))}),Ai(this,"afterGetAllItems",{allItems:t}),t}getAlignment(){let t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)}adjustMargins(t,i){let s=this.chart,o=this.options,r=this.getAlignment();r&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(a,h){a.test(r)&&!wa(t[h])&&(s[Mh[h]]=Math.max(s[Mh[h]],s.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*o[h%2?"x":"y"]+Ue(o.margin,12)+i[h]+(s.titleOffset[h]||0)))})}proximatePositions(){let t,i=this.chart,s=[],o=this.options.align==="left";for(let r of(this.allItems.forEach(function(a){let h,d,u=o,m,p;a.yAxis&&(a.xAxis.options.reversed&&(u=!u),a.points&&(h=Ad(u?a.points:a.points.slice(0).reverse(),function(g){return Ph(g.plotY)})),d=this.itemMarginTop+a.legendItem.label.getBBox().height+this.itemMarginBottom,p=a.yAxis.top-i.plotTop,m=a.visible?(h?h.plotY:a.yAxis.height)+(p-.3*d):p+a.yAxis.height,s.push({target:m,size:d,item:a}))},this),Md(s,i.plotHeight)))t=r.item.legendItem||{},Ph(r.pos)&&(t.y=i.plotTop-i.spacing[0]+r.pos)}render(){let t=this.chart,i=t.renderer,s=this.options,o=this.padding,r=this.getAllItems(),a,h,d,u=this.group,m,p=this.box;this.itemX=o,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=Ed(s.width,t.spacingBox.width-o),m=t.spacingBox.width-2*o-s.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(m/=2),this.maxLegendWidth=this.widthOption||m,u||(this.group=u=i.g("legend").addClass(s.className||"").attr({zIndex:7}).add(),this.contentGroup=i.g().attr({zIndex:1}).add(u),this.scrollGroup=i.g().add(this.contentGroup)),this.renderTitle(),Id(r,(g,v)=>(g.options&&g.options.legendIndex||0)-(v.options&&v.options.legendIndex||0)),s.reversed&&r.reverse(),this.allItems=r,this.display=a=!!r.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,r.forEach(this.renderItem,this),r.forEach(this.layoutItem,this),h=(this.widthOption||this.offsetWidth)+o,d=this.lastItemY+this.lastLineHeight+this.titleHeight,d=this.handleOverflow(d)+o,p||(this.box=p=i.rect().addClass("highcharts-legend-box").attr({r:s.borderRadius}).add(u)),t.styledMode||p.attr({stroke:s.borderColor,"stroke-width":s.borderWidth||0,fill:s.backgroundColor||"none"}).shadow(s.shadow),h>0&&d>0&&p[p.placed?"animate":"attr"](p.crisp.call({},{x:0,y:0,width:h,height:d},p.strokeWidth())),u[a?"show":"hide"](),t.styledMode&&u.getStyle("display")==="none"&&(h=d=0),this.legendWidth=h,this.legendHeight=d,a&&this.align(),this.proximate||this.positionItems(),Ai(this,"afterRender")}align(t=this.chart.spacingBox){let i=this.chart,s=this.options,o=t.y;/(lth|ct|rth)/.test(this.getAlignment())&&i.titleOffset[0]>0?o+=i.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&i.titleOffset[2]>0&&(o-=i.titleOffset[2]),o!==t.y&&(t=Ts(t,{y:o})),i.hasRendered||(this.group.placed=!1),this.group.align(Ts(s,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":s.verticalAlign}),!0,t)}handleOverflow(t){let i=this,s=this.chart,o=s.renderer,r=this.options,a=r.y,h=r.verticalAlign==="top",d=this.padding,u=r.maxHeight,m=r.navigation,p=Ue(m.animation,!0),g=m.arrowSize||12,v=this.pages,y=this.allItems,w=function(E){typeof E=="number"?z.attr({height:E}):z&&(i.clipRect=z.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=E?"rect("+d+"px,9999px,"+(d+E)+"px,0)":"auto")},k=function(E){return i[E]=o.circle(0,0,1.3*g).translate(g/2,g/2).add(B),s.styledMode||i[E].attr("fill","rgba(0,0,0,0.0001)"),i[E]},b,P,S,I=s.spacingBox.height+(h?-a:a)-d,B=this.nav,z=this.clipRect;return r.layout!=="horizontal"||r.verticalAlign==="middle"||r.floating||(I/=2),u&&(I=Math.min(I,u)),v.length=0,t&&I>0&&t>I&&m.enabled!==!1?(this.clipHeight=b=Math.max(I-20-this.titleHeight-d,0),this.currentPage=Ue(this.currentPage,1),this.fullHeight=t,y.forEach((E,D)=>{let F=(S=E.legendItem||{}).y||0,X=Math.round(S.label.getBBox().height),Y=v.length;(!Y||F-v[Y-1]>b&&(P||F)!==v[Y-1])&&(v.push(P||F),Y++),S.pageIx=Y-1,P&&((y[D-1].legendItem||{}).pageIx=Y-1),D===y.length-1&&F+X-v[Y-1]>b&&F>v[Y-1]&&(v.push(F),S.pageIx=Y),F!==P&&(P=F)}),z||(z=i.clipRect=o.clipRect(0,d-2,9999,0),i.contentGroup.clip(z)),w(b),B||(this.nav=B=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,g,g).add(B),k("upTracker").on("click",function(){i.scroll(-1,p)}),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation"),!s.styledMode&&m.style&&this.pager.css(m.style),this.pager.add(B),this.down=o.symbol("triangle-down",0,0,g,g).add(B),k("downTracker").on("click",function(){i.scroll(1,p)})),i.scroll(0),t=I):B&&(w(),this.nav=B.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t}scroll(t,i){let s=this.chart,o=this.pages,r=o.length,a=this.clipHeight,h=this.options.navigation,d=this.pager,u=this.padding,m=this.currentPage+t;m>r&&(m=r),m>0&&(i!==void 0&&Ld(i,s),this.nav.attr({translateX:u,translateY:a+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(p){p.attr({class:m===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),d.attr({text:m+"/"+r}),[this.down,this.downTracker].forEach(function(p){p.attr({x:18+this.pager.getBBox().width,class:m===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),s.styledMode||(this.up.attr({fill:m===1?h.inactiveColor:h.activeColor}),this.upTracker.css({cursor:m===1?"default":"pointer"}),this.down.attr({fill:m===r?h.inactiveColor:h.activeColor}),this.downTracker.css({cursor:m===r?"default":"pointer"})),this.scrollOffset=-o[m-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=m,this.positionCheckboxes(),zd(()=>{Ai(this,"afterScroll",{currentPage:m})},wd(Ue(i,s.renderer.globalAnimation,!0)).duration))}setItemEvents(t,i,s){let o=this,r=t.legendItem||{},a=o.chart.renderer.boxWrapper,h=t instanceof $i,d=t instanceof Re,u="highcharts-legend-"+(h?"point":"series")+"-active",m=o.chart.styledMode,p=s?[i,r.symbol]:[r.group],g=v=>{o.allItems.forEach(y=>{t!==y&&[y].concat(y.linkedSeries||[]).forEach(w=>{w.setState(v,!h)})})};for(let v of p)v&&v.on("mouseover",function(){t.visible&&g("inactive"),t.setState("hover"),t.visible&&a.addClass(u),m||i.css(o.options.itemHoverStyle)}).on("mouseout",function(){o.chart.styledMode||i.css(Ts(t.visible?o.itemStyle:o.itemHiddenStyle)),g(""),a.removeClass(u),t.setState()}).on("click",function(y){let w=function(){t.setVisible&&t.setVisible(),g(t.visible?"inactive":"")};a.removeClass(u),Ai(o,"itemClick",{browserEvent:y,legendItem:t},w),h?t.firePointEvent("legendItemClick",{browserEvent:y}):d&&Ai(t,"legendItemClick",{browserEvent:y})})}createCheckboxForItem(t){t.checkbox=Cd("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),fr(t.checkbox,"click",function(i){let s=i.target;Ai(t.series||t,"checkboxClick",{checked:s.checked,item:t},function(){t.select()})})}}(function(c){c.compose=function(t){Od(kd,"Core.Legend")&&fr(t,"beforeMargins",function(){this.legend=new c(this,this.options.legend)})}})(La||(La={}));let Ch=La,{animate:ka,animObject:Bd,setAnimation:Ma}=se,{defaultOptions:Pa}=ke,{numberFormat:Dd}=ut,{registerEventOptions:Sh}=ws,{charts:As,doc:ho,marginNames:Th,svg:Nd,win:Ah}=U,{seriesTypes:Ca}=$t,{addEvent:Sa,attr:Oh,createElement:Ta,css:ni,defined:Ji,diffObjects:Eh,discardElement:Rd,erase:Zd,error:Aa,extend:Qi,find:Oa,fireEvent:Ct,getAlignFactor:Wd,getStyle:Ea,isArray:Hd,isNumber:pn,isObject:Fd,isString:mr,merge:Oi,objectEach:Ia,pick:ye,pInt:Gd,relativeLength:Ih,removeEvent:zh,splat:gr,syncTimeout:Xd,uniqueKey:jd}=ht;class ts{static chart(t,i,s){return new ts(t,i,s)}constructor(t,i,s){this.sharedClips={};let o=[...arguments];(mr(t)||t.nodeName)&&(this.renderTo=o.shift()),this.init(o[0],o[1])}setZoomOptions(){let t=this.options.chart,i=t.zooming;this.zooming={...i,type:ye(t.zoomType,i.type),key:ye(t.zoomKey,i.key),pinchType:ye(t.pinchType,i.pinchType),singleTouch:ye(t.zoomBySingleTouch,i.singleTouch,!1),resetButton:Oi(i.resetButton,t.resetZoomButton)}}init(t,i){Ct(this,"init",{args:arguments},function(){let s=Oi(Pa,t),o=s.chart,r=this.renderTo||o.renderTo;this.userOptions=Qi({},t),(this.renderTo=mr(r)?ho.getElementById(r):r)||Aa(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=i,this.isResizing=0,this.options=s,this.axes=[],this.series=[],this.locale=s.lang.locale??this.renderTo.closest("[lang]")?.lang,this.time=new Ln(Qi(s.time||{},{locale:this.locale})),s.time=this.time.options,this.numberFormatter=(o.numberFormatter||Dd).bind(this),this.styledMode=o.styledMode,this.hasCartesianSeries=o.showAxes,this.index=As.length,As.push(this),U.chartCount++,Sh(this,o),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),Ct(this,"afterInit"),this.firstRender()})}initSeries(t){let i=this.options.chart,s=t.type||i.type,o=Ca[s];o||Aa(17,!0,this,{missingModuleFor:s});let r=new o;return typeof r.init=="function"&&r.init(this,t),r}setSortedData(){this.getSeriesOrderByLinks().forEach(function(t){t.points||t.data||!t.enabledDataSorting||t.setData(t.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(t,i){return t.linkedSeries.length||i.linkedSeries.length?i.linkedSeries.length-t.linkedSeries.length:0})}orderItems(t,i=0){let s=this[t],o=this.options[t]=gr(this.options[t]).slice(),r=this.userOptions[t]=this.userOptions[t]?gr(this.userOptions[t]).slice():[];if(this.hasRendered&&(o.splice(i),r.splice(i)),s)for(let a=i,h=s.length;a<h;++a){let d=s[a];d&&(d.index=a,d instanceof Re&&(d.name=d.getName()),d.options.isInternal||(o[a]=d.options,r[a]=d.userOptions))}}isInsidePlot(t,i,s={}){let{inverted:o,plotBox:r,plotLeft:a,plotTop:h,scrollablePlotBox:d}=this,{scrollLeft:u=0,scrollTop:m=0}=s.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},p=s.series,g=s.visiblePlotOnly&&d||r,v=s.inverted?i:t,y=s.inverted?t:i,w={x:v,y,isInsidePlot:!0,options:s};if(!s.ignoreX){let k=p&&(o&&!this.polar?p.yAxis:p.xAxis)||{pos:a,len:1/0},b=s.paneCoordinates?k.pos+v:a+v;b>=Math.max(u+a,k.pos)&&b<=Math.min(u+a+g.width,k.pos+k.len)||(w.isInsidePlot=!1)}if(!s.ignoreY&&w.isInsidePlot){let k=!o&&s.axis&&!s.axis.isXAxis&&s.axis||p&&(o?p.xAxis:p.yAxis)||{pos:h,len:1/0},b=s.paneCoordinates?k.pos+y:h+y;b>=Math.max(m+h,k.pos)&&b<=Math.min(m+h+g.height,k.pos+k.len)||(w.isInsidePlot=!1)}return Ct(this,"afterIsInsidePlot",w),w.isInsidePlot}redraw(t){Ct(this,"beforeRedraw");let i=this.hasCartesianSeries?this.axes:this.colorAxis||[],s=this.series,o=this.pointer,r=this.legend,a=this.userOptions.legend,h=this.renderer,d=h.isHidden(),u=[],m,p,g,v=this.isDirtyBox,y=this.isDirtyLegend,w;for(h.rootFontSize=h.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),Ma(!!this.hasRendered&&t,this),d&&this.temporaryDisplay(),this.layOutTitles(!1),g=s.length;g--;)if(((w=s[g]).options.stacking||w.options.centerInCategory)&&(p=!0,w.isDirty)){m=!0;break}if(m)for(g=s.length;g--;)(w=s[g]).options.stacking&&(w.isDirty=!0);s.forEach(function(k){k.isDirty&&(k.options.legendType==="point"?(typeof k.updateTotals=="function"&&k.updateTotals(),y=!0):a&&(a.labelFormatter||a.labelFormat)&&(y=!0)),k.isDirtyData&&Ct(k,"updatedData")}),y&&r&&r.options.enabled&&(r.render(),this.isDirtyLegend=!1),p&&this.getStacks(),i.forEach(function(k){k.updateNames(),k.setScale()}),this.getMargins(),i.forEach(function(k){k.isDirty&&(v=!0)}),i.forEach(function(k){let b=k.min+","+k.max;k.extKey!==b&&(k.extKey=b,u.push(function(){Ct(k,"afterSetExtremes",Qi(k.eventArgs,k.getExtremes())),delete k.eventArgs})),(v||p)&&k.redraw()}),v&&this.drawChartBox(),Ct(this,"predraw"),s.forEach(function(k){(v||k.isDirty)&&k.visible&&k.redraw(),k.isDirtyData=!1}),o&&o.reset(!0),h.draw(),Ct(this,"redraw"),Ct(this,"render"),d&&this.temporaryDisplay(!0),u.forEach(function(k){k.call()})}get(t){let i=this.series;function s(r){return r.id===t||r.options&&r.options.id===t}let o=Oa(this.axes,s)||Oa(this.series,s);for(let r=0;!o&&r<i.length;r++)o=Oa(i[r].points||[],s);return o}createAxes(){let t=this.userOptions;for(let i of(Ct(this,"createAxes"),["xAxis","yAxis"]))for(let s of t[i]=gr(t[i]||{}))new _(this,s,i);Ct(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((t,i)=>(i.getPointsCollection().forEach(s=>{ye(s.selectedStaging,s.selected)&&t.push(s)}),t),[])}getSelectedSeries(){return this.series.filter(t=>t.selected)}setTitle(t,i,s){this.applyDescription("title",t),this.applyDescription("subtitle",i),this.applyDescription("caption",void 0),this.layOutTitles(s)}applyDescription(t,i){let s=this,o=this.options[t]=Oi(this.options[t],i),r=this[t];r&&i&&(this[t]=r=r.destroy()),o&&!r&&((r=this.renderer.text(o.text,0,0,o.useHTML).attr({align:o.align,class:"highcharts-"+t,zIndex:o.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(a,h){s.applyDescription(t,a),s.layOutTitles(h)},this.styledMode||r.css(Qi(t==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},o.style)),r.textPxLength=r.getBBox().width,r.css({whiteSpace:o.style?.whiteSpace}),this[t]=r)}layOutTitles(t=!0){let i=[0,0,0],{options:s,renderer:o,spacingBox:r}=this;["title","subtitle","caption"].forEach(h=>{let d=this[h],u=this.options[h],m=Oi(r),p=d?.textPxLength||0;if(d&&u){Ct(this,"layOutTitle",{alignTo:m,key:h,textPxLength:p});let g=o.fontMetrics(d),v=g.b,y=g.h,w=u.verticalAlign||"top",k=w==="top",b=k&&u.minScale||1,P=h==="title"?k?-3:0:k?i[0]+2:0,S=Math.min(m.width/p,1),I=Math.max(b,S),B=Oi({y:w==="bottom"?v:P+v},{align:h==="title"?S<b?"left":"center":this.title?.alignValue},u),z=u.width||(S>b?this.chartWidth:m.width)/I;d.alignValue!==B.align&&(d.placed=!1);let E=Math.round(d.css({width:`${z}px`}).getBBox(u.useHTML).height);if(B.height=E,d.align(B,!1,m).attr({align:B.align,scaleX:I,scaleY:I,"transform-origin":`${m.x+p*I*Wd(B.align)} ${y}`}),!u.floating){let D=E*(E<1.2*y?1:I);w==="top"?i[0]=Math.ceil(i[0]+D):w==="bottom"&&(i[2]=Math.ceil(i[2]+D))}}},this),i[0]&&(s.title?.verticalAlign||"top")==="top"&&(i[0]+=s.title?.margin||0),i[2]&&s.caption?.verticalAlign==="bottom"&&(i[2]+=s.caption?.margin||0);let a=!this.titleOffset||this.titleOffset.join(",")!==i.join(",");this.titleOffset=i,Ct(this,"afterLayOutTitles"),!this.isDirtyBox&&a&&(this.isDirtyBox=this.isDirtyLegend=a,this.hasRendered&&t&&this.isDirtyBox&&this.redraw())}getContainerBox(){let t=[].map.call(this.renderTo.children,s=>{if(s!==this.container){let o=s.style.display;return s.style.display="none",[s,o]}}),i={width:Ea(this.renderTo,"width",!0)||0,height:Ea(this.renderTo,"height",!0)||0};return t.filter(Boolean).forEach(([s,o])=>{s.style.display=o}),i}getChartSize(){let t=this.options.chart,i=t.width,s=t.height,o=this.getContainerBox(),r=o.height<=1||!this.renderTo.parentElement?.style.height&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,i||o.width||600),this.chartHeight=Math.max(0,Ih(s,this.chartWidth)||(r?400:o.height)),this.containerBox=o}temporaryDisplay(t){let i=this.renderTo,s;if(t)for(;i&&i.style;)i.hcOrigStyle&&(ni(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(ho.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style&&(ho.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,ho.body.appendChild(i)),(Ea(i,"display",!1)==="none"||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},s={display:"block",overflow:"hidden"},i!==this.renderTo&&(s.height=0),ni(i,s),i.offsetWidth||i.style.setProperty("display","block","important")),(i=i.parentNode)!==ho.body););}setClassName(t){this.container.className="highcharts-container "+(t||"")}getContainer(){let t,i=this.options,s=i.chart,o="data-highcharts-chart",r=jd(),a=this.renderTo,h=Gd(Oh(a,o));pn(h)&&As[h]&&As[h].hasRendered&&As[h].destroy(),Oh(a,o,this.index),a.innerHTML=Et.emptyHTML,s.skipClone||a.offsetWidth||this.temporaryDisplay(),this.getChartSize();let d=this.chartHeight,u=this.chartWidth;ni(a,{overflow:"hidden"}),this.styledMode||(t=Qi({position:"relative",overflow:"hidden",width:u+"px",height:d+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},s.style||{}));let m=Ta("div",{id:r},t,a);this.container=m,this.getChartSize(),u===this.chartWidth||(u=this.chartWidth,this.styledMode||ni(m,{width:ye(s.style?.width,u+"px")})),this.containerBox=this.getContainerBox(),this._cursor=m.style.cursor;let p=s.renderer||!Nd?Zt.getRendererType(s.renderer):qs;if(this.renderer=new p(m,u,d,void 0,s.forExport,i.exporting&&i.exporting.allowHTML,this.styledMode),Ma(void 0,this),this.setClassName(s.className),this.styledMode)for(let g in i.defs)this.renderer.definition(i.defs[g]);else this.renderer.setStyle(s.style);this.renderer.chartIndex=this.index,Ct(this,"afterGetContainer")}getMargins(t){let{spacing:i,margin:s,titleOffset:o}=this;this.resetMargins(),o[0]&&!Ji(s[0])&&(this.plotTop=Math.max(this.plotTop,o[0]+i[0])),o[2]&&!Ji(s[2])&&(this.marginBottom=Math.max(this.marginBottom,o[2]+i[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(s,i),Ct(this,"getMargins"),t||this.getAxisMargins()}getAxisMargins(){let t=this,i=t.axisOffset=[0,0,0,0],s=t.colorAxis,o=t.margin,r=function(a){a.forEach(function(h){h.visible&&h.getOffset()})};t.hasCartesianSeries?r(t.axes):s&&s.length&&r(s),Th.forEach(function(a,h){Ji(o[h])||(t[a]+=i[h])}),t.setChartSize()}getOptions(){return Eh(this.userOptions,Pa)}reflow(t){let i=this,s=i.containerBox,o=i.getContainerBox();delete i.pointer?.chartPosition,!i.isPrinting&&!i.isResizing&&s&&o.width&&((o.width!==s.width||o.height!==s.height)&&(ht.clearTimeout(i.reflowTimeout),i.reflowTimeout=Xd(function(){i.container&&i.setSize(void 0,void 0,!1)},t?100:0)),i.containerBox=o)}setReflow(){let t=this,i=s=>{t.options?.chart.reflow&&t.hasLoaded&&t.reflow(s)};if(typeof ResizeObserver=="function")new ResizeObserver(i).observe(t.renderTo);else{let s=Sa(Ah,"resize",i);Sa(this,"destroy",s)}}setSize(t,i,s){let o=this,r=o.renderer;o.isResizing+=1,Ma(s,o);let a=r.globalAnimation;o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,t!==void 0&&(o.options.chart.width=t),i!==void 0&&(o.options.chart.height=i),o.getChartSize();let{chartWidth:h,chartHeight:d,scrollablePixelsX:u=0,scrollablePixelsY:m=0}=o;(o.isDirtyBox||h!==o.oldChartWidth||d!==o.oldChartHeight)&&(o.styledMode||(a?ka:ni)(o.container,{width:`${h+u}px`,height:`${d+m}px`},a),o.setChartSize(!0),r.setSize(h,d,a),o.axes.forEach(function(p){p.isDirty=!0,p.setScale()}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(a),o.oldChartHeight=void 0,Ct(o,"resize"),setTimeout(()=>{o&&Ct(o,"endResize")},Bd(a).duration)),o.isResizing-=1}setChartSize(t){let i,s,o,r,{chartHeight:a,chartWidth:h,inverted:d,spacing:u,renderer:m}=this,p=this.clipOffset,g=Math[d?"floor":"round"];this.plotLeft=i=Math.round(this.plotLeft),this.plotTop=s=Math.round(this.plotTop),this.plotWidth=o=Math.max(0,Math.round(h-i-this.marginRight)),this.plotHeight=r=Math.max(0,Math.round(a-s-this.marginBottom)),this.plotSizeX=d?r:o,this.plotSizeY=d?o:r,this.spacingBox=m.spacingBox={x:u[3],y:u[0],width:h-u[3]-u[1],height:a-u[0]-u[2]},this.plotBox=m.plotBox={x:i,y:s,width:o,height:r},p&&(this.clipBox={x:g(p[3]),y:g(p[0]),width:g(this.plotSizeX-p[1]-p[3]),height:g(this.plotSizeY-p[0]-p[2])}),t||(this.axes.forEach(function(v){v.setAxisSize(),v.setAxisTranslation()}),m.alignElements()),Ct(this,"afterSetChartSize",{skipAxes:t})}resetMargins(){Ct(this,"resetMargins");let t=this,i=t.options.chart,s=i.plotBorderWidth||0,o=s/2;["margin","spacing"].forEach(function(r){let a=i[r],h=Fd(a)?a:[a,a,a,a];["Top","Right","Bottom","Left"].forEach(function(d,u){t[r][u]=ye(i[r+d],h[u])})}),Th.forEach(function(r,a){t[r]=ye(t.margin[a],t.spacing[a])}),t.axisOffset=[0,0,0,0],t.clipOffset=[o,o,o,o],t.plotBorderWidth=s}drawChartBox(){let t=this.options.chart,i=this.renderer,s=this.chartWidth,o=this.chartHeight,r=this.styledMode,a=this.plotBGImage,h=t.backgroundColor,d=t.plotBackgroundColor,u=t.plotBackgroundImage,m=this.plotLeft,p=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,w=this.clipRect,k=this.clipBox,b=this.chartBackground,P=this.plotBackground,S=this.plotBorder,I,B,z,E="animate";b||(this.chartBackground=b=i.rect().addClass("highcharts-background").add(),E="attr"),r?I=B=b.strokeWidth():(B=(I=t.borderWidth||0)+(t.shadow?8:0),z={fill:h||"none"},(I||b["stroke-width"])&&(z.stroke=t.borderColor,z["stroke-width"]=I),b.attr(z).shadow(t.shadow)),b[E]({x:B/2,y:B/2,width:s-B-I%2,height:o-B-I%2,r:t.borderRadius}),E="animate",P||(E="attr",this.plotBackground=P=i.rect().addClass("highcharts-plot-background").add()),P[E](y),!r&&(P.attr({fill:d||"none"}).shadow(t.plotShadow),u&&(a?(u!==a.attr("href")&&a.attr("href",u),a.animate(y)):this.plotBGImage=i.image(u,m,p,g,v).add())),w?w.animate({width:k.width,height:k.height}):this.clipRect=i.clipRect(k),E="animate",S||(E="attr",this.plotBorder=S=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),r||S.attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth||0,fill:"none"}),S[E](S.crisp({x:m,y:p,width:g,height:v},-S.strokeWidth())),this.isDirtyBox=!1,Ct(this,"afterDrawChartBox")}propFromSeries(){let t,i,s,o=this,r=o.options.chart,a=o.options.series;["inverted","angular","polar"].forEach(function(h){for(i=Ca[r.type],s=r[h]||i&&i.prototype[h],t=a&&a.length;!s&&t--;)(i=Ca[a[t].type])&&i.prototype[h]&&(s=!0);o[h]=s})}linkSeries(t){let i=this,s=i.series;s.forEach(function(o){o.linkedSeries.length=0}),s.forEach(function(o){let{linkedTo:r}=o.options;if(mr(r)){let a;(a=r===":previous"?i.series[o.index-1]:i.get(r))&&a.linkedParent!==o&&(a.linkedSeries.push(o),o.linkedParent=a,a.enabledDataSorting&&o.setDataSortingOptions(),o.visible=ye(o.options.visible,a.options.visible,o.visible))}}),Ct(this,"afterLinkSeries",{isUpdating:t})}renderSeries(){this.series.forEach(function(t){t.translate(),t.render()})}render(){let t=this.axes,i=this.colorAxis,s=this.renderer,o=this.options.chart.axisLayoutRuns||2,r=m=>{m.forEach(p=>{p.visible&&p.render()})},a=0,h=!0,d,u=0;for(let m of(this.setTitle(),Ct(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),t)){let{options:p}=m,{labels:g}=p;if(this.hasCartesianSeries&&m.horiz&&m.visible&&g.enabled&&m.series.length&&m.coll!=="colorAxis"&&!this.polar){a=p.tickLength,m.createGroups();let v=new Si(m,0,"",!0),y=v.createLabel("x",g);if(v.destroy(),y&&ye(g.reserveSpace,!pn(p.crossing))&&(a=y.getBBox().height+g.distance+Math.max(p.offset||0,0)),a){y?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-a,0);(h||d||o>1)&&u<o;){let m=this.plotWidth,p=this.plotHeight;for(let g of t)u===0?g.setScale():(g.horiz&&h||!g.horiz&&d)&&g.setTickInterval(!0);u===0?this.getAxisMargins():this.getMargins(),h=m/this.plotWidth>(u?1:1.1),d=p/this.plotHeight>(u?1:1.05),u++}this.drawChartBox(),this.hasCartesianSeries?r(t):i&&i.length&&r(i),this.seriesGroup||(this.seriesGroup=s.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(t){let i=this,s=Oi(!0,this.options.credits,t);s.enabled&&!this.credits&&(this.credits=this.renderer.text(s.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){s.href&&(Ah.location.href=s.href)}).attr({align:s.position.align,zIndex:8}),i.styledMode||this.credits.css(s.style),this.credits.add().align(s.position),this.credits.update=function(o){i.credits=i.credits.destroy(),i.addCredits(o)})}destroy(){let t,i=this,s=i.axes,o=i.series,r=i.container,a=r&&r.parentNode;for(Ct(i,"destroy"),i.renderer.forExport?Zd(As,i):As[i.index]=void 0,U.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),zh(i),t=s.length;t--;)s[t]=s[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=o.length;t--;)o[t]=o[t].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(h){let d=i[h];d&&d.destroy&&(i[h]=d.destroy())}),r&&(r.innerHTML=Et.emptyHTML,zh(r),a&&Rd(r)),Ia(i,function(h,d){delete i[d]})}firstRender(){let t=this,i=t.options;t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.createAxes();let s=Hd(i.series)?i.series:[];i.series=[],s.forEach(function(o){t.initSeries(o)}),t.linkSeries(),t.setSortedData(),Ct(t,"beforeRender"),t.render(),t.pointer?.getChartPosition(),t.renderer.imgCount||t.hasLoaded||t.onload(),t.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(t){t&&this.index!==void 0&&t.apply(this,[this])},this),Ct(this,"load"),Ct(this,"render"),Ji(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:t,title:i}=this;!t||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(i&&i.element.textContent||"").replace(/</g,"&lt;")}),t.accessibility&&t.accessibility.enabled===!1||Aa('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(t,i,s){let o,r=this;return t&&(i=ye(i,!0),Ct(r,"addSeries",{options:t},function(){o=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),o.enabledDataSorting&&o.setData(t.data,!1),Ct(r,"afterAddSeries",{series:o}),i&&r.redraw(s)})),o}addAxis(t,i,s,o){return this.createAxis(i?"xAxis":"yAxis",{axis:t,redraw:s,animation:o})}addColorAxis(t,i,s){return this.createAxis("colorAxis",{axis:t,redraw:i,animation:s})}createAxis(t,i){let s=new _(this,i.axis,t);return ye(i.redraw,!0)&&this.redraw(i.animation),s}showLoading(t){let i=this,s=i.options,o=s.loading,r=function(){a&&ni(a,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})},a=i.loadingDiv,h=i.loadingSpan;a||(i.loadingDiv=a=Ta("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container)),h||(i.loadingSpan=h=Ta("span",{className:"highcharts-loading-inner"},null,a),Sa(i,"redraw",r)),a.className="highcharts-loading",Et.setElementHTML(h,ye(t,s.lang.loading,"")),i.styledMode||(ni(a,Qi(o.style,{zIndex:10})),ni(h,o.labelStyle),i.loadingShown||(ni(a,{opacity:0,display:""}),ka(a,{opacity:o.style.opacity||.5},{duration:o.showDuration||0}))),i.loadingShown=!0,r()}hideLoading(){let t=this.options,i=this.loadingDiv;i&&(i.className="highcharts-loading highcharts-loading-hidden",this.styledMode||ka(i,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){ni(i,{display:"none"})}})),this.loadingShown=!1}update(t,i,s,o){let r,a,h,d=this,u={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},m=t.isResponsiveOptions,p=[];Ct(d,"update",{options:t}),m||d.setResponsive(!1,!0),t=Eh(t,d.options),d.userOptions=Oi(d.userOptions,t);let g=t.chart;g&&(Oi(!0,d.options.chart,g),this.setZoomOptions(),"className"in g&&d.setClassName(g.className),("inverted"in g||"polar"in g||"type"in g)&&(d.propFromSeries(),r=!0),"alignTicks"in g&&(r=!0),"events"in g&&Sh(this,g),Ia(g,function(w,k){d.propsRequireUpdateSeries.indexOf("chart."+k)!==-1&&(a=!0),d.propsRequireDirtyBox.indexOf(k)!==-1&&(d.isDirtyBox=!0),d.propsRequireReflow.indexOf(k)===-1||(d.isDirtyBox=!0,m||(h=!0))}),!d.styledMode&&g.style&&d.renderer.setStyle(d.options.chart.style||{})),!d.styledMode&&t.colors&&(this.options.colors=t.colors),Ia(t,function(w,k){d[k]&&typeof d[k].update=="function"?d[k].update(w,!1):typeof d[u[k]]=="function"?d[u[k]](w):k!=="colors"&&d.collectionsWithUpdate.indexOf(k)===-1&&Oi(!0,d.options[k],t[k]),k!=="chart"&&d.propsRequireUpdateSeries.indexOf(k)!==-1&&(a=!0)}),this.collectionsWithUpdate.forEach(function(w){t[w]&&(gr(t[w]).forEach(function(k,b){let P,S=Ji(k.id);S&&(P=d.get(k.id)),!P&&d[w]&&(P=d[w][ye(k.index,b)])&&(S&&Ji(P.options.id)||P.options.isInternal)&&(P=void 0),P&&P.coll===w&&(P.update(k,!1),s&&(P.touched=!0)),!P&&s&&d.collectionsWithInit[w]&&(d.collectionsWithInit[w][0].apply(d,[k].concat(d.collectionsWithInit[w][1]||[]).concat([!1])).touched=!0)}),s&&d[w].forEach(function(k){k.touched||k.options.isInternal?delete k.touched:p.push(k)}))}),p.forEach(function(w){w.chart&&w.remove&&w.remove(!1)}),r&&d.axes.forEach(function(w){w.update({},!1)}),a&&d.getSeriesOrderByLinks().forEach(function(w){w.chart&&w.update({},!1)},this);let v=g&&g.width,y=g&&(mr(g.height)?Ih(g.height,v||d.chartWidth):g.height);h||pn(v)&&v!==d.chartWidth||pn(y)&&y!==d.chartHeight?d.setSize(v,y,o):ye(i,!0)&&d.redraw(o),Ct(d,"afterUpdate",{options:t,redraw:i,animation:o})}setSubtitle(t,i){this.applyDescription("subtitle",t),this.layOutTitles(i)}setCaption(t,i){this.applyDescription("caption",t),this.layOutTitles(i)}showResetZoom(){let t=this,i=Pa.lang,s=t.zooming.resetButton,o=s.theme,r=s.relativeTo==="chart"||s.relativeTo==="spacingBox"?null:"plotBox";function a(){t.zoomOut()}Ct(this,"beforeShowResetZoom",null,function(){t.resetZoomButton=t.renderer.button(i.resetZoom,null,null,a,o).attr({align:s.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(s.position,!1,r)}),Ct(this,"afterShowResetZoom")}zoomOut(){Ct(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(t,i){let s=this,o=typeof i=="object"?i:{enabled:i,type:"x"},r=o.type,a=r&&s[{x:"xAxis",xy:"axes",y:"yAxis"}[r]].filter(d=>d.options.panningEnabled&&!d.options.isInternal),h=s.options.chart;h?.panning&&(h.panning=o),Ct(this,"pan",{originalEvent:t},()=>{s.transform({axes:a,event:t,to:{x:t.chartX-(s.mouseDownX||0),y:t.chartY-(s.mouseDownY||0)},trigger:"pan"}),ni(s.container,{cursor:"move"})})}transform(t){let{axes:i=this.axes,event:s,from:o={},reset:r,selection:a,to:h={},trigger:d}=t,{inverted:u,time:m}=this,p=!1,g,v;for(let y of(this.hoverPoints?.forEach(w=>w.setState()),i)){let{horiz:w,len:k,minPointOffset:b=0,options:P,reversed:S}=y,I=w?"width":"height",B=w?"x":"y",z=ye(h[I],y.len),E=ye(o[I],y.len),D=10>Math.abs(z)?1:z/E,F=(o[B]||0)+E/2-y.pos,X=F-((h[B]??y.pos)+z/2-y.pos)/D,Y=S&&!u||!S&&u?-1:1;if(!r&&(F<0||F>y.len))continue;let tt=y.toValue(X,!0)+(a||y.isOrdinal?0:b*Y),et=y.toValue(X+k/D,!0)-(a||y.isOrdinal?0:b*Y||0),ot=y.allExtremes;if(tt>et&&([tt,et]=[et,tt]),D===1&&!r&&y.coll==="yAxis"&&!ot){for(let Pe of y.series){let gi=Pe.getExtremes(Pe.getProcessedData(!0).modified.getColumn("y")||[],!0);ot??(ot={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),pn(gi.dataMin)&&pn(gi.dataMax)&&(ot.dataMin=Math.min(gi.dataMin,ot.dataMin),ot.dataMax=Math.max(gi.dataMax,ot.dataMax))}y.allExtremes=ot}let{dataMin:st,dataMax:at,min:bt,max:ft}=Qi(y.getExtremes(),ot||{}),mt=m.parse(P.min),Lt=m.parse(P.max),ct=st??mt,Qt=at??Lt,Yt=et-tt,Mt=y.categories?0:Math.min(Yt,Qt-ct),Dt=ct-Mt*(Ji(mt)?0:P.minPadding),oe=Qt+Mt*(Ji(Lt)?0:P.maxPadding),jt=y.allowZoomOutside||D===1||d!=="zoom"&&D>1,xe=Math.min(mt??Dt,Dt,jt?bt:Dt),re=Math.max(Lt??oe,oe,jt?ft:oe);(!y.isOrdinal||y.options.overscroll||D!==1||r)&&(tt<xe&&(tt=xe,D>=1&&(et=tt+Yt)),et>re&&(et=re,D>=1&&(tt=et-Yt)),(r||y.series.length&&(tt!==bt||et!==ft)&&tt>=xe&&et<=re)&&(a?a[y.coll].push({axis:y,min:tt,max:et}):(y.isPanning=d!=="zoom",y.isPanning&&(v=!0),y.setExtremes(r?void 0:tt,r?void 0:et,!1,!1,{move:X,trigger:d,scale:D}),!r&&(tt>xe||et<re)&&d!=="mousewheel"&&(g=!0)),p=!0),s&&(this[w?"mouseDownX":"mouseDownY"]=s[w?"chartX":"chartY"]))}return p&&(a?Ct(this,"selection",a,()=>{delete t.selection,t.trigger="zoom",this.transform(t)}):(!g||v||this.resetZoomButton?!g&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(d==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),p}}Qi(ts.prototype,{callbacks:[],collectionsWithInit:{xAxis:[ts.prototype.addAxis,[!0]],yAxis:[ts.prototype.addAxis,[!1]],series:[ts.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:Ud}=se,{composed:Yd}=U,{addEvent:es,createElement:_r,css:za,defined:Ba,erase:Vd,merge:Bh,pushUnique:Dh}=ht;function qd(){let c=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!c&&(this.scrollablePlotArea=c=new lo(this)),c?.applyFixed()}function Nh(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class lo{static compose(t,i,s){Dh(Yd,this.compose)&&(es(t,"afterInit",Nh),es(i,"afterSetChartSize",o=>this.afterSetSize(o.target,o)),es(i,"render",qd),es(s,"show",Nh))}static afterSetSize(t,i){let s,o,r,{minWidth:a,minHeight:h}=t.options.chart.scrollablePlotArea||{},{clipBox:d,plotBox:u,inverted:m,renderer:p}=t;if(!p.forExport&&(a?(t.scrollablePixelsX=s=Math.max(0,a-t.chartWidth),s&&(t.scrollablePlotBox=Bh(t.plotBox),u.width=t.plotWidth+=s,d[m?"height":"width"]+=s,r=!0)):h&&(t.scrollablePixelsY=o=Math.max(0,h-t.chartHeight),Ba(o)&&(t.scrollablePlotBox=Bh(t.plotBox),u.height=t.plotHeight+=o,d[m?"width":"height"]+=o,r=!1)),Ba(r)&&!i.skipAxes))for(let g of t.axes)(g.horiz===r||t.hasParallelCoordinates&&g.coll==="yAxis")&&(g.setAxisSize(),g.setAxisTranslation())}constructor(t){let i,s=t.options.chart,o=Zt.getRendererType(),r=s.scrollablePlotArea||{},a=this.moveFixedElements.bind(this),h={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};t.scrollablePixelsX&&(h.overflowX="auto"),t.scrollablePixelsY&&(h.overflowY="auto"),this.chart=t;let d=this.parentDiv=_r("div",{className:"highcharts-scrolling-parent"},{position:"relative"},t.renderTo),u=this.scrollingContainer=_r("div",{className:"highcharts-scrolling"},h,d),m=this.innerContainer=_r("div",{className:"highcharts-inner-container"},void 0,u),p=this.fixedDiv=_r("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(s.style?.zIndex||0)+2,top:0},void 0,!0),g=this.fixedRenderer=new o(p,t.chartWidth,t.chartHeight,s.style);this.mask=g.path().attr({fill:s.backgroundColor||"#fff","fill-opacity":r.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),u.parentNode.insertBefore(p,u),za(t.renderTo,{overflow:"visible"}),es(t,"afterShowResetZoom",a),es(t,"afterApplyDrilldown",a),es(t,"afterLayOutTitles",a),es(u,"scroll",()=>{let{pointer:v,hoverPoint:y}=t;v&&(delete v.chartPosition,y&&(i=y),v.runPointActions(void 0,i,!0))}),m.appendChild(t.container)}applyFixed(){let{chart:t,fixedRenderer:i,isDirty:s,scrollingContainer:o}=this,{axisOffset:r,chartWidth:a,chartHeight:h,container:d,plotHeight:u,plotLeft:m,plotTop:p,plotWidth:g,scrollablePixelsX:v=0,scrollablePixelsY:y=0}=t,{scrollPositionX:w=0,scrollPositionY:k=0}=t.options.chart.scrollablePlotArea||{},b=a+v,P=h+y;i.setSize(a,h),(s??!0)&&(this.isDirty=!1,this.moveFixedElements()),Ud(t.container),za(d,{width:`${b}px`,height:`${P}px`}),t.renderer.boxWrapper.attr({width:b,height:P,viewBox:[0,0,b,P].join(" ")}),t.chartBackground?.attr({width:b,height:P}),za(o,{width:`${a}px`,height:`${h}px`}),Ba(s)||(o.scrollLeft=v*w,o.scrollTop=y*k);let S=p-r[0]-1,I=m-r[3]-1,B=p+u+r[2]+1,z=m+g+r[1]+1,E=m+g-v,D=p+u-y,F=[["M",0,0]];v?F=[["M",0,S],["L",m-1,S],["L",m-1,B],["L",0,B],["Z"],["M",E,S],["L",a,S],["L",a,B],["L",E,B],["Z"]]:y&&(F=[["M",I,0],["L",I,p-1],["L",z,p-1],["L",z,0],["Z"],["M",I,D],["L",I,h],["L",z,h],["L",z,D],["Z"]]),t.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:F})}moveFixedElements(){let t,{container:i,inverted:s,scrollablePixelsX:o,scrollablePixelsY:r}=this.chart,a=this.fixedRenderer,h=lo.fixedSelectors;if(o&&!s?t=".highcharts-yaxis":o&&s||r&&!s?t=".highcharts-xaxis":r&&s&&(t=".highcharts-yaxis"),t&&!(this.chart.hasParallelCoordinates&&t===".highcharts-yaxis"))for(let d of[`${t}:not(.highcharts-radial-axis)`,`${t}-labels:not(.highcharts-radial-axis-labels)`])Dh(h,d);else for(let d of[".highcharts-xaxis",".highcharts-yaxis"])for(let u of[`${d}:not(.highcharts-radial-axis)`,`${d}-labels:not(.highcharts-radial-axis-labels)`])Vd(h,u);for(let d of h)[].forEach.call(i.querySelectorAll(d),u=>{(u.namespaceURI===a.SVG_NS?a.box:a.box.parentNode).appendChild(u),u.style.pointerEvents="auto"})}}lo.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:$d}=ut,{series:Kd}=$t,{destroyObjectProperties:Jd,fireEvent:Rh,getAlignFactor:Da,isNumber:Na,pick:co}=ht,Zh=class{constructor(c,t,i,s,o){let r=c.chart.inverted,a=c.reversed;this.axis=c;let h=this.isNegative=!!i!=!!a;this.options=t=t||{},this.x=s,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=o,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:t.align||(r?h?"left":"right":"center"),verticalAlign:t.verticalAlign||(r?"middle":h?"bottom":"top"),y:t.y,x:t.x},this.textAlign=t.textAlign||(r?h?"right":"left":"center")}destroy(){Jd(this,this.axis)}render(c){let t=this.axis.chart,i=this.options,s=i.format,o=s?$d(s,this,t):i.formatter.call(this);if(this.label)this.label.attr({text:o,visibility:"hidden"});else{this.label=t.renderer.label(o,null,void 0,i.shape,void 0,void 0,i.useHTML,!1,"stack-labels");let r={r:i.borderRadius||0,text:o,padding:co(i.padding,5),visibility:"hidden"};t.styledMode||(r.fill=i.backgroundColor,r.stroke=i.borderColor,r["stroke-width"]=i.borderWidth,this.label.css(i.style||{})),this.label.attr(r),this.label.added||this.label.add(c)}this.label.labelrank=t.plotSizeY,Rh(this,"afterRender")}setOffset(c,t,i,s,o,r){let{alignOptions:a,axis:h,label:d,options:u,textAlign:m}=this,p=h.chart,g=this.getStackBox({xOffset:c,width:t,boxBottom:i,boxTop:s,defaultX:o,xAxis:r}),{verticalAlign:v}=a;if(d&&g){let y=d.getBBox(void 0,0),w=d.padding,k=co(u.overflow,"justify")==="justify",b;a.x=u.x||0,a.y=u.y||0;let{x:P,y:S}=this.adjustStackPosition({labelBox:y,verticalAlign:v,textAlign:m});g.x-=P,g.y-=S,d.align(a,!1,g),(b=p.isInsidePlot(d.alignAttr.x+a.x+P,d.alignAttr.y+a.y+S))||(k=!1),k&&Kd.prototype.justifyDataLabel.call(h,d,a,d.alignAttr,y,g),d.attr({x:d.alignAttr.x,y:d.alignAttr.y,rotation:u.rotation,rotationOriginX:y.width*Da(u.textAlign||"center"),rotationOriginY:y.height/2}),co(!k&&u.crop,!0)&&(b=Na(d.x)&&Na(d.y)&&p.isInsidePlot(d.x-w+(d.width||0),d.y)&&p.isInsidePlot(d.x+w,d.y)),d[b?"show":"hide"]()}Rh(this,"afterSetOffset",{xOffset:c,width:t})}adjustStackPosition({labelBox:c,verticalAlign:t,textAlign:i}){return{x:c.width/2+c.width/2*(2*Da(i)-1),y:c.height/2*2*(1-Da(t))}}getStackBox(c){let t=this.axis,i=t.chart,{boxTop:s,defaultX:o,xOffset:r,width:a,boxBottom:h}=c,d=t.stacking.usePercentage?100:co(s,this.total,0),u=t.toPixels(d),m=c.xAxis||i.xAxis[0],p=co(o,m.translate(this.x))+r,g=Math.abs(u-t.toPixels(h||Na(t.min)&&t.logarithmic&&t.logarithmic.lin2log(t.min)||0)),v=i.inverted,y=this.isNegative;return v?{x:(y?u:u-g)-i.plotLeft,y:m.height-p-a+m.top-i.plotTop,width:g,height:a}:{x:p+m.transB-i.plotLeft,y:(y?u-g:u)-i.plotTop,width:a,height:g}}},{getDeferredAnimation:Qd}=se,{series:{prototype:tc}}=$t,{addEvent:Wh,correctFloat:uo,defined:Hh,destroyObjectProperties:ec,fireEvent:ic,isNumber:Ra,objectEach:Os,pick:Za}=ht;function sc(){let c=this.inverted;this.axes.forEach(t=>{t.stacking&&t.stacking.stacks&&t.hasVisibleSeries&&(t.stacking.oldStacks=t.stacking.stacks)}),this.series.forEach(t=>{let i=t.xAxis&&t.xAxis.options||{};t.options.stacking&&t.reserveSpace()&&(t.stackKey=[t.type,Za(t.options.stack,""),c?i.top:i.left,c?i.height:i.width].join(","))})}function nc(){let c=this.stacking;if(c){let t=c.stacks;Os(t,(i,s)=>{ec(i),delete t[s]}),c.stackTotalGroup?.destroy()}}function oc(){this.stacking||(this.stacking=new cc(this))}function rc(c,t,i,s){return!Hh(c)||c.x!==t||s&&c.stackKey!==s?c={x:t,index:0,key:s,stackKey:s}:c.index++,c.key=[i,t,c.index].join(","),c}function ac(){let c,t=this,i=t.yAxis,s=t.stackKey||"",o=i.stacking.stacks,r=t.getColumn("x",!0),a=t.options.stacking,h=t[a+"Stacker"];h&&[s,"-"+s].forEach(d=>{let u=r.length,m,p,g;for(;u--;)m=r[u],c=t.getStackIndicator(c,m,t.index,d),p=o[d]?.[m],(g=p?.points[c.key||""])&&h.call(t,g,p,u)})}function hc(c,t,i){let s=t.total?100/t.total:0;c[0]=uo(c[0]*s),c[1]=uo(c[1]*s),this.stackedYData[i]=c[1]}function lc(c){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?tc.setStackedPoints.call(this,c,"group"):c.stacking.resetStacks())}function dc(c,t){let i,s,o,r,a,h,d,u=t||this.options.stacking;if(!u||!this.reserveSpace()||({group:"xAxis"}[u]||"yAxis")!==c.coll)return;let m=this.getColumn("x",!0),p=this.getColumn(this.pointValKey||"y",!0),g=[],v=p.length,y=this.options,w=y.threshold||0,k=y.startFromThreshold?w:0,b=y.stack,P=t?`${this.type},${u}`:this.stackKey||"",S="-"+P,I=this.negStacks,B=c.stacking,z=B.stacks,E=B.oldStacks;for(B.stacksTouched+=1,d=0;d<v;d++){let D=m[d]||0,F=p[d],X=Ra(F)&&F||0;h=(i=this.getStackIndicator(i,D,this.index)).key||"",z[a=(s=I&&X<(k?0:w))?S:P]||(z[a]={}),z[a][D]||(E[a]?.[D]?(z[a][D]=E[a][D],z[a][D].total=null):z[a][D]=new Zh(c,c.options.stackLabels,!!s,D,b)),o=z[a][D],F!==null?(o.points[h]=o.points[this.index]=[Za(o.cumulative,k)],Hh(o.cumulative)||(o.base=h),o.touched=B.stacksTouched,i.index>0&&this.singleStacks===!1&&(o.points[h][0]=o.points[this.index+","+D+",0"][0])):(delete o.points[h],delete o.points[this.index]);let Y=o.total||0;u==="percent"?(r=s?P:S,Y=I&&z[r]?.[D]?(r=z[r][D]).total=Math.max(r.total||0,Y)+Math.abs(X):uo(Y+Math.abs(X))):u==="group"?Ra(F)&&Y++:Y=uo(Y+X),u==="group"?o.cumulative=(Y||1)-1:o.cumulative=uo(Za(o.cumulative,k)+X),o.total=Y,F!==null&&(o.points[h].push(o.cumulative),g[d]=o.cumulative,o.hasValidPoints=!0)}u==="percent"&&(B.usePercentage=!0),u!=="group"&&(this.stackedYData=g),B.oldStacks={}}class cc{constructor(t){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=t}buildStacks(){let t,i,s=this.axis,o=s.series,r=s.coll==="xAxis",a=s.options.reversedStacks,h=o.length;for(this.resetStacks(),this.usePercentage=!1,i=h;i--;)t=o[a?i:h-i-1],r&&t.setGroupedPoints(s),t.setStackedPoints(s);if(!r)for(i=0;i<h;i++)o[i].modifyStacks();ic(s,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Os(this.stacks,t=>{Os(t,i=>{i.cumulative=i.total})}))}resetStacks(){Os(this.stacks,t=>{Os(t,(i,s)=>{Ra(i.touched)&&i.touched<this.stacksTouched?(i.destroy(),delete t[s]):(i.total=null,i.cumulative=null)})})}renderStackTotals(){let t=this.axis,i=t.chart,s=i.renderer,o=this.stacks,r=Qd(i,t.options.stackLabels?.animation||!1),a=this.stackTotalGroup=this.stackTotalGroup||s.g("stack-labels").attr({zIndex:6,opacity:0}).add();a.translate(i.plotLeft,i.plotTop),Os(o,h=>{Os(h,d=>{d.render(a)})}),a.animate({opacity:1},r)}}(rt||(rt={})).compose=function(c,t,i){let s=t.prototype,o=i.prototype;s.getStacks||(Wh(c,"init",oc),Wh(c,"destroy",nc),s.getStacks=sc,o.getStackIndicator=rc,o.modifyStacks=ac,o.percentStacker=hc,o.setGroupedPoints=lc,o.setStackedPoints=dc)};let uc=rt,{defined:pc,merge:Fh,isObject:fc}=ht;class Gh extends Re{drawGraph(){let t=this.options,i=(this.gappedPath||this.getGraphPath).call(this),s=this.chart.styledMode;[this,...this.zones].forEach((o,r)=>{let a,h=o.graph,d=h?"animate":"attr",u=o.dashStyle||t.dashStyle;h?(h.endX=this.preventGraphAnimation?null:i.xMap,h.animate({d:i})):i.length&&(o.graph=h=this.chart.renderer.path(i).addClass("highcharts-graph"+(r?` highcharts-zone-graph-${r-1} `:" ")+(r&&o.className||"")).attr({zIndex:1}).add(this.group)),h&&!s&&(a={stroke:!r&&t.lineColor||o.color||this.color||"#cccccc","stroke-width":t.lineWidth||0,fill:this.fillGraph&&this.color||"none"},u?a.dashstyle=u:t.linecap!=="square"&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),h[d](a).shadow(t.shadow&&Fh({filterUnits:"userSpaceOnUse"},fc(t.shadow)?t.shadow:{}))),h&&(h.startX=i.xMap,h.isArea=i.isArea)})}getGraphPath(t,i,s){let o=this,r=o.options,a=[],h=[],d,u=r.step,m=(t=t||o.points).reversed;return m&&t.reverse(),(u={right:1,center:2}[u]||u&&3)&&m&&(u=4-u),(t=this.getValidPoints(t,!1,!(r.connectNulls&&!i&&!s))).forEach(function(p,g){let v,y=p.plotX,w=p.plotY,k=t[g-1],b=p.isNull||typeof w!="number";(p.leftCliff||k&&k.rightCliff)&&!s&&(d=!0),b&&!pc(i)&&g>0?d=!r.connectNulls:b&&!i?d=!0:(g===0||d?v=[["M",p.plotX,p.plotY]]:o.getPointSpline?v=[o.getPointSpline(t,p,g)]:u?(v=u===1?[["L",k.plotX,w]]:u===2?[["L",(k.plotX+y)/2,k.plotY],["L",(k.plotX+y)/2,w]]:[["L",y,k.plotY]]).push(["L",y,w]):v=[["L",y,w]],h.push(p.x),u&&(h.push(p.x),u===2&&h.push(p.x)),a.push.apply(a,v),d=!1)}),a.xMap=h,o.graphPath=a,a}}Gh.defaultOptions=Fh(Re.defaultOptions,{legendSymbol:"lineMarker"}),$t.registerSeriesType("line",Gh);let{seriesTypes:{line:Wa}}=$t,{extend:mc,merge:gc,objectEach:_c,pick:vr}=ht;class Ha extends Wa{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:t,options:i}=this;[this,...this.zones].forEach((s,o)=>{let r={},a=s.fillColor||i.fillColor,h=s.area,d=h?"animate":"attr";h?(h.endX=this.preventGraphAnimation?null:t.xMap,h.animate({d:t})):(r.zIndex=0,(h=s.area=this.chart.renderer.path(t).addClass("highcharts-area"+(o?` highcharts-zone-area-${o-1} `:" ")+(o&&s.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(r.fill=a||s.color||this.color,r["fill-opacity"]=a?1:i.fillOpacity??.75,h.css({pointerEvents:this.stickyTracking?"none":"auto"})),h[d](r),h.startX=t.xMap,h.shiftUnit=i.step?2:1})}getGraphPath(t){let i,s,o,r=Wa.prototype.getGraphPath,a=this.options,h=a.stacking,d=this.yAxis,u=[],m=[],p=this.index,g=d.stacking.stacks[this.stackKey],v=a.threshold,y=Math.round(d.getThreshold(a.threshold)),w=vr(a.connectNulls,h==="percent"),k=function(z,E,D){let F=t[z],X=h&&g[F.x].points[p],Y=F[D+"Null"]||0,tt=F[D+"Cliff"]||0,et,ot,st=!0;tt||Y?(et=(Y?X[0]:X[1])+tt,ot=X[0]+tt,st=!!Y):!h&&t[E]&&t[E].isNull&&(et=ot=v),et!==void 0&&(m.push({plotX:i,plotY:et===null?y:d.getThreshold(et),isNull:st,isCliff:!0}),u.push({plotX:i,plotY:ot===null?y:d.getThreshold(ot),doCurve:!1}))};t=t||this.points,h&&(t=this.getStackPoints(t));for(let z=0,E=t.length;z<E;++z)h||(t[z].leftCliff=t[z].rightCliff=t[z].leftNull=t[z].rightNull=void 0),s=t[z].isNull,i=vr(t[z].rectPlotX,t[z].plotX),o=h?vr(t[z].yBottom,y):y,s&&!w||(w||k(z,z-1,"left"),s&&!h&&w||(m.push(t[z]),u.push({x:z,plotX:i,plotY:o})),w||k(z,z+1,"right"));let b=r.call(this,m,!0,!0);u.reversed=!0;let P=r.call(this,u,!0,!0),S=P[0];S&&S[0]==="M"&&(P[0]=["L",S[1],S[2]]);let I=b.concat(P);I.length&&I.push(["Z"]);let B=r.call(this,m,!1,w);return this.chart.series.length>1&&h&&m.some(z=>z.isCliff)&&(I.hasStackedCliffs=B.hasStackedCliffs=!0),I.xMap=b.xMap,this.areaPath=I,B}getStackPoints(t){let i=this,s=[],o=[],r=this.xAxis,a=this.yAxis,h=a.stacking.stacks[this.stackKey],d={},u=a.series,m=u.length,p=a.options.reversedStacks?1:-1,g=u.indexOf(i);if(t=t||this.points,this.options.stacking){for(let y=0;y<t.length;y++)t[y].leftNull=t[y].rightNull=void 0,d[t[y].x]=t[y];_c(h,function(y,w){y.total!==null&&o.push(w)}),o.sort(function(y,w){return y-w});let v=u.map(y=>y.visible);o.forEach(function(y,w){let k=0,b,P;if(d[y]&&!d[y].isNull)s.push(d[y]),[-1,1].forEach(function(S){let I=S===1?"rightNull":"leftNull",B=h[o[w+S]],z=0;if(B){let E=g;for(;E>=0&&E<m;){let D=u[E].index;!(b=B.points[D])&&(D===i.index?d[y][I]=!0:v[E]&&(P=h[y].points[D])&&(z-=P[1]-P[0])),E+=p}}d[y][S===1?"rightCliff":"leftCliff"]=z});else{let S=g;for(;S>=0&&S<m;){let I=u[S].index;if(b=h[y].points[I]){k=b[1];break}S+=p}k=vr(k,0),k=a.translate(k,0,1,0,1),s.push({isNull:!0,plotX:r.translate(y,0,0,0,1),x:y,plotY:k,yBottom:k})}})}return s}}Ha.defaultOptions=gc(Wa.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),mc(Ha.prototype,{singleStacks:!1}),$t.registerSeriesType("area",Ha);let{line:Xh}=$t.seriesTypes,{merge:vc,pick:yr}=ht;class Fa extends Xh{getPointSpline(t,i,s){let o,r,a,h,d=i.plotX||0,u=i.plotY||0,m=t[s-1],p=t[s+1];function g(y){return y&&!y.isNull&&y.doCurve!==!1&&!i.isCliff}if(g(m)&&g(p)){let y=m.plotX||0,w=m.plotY||0,k=p.plotX||0,b=p.plotY||0,P=0;o=(1.5*d+y)/2.5,r=(1.5*u+w)/2.5,a=(1.5*d+k)/2.5,h=(1.5*u+b)/2.5,a!==o&&(P=(h-r)*(a-d)/(a-o)+u-h),r+=P,h+=P,r>w&&r>u?(r=Math.max(w,u),h=2*u-r):r<w&&r<u&&(r=Math.min(w,u),h=2*u-r),h>b&&h>u?(h=Math.max(b,u),r=2*u-h):h<b&&h<u&&(h=Math.min(b,u),r=2*u-h),i.rightContX=a,i.rightContY=h,i.controlPoints={low:[o,r],high:[a,h]}}let v=["C",yr(m.rightContX,m.plotX,0),yr(m.rightContY,m.plotY,0),yr(o,d,0),yr(r,u,0),d,u];return m.rightContX=m.rightContY=void 0,v}}Fa.defaultOptions=vc(Xh.defaultOptions),$t.registerSeriesType("spline",Fa);let jh=Fa,{area:yc,area:{prototype:Ga}}=$t.seriesTypes,{extend:xc,merge:bc}=ht;class Xa extends jh{}Xa.defaultOptions=bc(jh.defaultOptions,yc.defaultOptions),xc(Xa.prototype,{getGraphPath:Ga.getGraphPath,getStackPoints:Ga.getStackPoints,drawGraph:Ga.drawGraph}),$t.registerSeriesType("areaspline",Xa);let{animObject:wc}=se,{parse:Lc}=Vt,{noop:kc}=U,{clamp:xr,crisp:br,defined:Uh,extend:Yh,fireEvent:Vh,isArray:qh,isNumber:wr,merge:ja,pick:fn,objectEach:Mc}=ht;class Lr extends Re{animate(t){let i,s,o=this,r=this.yAxis,a=r.pos,h=r.reversed,d=o.options,{clipOffset:u,inverted:m}=this.chart,p={},g=m?"translateX":"translateY";t&&u?(p.scaleY=.001,s=xr(r.toPixels(d.threshold||0),a,a+r.len),m?(s+=h?-Math.floor(u[0]):Math.ceil(u[2]),p.translateX=s-r.len):(s+=h?Math.ceil(u[0]):-Math.floor(u[2]),p.translateY=s),o.clipBox&&o.setClip(),o.group.attr(p)):(i=Number(o.group.attr(g)),o.group.animate({scaleY:1},Yh(wc(o.options.animation),{step:function(v,y){o.group&&(p[g]=i+y.pos*(a-i),o.group.attr(p))}})))}init(t,i){super.init.apply(this,arguments);let s=this;(t=s.chart).hasRendered&&t.series.forEach(function(o){o.type===s.type&&(o.isDirty=!0)})}getColumnMetrics(){let t=this,i=t.options,s=t.xAxis,o=t.yAxis,r=s.options.reversedStacks,a=s.reversed&&!r||!s.reversed&&r,h={},d,u=0;i.grouping===!1?u=1:t.chart.series.forEach(function(w){let k,b=w.yAxis,P=w.options;w.type===t.type&&w.reserveSpace()&&o.len===b.len&&o.pos===b.pos&&(P.stacking&&P.stacking!=="group"?(h[d=w.stackKey]===void 0&&(h[d]=u++),k=h[d]):P.grouping!==!1&&(k=u++),w.columnIndex=k)});let m=Math.min(Math.abs(s.transA)*(!s.brokenAxis?.hasBreaks&&s.ordinal?.slope||i.pointRange||s.closestPointRange||s.tickInterval||1),s.len),p=m*i.groupPadding,g=(m-2*p)/(u||1),v=Math.min(i.maxPointWidth||s.len,fn(i.pointWidth,g*(1-2*i.pointPadding))),y=(t.columnIndex||0)+(a?1:0);return t.columnMetrics={width:v,offset:(g-v)/2+(p+y*g-m/2)*(a?-1:1),paddedWidth:g,columnCount:u},t.columnMetrics}crispCol(t,i,s,o){let r=this.borderWidth,a=this.chart.inverted;return o=br(i+o,r,a)-(i=br(i,r,a)),this.options.crisp&&(s=br(t+s,r)-(t=br(t,r))),{x:t,y:i,width:s,height:o}}adjustForMissingColumns(t,i,s,o){if(!s.isNull&&o.columnCount>1){let r=this.xAxis.series.filter(u=>u.visible).map(u=>u.index),a=0,h=0;Mc(this.xAxis.stacking?.stacks,u=>{let m=typeof s.x=="number"?u[s.x.toString()]?.points:void 0,p=m?.[this.index],g={};if(m&&qh(p)){let v=this.index,y=Object.keys(m).filter(w=>!w.match(",")&&m[w]&&m[w].length>1).map(parseFloat).filter(w=>r.indexOf(w)!==-1).filter(w=>{let k=this.chart.series[w].options,b=k.stacking&&k.stack;if(Uh(b)){if(wr(g[b]))return v===w&&(v=g[b]),!1;g[b]=w}return!0}).sort((w,k)=>k-w);a=y.indexOf(v),h=y.length}}),a=this.xAxis.reversed?h-1-a:a;let d=(h-1)*o.paddedWidth+i;t=(s.plotX||0)+d/2-i-a*o.paddedWidth}return t}translate(){let t=this,i=t.chart,s=t.options,o=t.dense=t.closestPointRange*t.xAxis.transA<2,r=t.borderWidth=fn(s.borderWidth,o?0:1),a=t.xAxis,h=t.yAxis,d=s.threshold,u=fn(s.minPointLength,5),m=t.getColumnMetrics(),p=m.width,g=t.pointXOffset=m.offset,v=t.dataMin,y=t.dataMax,w=t.translatedThreshold=h.getThreshold(d),k=t.barW=Math.max(p,1+2*r);s.pointPadding&&s.crisp&&(k=Math.ceil(k)),Re.prototype.translate.apply(t),t.points.forEach(function(b){let P=fn(b.yBottom,w),S=999+Math.abs(P),I=b.plotX||0,B=xr(b.plotY,-S,h.len+S),z,E=Math.min(B,P),D=Math.max(B,P)-E,F=p,X=I+g,Y=k;u&&Math.abs(D)<u&&(D=u,z=!h.reversed&&!b.negative||h.reversed&&b.negative,wr(d)&&wr(y)&&b.y===d&&y<=d&&(h.min||0)<d&&(v!==y||(h.max||0)<=d)&&(z=!z,b.negative=!b.negative),E=Math.abs(E-w)>u?P-u:w-(z?u:0)),Uh(b.options.pointWidth)&&(X-=Math.round(((F=Y=Math.ceil(b.options.pointWidth))-p)/2)),s.centerInCategory&&(X=t.adjustForMissingColumns(X,F,b,m)),b.barX=X,b.pointWidth=F,b.tooltipPos=i.inverted?[xr(h.len+h.pos-i.plotLeft-B,h.pos-i.plotLeft,h.len+h.pos-i.plotLeft),a.len+a.pos-i.plotTop-X-Y/2,D]:[a.left-i.plotLeft+X+Y/2,xr(B+h.pos-i.plotTop,h.pos-i.plotTop,h.len+h.pos-i.plotTop),D],b.shapeType=t.pointClass.prototype.shapeType||"roundedRect",b.shapeArgs=t.crispCol(X,b.isNull?w:E,Y,b.isNull?0:D)}),Vh(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(t,i){let s=this.options,o=this.pointAttrToOptions||{},r=o.stroke||"borderColor",a=o["stroke-width"]||"borderWidth",h,d,u,m=t&&t.color||this.color,p=t&&t[r]||s[r]||m,g=t&&t.options.dashStyle||s.dashStyle,v=t&&t[a]||s[a]||this[a]||0,y=fn(t&&t.opacity,s.opacity,1);t&&this.zones.length&&(d=t.getZone(),m=t.options.color||d&&(d.color||t.nonZonedColor)||this.color,d&&(p=d.borderColor||p,g=d.dashStyle||g,v=d.borderWidth||v)),i&&t&&(u=(h=ja(s.states[i],t.options.states&&t.options.states[i]||{})).brightness,m=h.color||u!==void 0&&Lc(m).brighten(h.brightness).get()||m,p=h[r]||p,v=h[a]||v,g=h.dashStyle||g,y=fn(h.opacity,y));let w={fill:m,stroke:p,"stroke-width":v,opacity:y};return g&&(w.dashstyle=g),w}drawPoints(t=this.points){let i,s=this,o=this.chart,r=s.options,a=o.renderer,h=r.animationLimit||250;t.forEach(function(d){let u=d.plotY,m=d.graphic,p=!!m,g=m&&o.pointCount<h?"animate":"attr";wr(u)&&d.y!==null?(i=d.shapeArgs,m&&d.hasNewShapeType()&&(m=m.destroy()),s.enabledDataSorting&&(d.startXPos=s.xAxis.reversed?-(i&&i.width||0):s.xAxis.width),!m&&(d.graphic=m=a[d.shapeType](i).add(d.group||s.group),m&&s.enabledDataSorting&&o.hasRendered&&o.pointCount<h&&(m.attr({x:d.startXPos}),p=!0,g="animate")),m&&p&&m[g](ja(i)),o.styledMode||m[g](s.pointAttribs(d,d.selected&&"select")).shadow(d.allowShadow!==!1&&r.shadow),m&&(m.addClass(d.getClassName(),!0),m.attr({visibility:d.visible?"inherit":"hidden"}))):m&&(d.graphic=m.destroy())})}drawTracker(t=this.points){let i,s=this,o=s.chart,r=o.pointer,a=function(h){r?.normalize(h);let d=r?.getPointFromEvent(h),u=!o.scrollablePlotArea||o.isInsidePlot(h.chartX-o.plotLeft,h.chartY-o.plotTop,{visiblePlotOnly:!0});r&&d&&s.options.enableMouseTracking&&u&&(r.isDirectTouch=!0,d.onMouseOver(h))};t.forEach(function(h){i=qh(h.dataLabels)?h.dataLabels:h.dataLabel?[h.dataLabel]:[],h.graphic&&(h.graphic.element.point=h),i.forEach(function(d){(d.div||d.element).point=h})}),s._hasTracking||(s.trackerGroups.forEach(function(h){s[h]&&(s[h].addClass("highcharts-tracker").on("mouseover",a).on("mouseout",function(d){r?.onTrackerMouseOut(d)}).on("touchstart",a),!o.styledMode&&s.options.cursor&&s[h].css({cursor:s.options.cursor}))}),s._hasTracking=!0),Vh(this,"afterDrawTracker")}remove(){let t=this,i=t.chart;i.hasRendered&&i.series.forEach(function(s){s.type===t.type&&(s.isDirty=!0)}),Re.prototype.remove.apply(t,arguments)}}Lr.defaultOptions=ja(Re.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),Yh(Lr.prototype,{directTouch:!0,getSymbol:kc,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),$t.registerSeriesType("column",Lr);let kr=Lr,{getDeferredAnimation:Pc}=se,{format:Cc}=ut,{defined:Es,extend:$h,fireEvent:Ua,getAlignFactor:Kh,isArray:is,isString:Ya,merge:po,objectEach:Sc,pick:fo,pInt:Tc,splat:Jh}=ht;(function(c){function t(){return d(this).some(m=>m?.enabled)}function i(m,p,g,v,y){let{chart:w,enabledDataSorting:k}=this,b=this.isCartesian&&w.inverted,P=m.plotX,S=m.plotY,I=g.rotation||0,B=Es(P)&&Es(S)&&w.isInsidePlot(P,Math.round(S),{inverted:b,paneCoordinates:!0,series:this}),z=I===0&&fo(g.overflow,k?"none":"justify")==="justify",E=this.visible&&m.visible!==!1&&Es(P)&&(m.series.forceDL||k&&!z||B||fo(g.inside,!!this.options.stacking)&&v&&w.isInsidePlot(P,b?v.x+1:v.y+v.height-1,{inverted:b,paneCoordinates:!0,series:this})),D=m.pos();if(E&&D){var F;let X=p.getBBox(),Y=p.getBBox(void 0,0);if(v=$h({x:D[0],y:Math.round(D[1]),width:0,height:0},v||{}),g.alignTo==="plotEdges"&&this.isCartesian&&(v[b?"x":"y"]=0,v[b?"width":"height"]=this.yAxis?.len||0),$h(g,{width:X.width,height:X.height}),F=v,k&&this.xAxis&&!z&&this.setDataLabelStartPos(m,p,y,B,F),p.align(po(g,{width:Y.width,height:Y.height}),!1,v,!1),p.alignAttr.x+=Kh(g.align)*(Y.width-X.width),p.alignAttr.y+=Kh(g.verticalAlign)*(Y.height-X.height),p.attr({"text-align":p.alignAttr["text-align"]||"center"})[p.placed?"animate":"attr"]({x:p.alignAttr.x+(X.width-Y.width)/2,y:p.alignAttr.y+(X.height-Y.height)/2,rotationOriginX:(p.width||0)/2,rotationOriginY:(p.height||0)/2}),z&&v.height>=0)this.justifyDataLabel(p,g,p.alignAttr,X,v,y);else if(fo(g.crop,!0)){let{x:tt,y:et}=p.alignAttr;E=w.isInsidePlot(tt,et,{paneCoordinates:!0,series:this})&&w.isInsidePlot(tt+X.width-1,et+X.height-1,{paneCoordinates:!0,series:this})}g.shape&&!I&&p[y?"attr":"animate"]({anchorX:D[0],anchorY:D[1]})}y&&k&&(p.placed=!1),E||k&&!z?(p.show(),p.placed=!0):(p.hide(),p.placed=!1)}function s(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function o(m){let p=this.hasRendered||0,g=this.initDataLabelsGroup().attr({opacity:+p});return!p&&g&&(this.visible&&g.show(),this.options.animation?g.animate({opacity:1},m):g.attr({opacity:1})),g}function r(m){let p;m=m||this.points;let g=this,v=g.chart,y=g.options,w=v.renderer,{backgroundColor:k,plotBackgroundColor:b}=v.options.chart,P=w.getContrast(Ya(b)&&b||Ya(k)&&k||"#000000"),S=d(g),{animation:I,defer:B}=S[0],z=B?Pc(v,I,g):{defer:0,duration:0};Ua(this,"drawDataLabels"),g.hasDataLabels?.()&&(p=this.initDataLabels(z),m.forEach(E=>{let D=E.dataLabels||[];Jh(h(S,E.dlOptions||E.options?.dataLabels)).forEach((X,Y)=>{let tt=X.enabled&&(E.visible||E.dataLabelOnHidden)&&(!E.isNull||E.dataLabelOnNull)&&function(Mt,Dt){let oe=Dt.filter;if(oe){let jt=oe.operator,xe=Mt[oe.property],re=oe.value;return jt===">"&&xe>re||jt==="<"&&xe<re||jt===">="&&xe>=re||jt==="<="&&xe<=re||jt==="=="&&xe==re||jt==="==="&&xe===re||jt==="!="&&xe!=re||jt==="!=="&&xe!==re}return!0}(E,X),{backgroundColor:et,borderColor:ot,distance:st,style:at={}}=X,bt,ft,mt,Lt={},ct=D[Y],Qt=!ct,Yt;tt&&(ft=Es(bt=fo(X[E.formatPrefix+"Format"],X.format))?Cc(bt,E,v):(X[E.formatPrefix+"Formatter"]||X.formatter).call(E,X),mt=X.rotation,!v.styledMode&&(at.color=fo(X.color,at.color,Ya(g.color)?g.color:void 0,"#000000"),at.color==="contrast"?(et!=="none"&&(Yt=et),E.contrastColor=w.getContrast(Yt!=="auto"&&Yt||E.color||g.color),at.color=Yt||!Es(st)&&X.inside||0>Tc(st||0)||y.stacking?E.contrastColor:P):delete E.contrastColor,y.cursor&&(at.cursor=y.cursor)),Lt={r:X.borderRadius||0,rotation:mt,padding:X.padding,zIndex:1},v.styledMode||(Lt.fill=et==="auto"?E.color:et,Lt.stroke=ot==="auto"?E.color:ot,Lt["stroke-width"]=X.borderWidth),Sc(Lt,(Mt,Dt)=>{Mt===void 0&&delete Lt[Dt]})),!ct||tt&&Es(ft)&&!!ct.div==!!X.useHTML&&(ct.rotation&&X.rotation||ct.rotation===X.rotation)||(ct=void 0,Qt=!0),tt&&Es(ft)&&(ct?Lt.text=ft:(ct=w.label(ft,0,0,X.shape,void 0,void 0,X.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+E.colorIndex+" "+(X.className||"")+(X.useHTML?" highcharts-tracker":"")),ct&&(ct.options=X,ct.attr(Lt),v.styledMode?at.width&&ct.css({width:at.width,textOverflow:at.textOverflow,whiteSpace:at.whiteSpace}):ct.css(at).shadow(X.shadow),Ua(ct,"beforeAddingDataLabel",{labelOptions:X,point:E}),ct.added||ct.add(p),g.alignDataLabel(E,ct,X,void 0,Qt),ct.isActive=!0,D[Y]&&D[Y]!==ct&&D[Y].destroy(),D[Y]=ct))});let F=D.length;for(;F--;)D[F]&&D[F].isActive?D[F].isActive=!1:(D[F]?.destroy(),D.splice(F,1));E.dataLabel=D[0],E.dataLabels=D})),Ua(this,"afterDrawDataLabels")}function a(m,p,g,v,y,w){let k=this.chart,b=p.align,P=p.verticalAlign,S=m.box?0:m.padding||0,I=k.inverted?this.yAxis:this.xAxis,B=I?I.left-k.plotLeft:0,z=k.inverted?this.xAxis:this.yAxis,E=z?z.top-k.plotTop:0,{x:D=0,y:F=0}=p,X,Y;return(X=(g.x||0)+S+B)<0&&(b==="right"&&D>=0?(p.align="left",p.inside=!0):D-=X,Y=!0),(X=(g.x||0)+v.width-S+B)>k.plotWidth&&(b==="left"&&D<=0?(p.align="right",p.inside=!0):D+=k.plotWidth-X,Y=!0),(X=g.y+S+E)<0&&(P==="bottom"&&F>=0?(p.verticalAlign="top",p.inside=!0):F-=X,Y=!0),(X=(g.y||0)+v.height-S+E)>k.plotHeight&&(P==="top"&&F<=0?(p.verticalAlign="bottom",p.inside=!0):F+=k.plotHeight-X,Y=!0),Y&&(p.x=D,p.y=F,m.placed=!w,m.align(p,void 0,y)),Y}function h(m,p){let g=[],v;if(is(m)&&!is(p))g=m.map(function(y){return po(y,p)});else if(is(p)&&!is(m))g=p.map(function(y){return po(m,y)});else if(is(m)||is(p)){if(is(m)&&is(p))for(v=Math.max(m.length,p.length);v--;)g[v]=po(m[v],p[v])}else g=po(m,p);return g}function d(m){let p=m.chart.options.plotOptions;return Jh(h(h(p?.series?.dataLabels,p?.[m.type]?.dataLabels),m.options.dataLabels))}function u(m,p,g,v,y){let w=this.chart,k=w.inverted,b=this.xAxis,P=b.reversed,S=((k?p.height:p.width)||0)/2,I=m.pointWidth,B=I?I/2:0;p.startXPos=k?y.x:P?-S-B:b.width-S+B,p.startYPos=k?P?this.yAxis.height-S+B:-S-B:y.y,v?p.visibility==="hidden"&&(p.show(),p.attr({opacity:0}).animate({opacity:1})):p.attr({opacity:1}).animate({opacity:0},void 0,p.hide),w.hasRendered&&(g&&p.attr({x:p.startXPos,y:p.startYPos}),p.placed=!0)}c.compose=function(m){let p=m.prototype;p.initDataLabels||(p.initDataLabels=o,p.initDataLabelsGroup=s,p.alignDataLabel=i,p.drawDataLabels=r,p.justifyDataLabel=a,p.setDataLabelStartPos=u,p.hasDataLabels=t)}})(Q||(Q={}));let Mr=Q,{composed:Ac}=U,{series:Qh}=$t,{merge:Oc,pick:mo,pushUnique:Ec}=ht;(function(c){function t(i,s,o,r,a){let h=this.chart.inverted,d=i.series,u=(d.xAxis?d.xAxis.len:this.chart.plotSizeX)||0,m=(d.yAxis?d.yAxis.len:this.chart.plotSizeY)||0,p=i.dlBox||i.shapeArgs,g=mo(i.below,i.plotY>mo(this.translatedThreshold,m)),v=mo(o.inside,!!this.options.stacking);if(p){if(r=Oc(p),!(o.overflow==="allow"&&o.crop===!1)){r.y<0&&(r.height+=r.y,r.y=0);let y=r.y+r.height-m;y>0&&y<r.height-1&&(r.height-=y)}h&&(r={x:m-r.y-r.height,y:u-r.x-r.width,width:r.height,height:r.width}),v||(h?(r.x+=g?0:r.width,r.width=0):(r.y+=g?r.height:0,r.height=0))}o.align=mo(o.align,!h||v?"center":g?"right":"left"),o.verticalAlign=mo(o.verticalAlign,h||v?"middle":g?"top":"bottom"),Qh.prototype.alignDataLabel.call(this,i,s,o,r,a),o.inside&&i.contrastColor&&s.css({color:i.contrastColor})}c.compose=function(i){Mr.compose(Qh),Ec(Ac,"ColumnDataLabel")&&(i.prototype.alignDataLabel=t)}})(Ot||(Ot={}));let Ic=Ot,{extend:zc,merge:Bc}=ht;class Va extends kr{}Va.defaultOptions=Bc(kr.defaultOptions,{}),zc(Va.prototype,{inverted:!0}),$t.registerSeriesType("bar",Va);let{column:Dc,line:tl}=$t.seriesTypes,{addEvent:Nc,extend:Rc,merge:Zc}=ht;class Pr extends tl{applyJitter(){let t=this,i=this.options.jitter,s=this.points.length;i&&this.points.forEach(function(o,r){["x","y"].forEach(function(a,h){if(i[a]&&!o.isNull){let d=`plot${a.toUpperCase()}`,u=t[`${a}Axis`],m=i[a]*u.transA;if(u&&!u.logarithmic){let p=Math.max(0,(o[d]||0)-m),g=Math.min(u.len,(o[d]||0)+m);o[d]=p+(g-p)*function(v){let y=1e4*Math.sin(v);return y-Math.floor(y)}(r+h*s),a==="x"&&(o.clientX=o.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}Pr.defaultOptions=Zc(tl.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),Rc(Pr.prototype,{drawTracker:Dc.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Nc(Pr,"afterTranslate",function(){this.applyJitter()}),$t.registerSeriesType("scatter",Pr);let{deg2rad:el}=U,{fireEvent:Wc,isNumber:qa,pick:Cr,relativeLength:Hc}=ht;(function(c){c.getCenter=function(){let t=this.options,i=this.chart,s=2*(t.slicedOffset||0),o=i.plotWidth-2*s,r=i.plotHeight-2*s,a=t.center,h=Math.min(o,r),d=t.thickness,u,m=t.size,p=t.innerSize||0,g,v;typeof m=="string"&&(m=parseFloat(m)),typeof p=="string"&&(p=parseFloat(p));let y=[Cr(a?.[0],"50%"),Cr(a?.[1],"50%"),Cr(m&&m<0?void 0:t.size,"100%"),Cr(p&&p<0?void 0:t.innerSize||0,"0%")];for(!i.angular||this instanceof Re||(y[3]=0),g=0;g<4;++g)v=y[g],u=g<2||g===2&&/%$/.test(v),y[g]=Hc(v,[o,r,h,y[2]][g])+(u?s:0);return y[3]>y[2]&&(y[3]=y[2]),qa(d)&&2*d<y[2]&&d>0&&(y[3]=y[2]-2*d),Wc(this,"afterGetCenter",{positions:y}),y},c.getStartAndEndRadians=function(t,i){let s=qa(t)?t:0,o=qa(i)&&i>s&&i-s<360?i:s+360;return{start:el*(s+-90),end:el*(o+-90)}}})(xt||(xt={}));let il=xt,{setAnimation:Fc}=se,{addEvent:sl,defined:Gc,extend:Xc,isNumber:jc,pick:Uc,relativeLength:Yc}=ht;class nl extends $i{getConnectorPath(t){let i=t.dataLabelPosition,s=t.options||{},o=s.connectorShape,r=this.connectorShapes[o]||o;return i&&r.call(this,{...i.computed,alignment:i.alignment},i.connectorPosition,s)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(t){let i=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.x,i.y,i.r+t,i.r+t,{innerR:i.r-1,start:i.start,end:i.end,borderRadius:i.borderRadius})}constructor(t,i,s){super(t,i,s),this.half=0,this.name??(this.name="Slice");let o=r=>{this.slice(r.type==="select")};sl(this,"select",o),sl(this,"unselect",o)}isValid(){return jc(this.y)&&this.y>=0}setVisible(t,i=!0){t!==this.visible&&this.update({visible:t??!this.visible},i,void 0,!1)}slice(t,i,s){let o=this.series;Fc(s,o.chart),i=Uc(i,!0),this.sliced=this.options.sliced=t=Gc(t)?t:!this.sliced,o.options.data[o.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}Xc(nl.prototype,{connectorShapes:{fixedOffset:function(c,t,i){let s=t.breakAt,o=t.touchingSliceAt,r=i.softConnector?["C",c.x+(c.alignment==="left"?-5:5),c.y,2*s.x-o.x,2*s.y-o.y,s.x,s.y]:["L",s.x,s.y];return[["M",c.x,c.y],r,["L",o.x,o.y]]},straight:function(c,t){let i=t.touchingSliceAt;return[["M",c.x,c.y],["L",i.x,i.y]]},crookedLine:function(c,t,i){let{angle:s=this.angle||0,breakAt:o,touchingSliceAt:r}=t,{series:a}=this,[h,d,u]=a.center,m=u/2,{plotLeft:p,plotWidth:g}=a.chart,v=c.alignment==="left",{x:y,y:w}=c,k=o.x;if(i.crookDistance){let P=Yc(i.crookDistance,1);k=v?h+m+(g+p-h-m)*(1-P):p+(h-m)*P}else k=h+(d-w)*Math.tan(s-Math.PI/2);let b=[["M",y,w]];return(v?k<=y&&k>=o.x:k>=y&&k<=o.x)&&b.push(["L",k,w]),b.push(["L",o.x,o.y],["L",r.x,r.y]),b}}});let{getStartAndEndRadians:Vc}=il,{noop:ol}=U,{clamp:qc,extend:$c,fireEvent:rl,merge:$a,pick:Kc}=ht;class Ka extends Re{animate(t){let i=this,s=i.points,o=i.startAngleRad;t||s.forEach(function(r){let a=r.graphic,h=r.shapeArgs;a&&h&&(a.attr({r:Kc(r.startR,i.center&&i.center[3]/2),start:o,end:o}),a.animate({r:h.r,start:h.start,end:h.end},i.options.animation))})}drawEmpty(){let t,i,s=this.startAngleRad,o=this.endAngleRad,r=this.options;this.total===0&&this.center?(t=this.center[0],i=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(t,i,this.center[1]/2,0,s,o).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:Be.arc(t,i,this.center[2]/2,0,{start:s,end:o,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":r.borderWidth,fill:r.fillColor||"none",stroke:r.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let t=this.chart.renderer;this.points.forEach(function(i){i.graphic&&i.hasNewShapeType()&&(i.graphic=i.graphic.destroy()),i.graphic||(i.graphic=t[i.shapeType](i.shapeArgs).add(i.series.group),i.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(t,i,s,o){let r=this.center,a=this.radii?this.radii[s.index]||0:r[2]/2,h=o.dataLabelPosition,d=h?.distance||0,u=Math.asin(qc((t-r[1])/(a+d),-1,1));return r[0]+Math.cos(u)*(a+d)*(i?-1:1)+(d>0?(i?-1:1)*(o.padding||0):0)}hasData(){return!!this.dataTable.rowCount}redrawPoints(){let t,i,s,o,r=this,a=r.chart;this.drawEmpty(),r.group&&!a.styledMode&&r.group.shadow(r.options.shadow),r.points.forEach(function(h){let d={};i=h.graphic,!h.isNull&&i?(o=h.shapeArgs,t=h.getTranslate(),a.styledMode||(s=r.pointAttribs(h,h.selected&&"select")),h.delayedRendering?(i.setRadialReference(r.center).attr(o).attr(t),a.styledMode||i.attr(s).attr({"stroke-linejoin":"round"}),h.delayedRendering=!1):(i.setRadialReference(r.center),a.styledMode||$a(!0,d,s),$a(!0,d,o,t),i.animate(d)),i.attr({visibility:h.visible?"inherit":"hidden"}),i.addClass(h.getClassName(),!0)):i&&(h.graphic=i.destroy())})}sortByAngle(t,i){t.sort(function(s,o){return s.angle!==void 0&&(o.angle-s.angle)*i})}translate(t){rl(this,"translate"),this.generatePoints();let i=this.options,s=i.slicedOffset,o=Vc(i.startAngle,i.endAngle),r=this.startAngleRad=o.start,a=(this.endAngleRad=o.end)-r,h=this.points,d=i.ignoreHiddenPoint,u=h.length,m,p,g,v,y,w,k,b=0;for(t||(this.center=t=this.getCenter()),w=0;w<u;w++){k=h[w],m=r+b*a,k.isValid()&&(!d||k.visible)&&(b+=k.percentage/100),p=r+b*a;let P={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*m)/1e3,end:Math.round(1e3*p)/1e3};k.shapeType="arc",k.shapeArgs=P,(g=(p+m)/2)>1.5*Math.PI?g-=2*Math.PI:g<-Math.PI/2&&(g+=2*Math.PI),k.slicedTranslation={translateX:Math.round(Math.cos(g)*s),translateY:Math.round(Math.sin(g)*s)},v=Math.cos(g)*t[2]/2,y=Math.sin(g)*t[2]/2,k.tooltipPos=[t[0]+.7*v,t[1]+.7*y],k.half=g<-Math.PI/2||g>Math.PI/2?1:0,k.angle=g}rl(this,"afterTranslate")}updateTotals(){let t=this.points,i=t.length,s=this.options.ignoreHiddenPoint,o,r,a=0;for(o=0;o<i;o++)(r=t[o]).isValid()&&(!s||r.visible)&&(a+=r.y);for(o=0,this.total=a;o<i;o++)(r=t[o]).percentage=a>0&&(r.visible||!s)?r.y/a*100:0,r.total=a}}Ka.defaultOptions=$a(Re.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),$c(Ka.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:kr.prototype.drawTracker,getCenter:il.getCenter,getSymbol:ol,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:kr.prototype.pointAttribs,pointClass:nl,requireSorting:!1,searchPoint:ol,trackerGroups:["group","dataLabelsGroup"]}),$t.registerSeriesType("pie",Ka);let{composed:Jc,noop:Qc}=U,{distribute:tu}=wi,{series:al}=$t,{arrayMax:eu,clamp:hl,defined:ll,pick:iu,pushUnique:su,relativeLength:dl}=ht;(function(c){let t={radialDistributionY:function(a,h){return(h.dataLabelPosition?.top||0)+a.distributeBox.pos},radialDistributionX:function(a,h,d,u,m){let p=m.dataLabelPosition;return a.getX(d<(p?.top||0)+2||d>(p?.bottom||0)-2?u:d,h.half,h,m)},justify:function(a,h,d,u){return u[0]+(a.half?-1:1)*(d+(h.dataLabelPosition?.distance||0))},alignToPlotEdges:function(a,h,d,u){let m=a.getBBox().width;return h?m+u:d-m-u},alignToConnectors:function(a,h,d,u){let m=0,p;return a.forEach(function(g){(p=g.dataLabel.getBBox().width)>m&&(m=p)}),h?m+u:d-m-u}};function i(a,h){let d=Math.PI/2,{start:u=0,end:m=0}=a.shapeArgs||{},p=a.angle||0;h>0&&u<d&&m>d&&p>d/2&&p<1.5*d&&(p=p<=d?Math.max(d/2,(u+d)/2):Math.min(1.5*d,(d+m)/2));let{center:g,options:v}=this,y=g[2]/2,w=Math.cos(p),k=Math.sin(p),b=g[0]+w*y,P=g[1]+k*y,S=Math.min((v.slicedOffset||0)+(v.borderWidth||0),h/5);return{natural:{x:b+w*h,y:P+k*h},computed:{},alignment:h<0?"center":a.half?"right":"left",connectorPosition:{angle:p,breakAt:{x:b+w*S,y:P+k*S},touchingSliceAt:{x:b,y:P}},distance:h}}function s(){let a=this,h=a.points,d=a.chart,u=d.plotWidth,m=d.plotHeight,p=d.plotLeft,g=Math.round(d.chartWidth/3),v=a.center,y=v[2]/2,w=v[1],k=[[],[]],b=[0,0,0,0],P=a.dataLabelPositioners,S,I,B,z=0;a.visible&&a.hasDataLabels?.()&&(h.forEach(E=>{(E.dataLabels||[]).forEach(D=>{D.shortened&&(D.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),D.shortened=!1)})}),al.prototype.drawDataLabels.apply(a),h.forEach(E=>{(E.dataLabels||[]).forEach((D,F)=>{let X=v[2]/2,Y=D.options,tt=dl(Y?.distance||0,X);F===0&&k[E.half].push(E),!ll(Y?.style?.width)&&D.getBBox().width>g&&(D.css({width:Math.round(.7*g)+"px"}),D.shortened=!0),D.dataLabelPosition=this.getDataLabelPosition(E,tt),z=Math.max(z,tt)})}),k.forEach((E,D)=>{let F=E.length,X=[],Y,tt,et=0,ot;F&&(a.sortByAngle(E,D-.5),z>0&&(Y=Math.max(0,w-y-z),tt=Math.min(w+y+z,d.plotHeight),E.forEach(st=>{(st.dataLabels||[]).forEach(at=>{let bt=at.dataLabelPosition;bt&&bt.distance>0&&(bt.top=Math.max(0,w-y-bt.distance),bt.bottom=Math.min(w+y+bt.distance,d.plotHeight),et=at.getBBox().height||21,at.lineHeight=d.renderer.fontMetrics(at.text||at).h+2*at.padding,st.distributeBox={target:(at.dataLabelPosition?.natural.y||0)-bt.top+at.lineHeight/2,size:et,rank:st.y},X.push(st.distributeBox))})}),tu(X,ot=tt+et-Y,ot/5)),E.forEach(st=>{(st.dataLabels||[]).forEach(at=>{let bt=at.options||{},ft=st.distributeBox,mt=at.dataLabelPosition,Lt=mt?.natural.y||0,ct=bt.connectorPadding||0,Qt=at.lineHeight||21,Yt=(Qt-at.getBBox().height)/2,Mt=0,Dt=Lt,oe="inherit";if(mt){if(X&&ll(ft)&&mt.distance>0&&(ft.pos===void 0?oe="hidden":(B=ft.size,Dt=P.radialDistributionY(st,at))),bt.justify)Mt=P.justify(st,at,y,v);else switch(bt.alignTo){case"connectors":Mt=P.alignToConnectors(E,D,u,p);break;case"plotEdges":Mt=P.alignToPlotEdges(at,D,u,p);break;default:Mt=P.radialDistributionX(a,st,Dt-Yt,Lt,at)}if(mt.attribs={visibility:oe,align:mt.alignment},mt.posAttribs={x:Mt+(bt.x||0)+({left:ct,right:-ct}[mt.alignment]||0),y:Dt+(bt.y||0)-Qt/2},mt.computed.x=Mt,mt.computed.y=Dt-Yt,iu(bt.crop,!0)){let jt;Mt-(I=at.getBBox().width)<ct&&D===1?(jt=Math.round(I-Mt+ct),b[3]=Math.max(jt,b[3])):Mt+I>u-ct&&D===0&&(jt=Math.round(Mt+I-u+ct),b[1]=Math.max(jt,b[1])),Dt-B/2<0?b[0]=Math.max(Math.round(-Dt+B/2),b[0]):Dt+B/2>m&&(b[2]=Math.max(Math.round(Dt+B/2-m),b[2])),mt.sideOverflow=jt}}})}))}),(eu(b)===0||this.verifyDataLabelOverflow(b))&&(this.placeDataLabels(),this.points.forEach(E=>{(E.dataLabels||[]).forEach(D=>{let{connectorColor:F,connectorWidth:X=1}=D.options||{},Y=D.dataLabelPosition;if(X){let tt;S=D.connector,Y&&Y.distance>0?(tt=!S,S||(D.connector=S=d.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+E.colorIndex+(E.className?" "+E.className:"")).add(a.dataLabelsGroup)),d.styledMode||S.attr({"stroke-width":X,stroke:F||E.color||"#666666"}),S[tt?"attr":"animate"]({d:E.getConnectorPath(D)}),S.attr({visibility:Y.attribs?.visibility})):S&&(D.connector=S.destroy())}})})))}function o(){this.points.forEach(a=>{(a.dataLabels||[]).forEach(h=>{let d=h.dataLabelPosition;d?(d.sideOverflow&&(h.css({width:Math.max(h.getBBox().width-d.sideOverflow,0)+"px",textOverflow:(h.options?.style||{}).textOverflow||"ellipsis"}),h.shortened=!0),h.attr(d.attribs),h[h.moved?"animate":"attr"](d.posAttribs),h.moved=!0):h&&h.attr({y:-9999})}),delete a.distributeBox},this)}function r(a){let h=this.center,d=this.options,u=d.center,m=d.minSize||80,p=m,g=d.size!==null;return!g&&(u[0]!==null?p=Math.max(h[2]-Math.max(a[1],a[3]),m):(p=Math.max(h[2]-a[1]-a[3],m),h[0]+=(a[3]-a[1])/2),u[1]!==null?p=hl(p,m,h[2]-Math.max(a[0],a[2])):(p=hl(p,m,h[2]-a[0]-a[2]),h[1]+=(a[0]-a[2])/2),p<h[2]?(h[2]=p,h[3]=Math.min(d.thickness?Math.max(0,p-2*d.thickness):Math.max(0,dl(d.innerSize||0,p)),p),this.translate(h),this.drawDataLabels&&this.drawDataLabels()):g=!0),g}c.compose=function(a){if(Mr.compose(al),su(Jc,"PieDataLabel")){let h=a.prototype;h.dataLabelPositioners=t,h.alignDataLabel=Qc,h.drawDataLabels=s,h.getDataLabelPosition=i,h.placeDataLabels=o,h.verifyDataLabelOverflow=r}}})(Nt||(Nt={}));let nu=Nt;(function(c){c.getCenterOfPoints=function(t){let i=t.reduce((s,o)=>(s.x+=o.x,s.y+=o.y,s),{x:0,y:0});return{x:i.x/t.length,y:i.y/t.length}},c.getDistanceBetweenPoints=function(t,i){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))},c.getAngleBetweenPoints=function(t,i){return Math.atan2(i.x-t.x,i.y-t.y)},c.pointInPolygon=function({x:t,y:i},s){let o=s.length,r,a,h=!1;for(r=0,a=o-1;r<o;a=r++){let[d,u]=s[r],[m,p]=s[a];u>i!=p>i&&t<(m-d)*(i-u)/(p-u)+d&&(h=!h)}return h}})(Rt||(Rt={}));let{pointInPolygon:ou}=Rt,{addEvent:ru,fireEvent:cl,objectEach:ul,pick:au}=ht;function hu(c){let t=c.length,i=(m,p)=>!(p.x>=m.x+m.width||p.x+p.width<=m.x||p.y>=m.y+m.height||p.y+p.height<=m.y),s=(m,p)=>{for(let g of m)if(ou({x:g[0],y:g[1]},p))return!0;return!1},o,r,a,h,d,u=!1;for(let m=0;m<t;m++)(o=c[m])&&(o.oldOpacity=o.opacity,o.newOpacity=1,o.absoluteBox=function(p){if(p&&(!p.alignAttr||p.placed)){let g=p.box?0:p.padding||0,v=p.alignAttr||{x:p.attr("x"),y:p.attr("y")},y=p.getBBox();return p.width=y.width,p.height=y.height,{x:v.x+(p.parentGroup?.translateX||0)+g,y:v.y+(p.parentGroup?.translateY||0)+g,width:(p.width||0)-2*g,height:(p.height||0)-2*g,polygon:y?.polygon}}}(o));c.sort((m,p)=>(p.labelrank||0)-(m.labelrank||0));for(let m=0;m<t;++m){h=(r=c[m])&&r.absoluteBox;let p=h?.polygon;for(let g=m+1;g<t;++g){d=(a=c[g])&&a.absoluteBox;let v=!1;if(h&&d&&r!==a&&r.newOpacity!==0&&a.newOpacity!==0&&r.visibility!=="hidden"&&a.visibility!=="hidden"){let y=d.polygon;if(p&&y&&p!==y?s(p,y)&&(v=!0):i(h,d)&&(v=!0),v){let w=r.labelrank<a.labelrank?r:a,k=w.text;w.newOpacity=0,k?.element.querySelector("textPath")&&k.hide()}}}}for(let m of c)pl(m,this)&&(u=!0);u&&cl(this,"afterHideAllOverlappingLabels")}function pl(c,t){let i,s,o=!1;return c&&(s=c.newOpacity,c.oldOpacity!==s&&(c.hasClass("highcharts-data-label")?(c[s?"removeClass":"addClass"]("highcharts-data-label-hidden"),i=function(){t.styledMode||c.css({pointerEvents:s?"auto":"none"})},o=!0,c[c.isOld?"animate":"attr"]({opacity:s},void 0,i),cl(t,"afterHideOverlappingLabel")):c.attr({opacity:s})),c.isOld=!0),o}function lu(){let c=this,t=[];for(let i of c.labelCollectors||[])t=t.concat(i());for(let i of c.yAxis||[])i.stacking&&i.options.stackLabels&&!i.options.stackLabels.allowOverlap&&ul(i.stacking.stacks,s=>{ul(s,o=>{o.label&&t.push(o.label)})});for(let i of c.series||[])if(i.visible&&i.hasDataLabels?.()){let s=o=>{for(let r of o)r.visible&&(r.dataLabels||[]).forEach(a=>{let h=a.options||{};a.labelrank=au(h.labelrank,r.labelrank,r.shapeArgs?.height),h.allowOverlap??Number(h.distance)>0?(a.oldOpacity=a.opacity,a.newOpacity=1,pl(a,c)):t.push(a)})};s(i.nodes||[]),s(i.points)}this.hideOverlappingLabels(t)}let fl={compose:function(c){let t=c.prototype;t.hideOverlappingLabels||(t.hideOverlappingLabels=hu,ru(c,"render",lu))}},{defaultOptions:du}=ke,{noop:ml}=U,{addEvent:gl,extend:cu,isObject:_l,merge:uu,relativeLength:Ja}=ht,pu={radius:0,scope:"stack",where:void 0},vl=ml,yl=ml;function fu(c,t,i,s,o={}){let r=vl(c,t,i,s,o),{innerR:a=0,r:h=i,start:d=0,end:u=0}=o;if(o.open||!o.borderRadius)return r;let m=u-d,p=Math.sin(m/2),g=Math.max(Math.min(Ja(o.borderRadius||0,h-a),(h-a)/2,h*p/(1+p)),0),v=Math.min(g,m/Math.PI*2*a),y=r.length-1;for(;y--;)(function(w,k,b){let P,S,I,B=w[k],z=w[k+1];if(z[0]==="Z"&&(z=w[0]),(B[0]==="M"||B[0]==="L")&&z[0]==="A"?(P=B,S=z,I=!0):B[0]==="A"&&(z[0]==="M"||z[0]==="L")&&(P=z,S=B),P&&S&&S.params){let E=S[1],D=S[5],F=S.params,{start:X,end:Y,cx:tt,cy:et}=F,ot=D?E-b:E+b,st=ot?Math.asin(b/ot):0,at=D?st:-st,bt=Math.cos(st)*ot;I?(F.start=X+at,P[1]=tt+bt*Math.cos(X),P[2]=et+bt*Math.sin(X),w.splice(k+1,0,["A",b,b,0,0,1,tt+E*Math.cos(F.start),et+E*Math.sin(F.start)])):(F.end=Y-at,S[6]=tt+E*Math.cos(F.end),S[7]=et+E*Math.sin(F.end),w.splice(k+1,0,["A",b,b,0,0,1,tt+bt*Math.cos(Y),et+bt*Math.sin(Y)])),S[4]=Math.abs(F.end-F.start)<Math.PI?0:1}})(r,y,y>1?v:g);return r}function mu(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:c,yAxis:t}=this,i=c.stacking==="percent",s=du.plotOptions?.[this.type]?.borderRadius,o=Qa(c.borderRadius,_l(s)?s:{}),r=t.options.reversed;for(let a of this.points){let{shapeArgs:h}=a;if(a.shapeType==="roundedRect"&&h){let{width:d=0,height:u=0,y:m=0}=h,p=m,g=u;if(o.scope==="stack"&&a.stackTotal){let k=t.translate(i?100:a.stackTotal,!1,!0,!1,!0),b=t.translate(c.threshold||0,!1,!0,!1,!0),P=this.crispCol(0,Math.min(k,b),0,Math.abs(k-b));p=P.y,g=P.height}let v=(a.negative?-1:1)*(r?-1:1)==-1,y=o.where;!y&&this.is("waterfall")&&Math.abs((a.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(y="all"),y||(y="end");let w=Math.min(Ja(o.radius,d),d/2,y==="all"?u/2:1/0)||0;y==="end"&&(v&&(p-=w),g+=w),cu(h,{brBoxHeight:g,brBoxY:p,r:w})}}}}function Qa(c,t){return _l(c)||(c={radius:c||0}),uu(pu,t,c)}function gu(){let c=Qa(this.options.borderRadius);for(let t of this.points){let i=t.shapeArgs;i&&(i.borderRadius=Ja(c.radius,(i.r||0)-(i.innerR||0)))}}function _u(c,t,i,s,o={}){let r=yl(c,t,i,s,o),{r:a=0,brBoxHeight:h=s,brBoxY:d=t}=o,u=t-d,m=d+h-(t+s),p=u-a>-.1?0:a,g=m-a>-.1?0:a,v=Math.max(p&&u,0),y=Math.max(g&&m,0),w=[c+p,t],k=[c+i-p,t],b=[c+i,t+p],P=[c+i,t+s-g],S=[c+i-g,t+s],I=[c+g,t+s],B=[c,t+s-g],z=[c,t+p],E=(D,F)=>Math.sqrt(Math.pow(D,2)-Math.pow(F,2));if(v){let D=E(p,p-v);w[0]-=D,k[0]+=D,b[1]=z[1]=t+p-v}if(s<p-v){let D=E(p,p-v-s);b[0]=P[0]=c+i-p+D,S[0]=Math.min(b[0],S[0]),I[0]=Math.max(P[0],I[0]),B[0]=z[0]=c+p-D,b[1]=z[1]=t+s}if(y){let D=E(g,g-y);S[0]+=D,I[0]-=D,P[1]=B[1]=t+s-g+y}if(s<g-y){let D=E(g,g-y-s);b[0]=P[0]=c+i-g+D,k[0]=Math.min(b[0],k[0]),w[0]=Math.max(P[0],w[0]),B[0]=z[0]=c+g-D,P[1]=B[1]=t}return r.length=0,r.push(["M",...w],["L",...k],["A",p,p,0,0,1,...b],["L",...P],["A",g,g,0,0,1,...S],["L",...I],["A",g,g,0,0,1,...B],["L",...z],["A",p,p,0,0,1,...w],["Z"]),r}let{diffObjects:vu,extend:yu,find:xu,merge:bu,pick:Sr,uniqueKey:wu}=ht;(function(c){function t(s,o){let r=s.condition;(r.callback||function(){return this.chartWidth<=Sr(r.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=Sr(r.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=Sr(r.minWidth,0)&&this.chartHeight>=Sr(r.minHeight,0)}).call(this)&&o.push(s._id)}function i(s,o){let r=this.options.responsive,a=this.currentResponsive,h=[],d;!o&&r&&r.rules&&r.rules.forEach(p=>{p._id===void 0&&(p._id=wu()),this.matchResponsiveRule(p,h)},this);let u=bu(...h.map(p=>xu((r||{}).rules||[],g=>g._id===p)).map(p=>p&&p.chartOptions));u.isResponsiveOptions=!0,h=h.toString()||void 0;let m=a&&a.ruleIds;h===m||(a&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(a.undoOptions,s,!0),this.updatingResponsive=!1),h?((d=vu(u,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:h,mergedOptions:u,undoOptions:d},this.updatingResponsive||this.update(u,s,!0)):this.currentResponsive=void 0)}c.compose=function(s){let o=s.prototype;return o.matchResponsiveRule||yu(o,{matchResponsiveRule:t,setResponsive:i}),s}})(ze||(ze={}));let Lu=ze;U.AST=Et,U.Axis=_,U.Chart=ts,U.Color=Vt,U.DataLabel=Mr,U.DataTableCore=cr,U.Fx=me,U.HTMLElement=Pi,U.Legend=Ch,U.LegendSymbol=ph,U.OverlappingDataLabels=U.OverlappingDataLabels||fl,U.PlotLineOrBand=rn,U.Point=$i,U.Pointer=dh,U.RendererRegistry=Zt,U.Series=Re,U.SeriesRegistry=$t,U.StackItem=Zh,U.SVGElement=Fe,U.SVGRenderer=qs,U.Templating=ut,U.Tick=Si,U.Time=Ln,U.Tooltip=oh,U.animate=se.animate,U.animObject=se.animObject,U.chart=ts.chart,U.color=Vt.parse,U.dateFormat=ut.dateFormat,U.defaultOptions=ke.defaultOptions,U.distribute=wi.distribute,U.format=ut.format,U.getDeferredAnimation=se.getDeferredAnimation,U.getOptions=ke.getOptions,U.numberFormat=ut.numberFormat,U.seriesType=$t.seriesType,U.setAnimation=se.setAnimation,U.setOptions=ke.setOptions,U.stop=se.stop,U.time=ke.defaultTime,U.timers=me.timers,{compose:function(c,t,i){let s=c.types.pie;if(!t.symbolCustomAttribs.includes("borderRadius")){let o=i.prototype.symbols;gl(c,"afterColumnTranslate",mu,{order:9}),gl(s,"afterTranslate",gu),t.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),vl=o.arc,yl=o.roundedRect,o.arc=fu,o.roundedRect=_u}},optionsToObject:Qa}.compose(U.Series,U.SVGElement,U.SVGRenderer),Ic.compose(U.Series.types.column),Mr.compose(U.Series),J.compose(U.Axis),Pi.compose(U.SVGRenderer),Ch.compose(U.Chart),_e.compose(U.Axis),fl.compose(U.Chart),nu.compose(U.Series.types.pie),rn.compose(U.Chart,U.Axis),dh.compose(U.Chart),Lu.compose(U.Chart),lo.compose(U.Axis,U.Chart,U.Series),uc.compose(U.Axis,U.Chart,U.Series),oh.compose(U.Pointer),ht.extend(U,ht);let ku=U;return Ei.default})())})(Pl);var Cu=Pl.exports;const Su=Pu(Cu),Tu=await fetch("src/ui/header/template.html"),Au=await Tu.text();let Cl={};Cl.render=function(){return Au};const Ou=await fetch("src/ui/map_lycee/template.html");await Ou.text();let zs={};zs.render=function(K,nt){let W=L.map("map").setView([45.83101313440399,1.259036035081095],10);L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:16,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(W);let $=L.markerClusterGroup({spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!1,freezeAtZoom:10});for(let V=0;V<K.length;V++){let x=L.marker([K[V].latitude,K[V].longitude]);x.bindPopup(`<b>${K[V].appellation_officielle}</b><br> ${K[V].count.generale} candidats en Générale<br> ${K[V].count.sti2d} candidats en STI2D <br> ${K[V].count.postbac} candidats en Post-Bac <br> ${K[V].count.other} autres candidats`),$.addLayer(x)}L.circle([45.83101313440399,1.259036035081095],{color:"blue",fillColor:"blue",fillOpacity:.1,radius:nt*1e3}).addTo(W),W.addLayer($),$.on("clusterclick",function(V){let x=0,C=0,T=0,O=0;V.layer.getAllChildMarkers().forEach(Z=>{const G=Z.getPopup().getContent(),R=parseInt(G.match(/(\d+) candidats en Générale/)[1]),q=parseInt(G.match(/(\d+) candidats en STI2D/)[1]),j=parseInt(G.match(/(\d+) autres candidats/)[1]),rt=parseInt(G.match(/(\d+) candidats en Post-Bac/)[1]);x+=R,C+=q,T+=j,O+=rt}),L.popup().setLatLng(V.latlng).setContent(`Total candidats dans la zone:<br>Générale: ${x}<br>STI2D: ${C}<br>Post-Bac: ${O}  <br>Autres: ${T}`).openOn(W)})};const Eu=await fetch("src/ui/chart/template.html"),Iu=await Eu.text();let Er={};Er.renderChart=function(K){let nt=K.seriesData,W=K.categories;Su.chart("chart",{chart:{type:"bar"},title:{text:"Department Data"},xAxis:{categories:W,title:{text:"Departments"}},yAxis:{min:0,title:{text:"Count",align:"high"},labels:{overflow:"justify"}},plotOptions:{bar:{stacking:"normal",dataLabels:{enabled:!0}}},series:nt})};Er.render=async function(K){return Iu};var Ll={exports:{}};(function(K,nt){(function(W,$){$(nt)})(Or,function(W){var $=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(x){L.Util.setOptions(this,x),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var C=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,C?this._withAnimation:this._noAnimation),this._markerCluster=C?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(x){if(x instanceof L.LayerGroup)return this.addLayers([x]);if(!x.getLatLng)return this._nonPointGroup.addLayer(x),this.fire("layeradd",{layer:x}),this;if(!this._map)return this._needsClustering.push(x),this.fire("layeradd",{layer:x}),this;if(this.hasLayer(x))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(x,this._maxZoom),this.fire("layeradd",{layer:x}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var C=x,T=this._zoom;if(x.__parent)for(;C.__parent._zoom>=T;)C=C.__parent;return this._currentShownBounds.contains(C.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(x,C):this._animationAddLayerNonAnimated(x,C)),this},removeLayer:function(x){return x instanceof L.LayerGroup?this.removeLayers([x]):x.getLatLng?this._map?x.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(x)),this._removeLayer(x,!0),this.fire("layerremove",{layer:x}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),x.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(x)&&(this._featureGroup.removeLayer(x),x.clusterShow&&x.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,x)&&this.hasLayer(x)&&this._needsRemoving.push({layer:x,latlng:x._latlng}),this.fire("layerremove",{layer:x}),this):(this._nonPointGroup.removeLayer(x),this.fire("layerremove",{layer:x}),this)},addLayers:function(x,C){if(!L.Util.isArray(x))return this.addLayer(x);var T=this._featureGroup,O=this._nonPointGroup,Z=this.options.chunkedLoading,G=this.options.chunkInterval,R=this.options.chunkProgress,q=x.length,j=0,rt=!0,Q;if(this._map){var Ot=new Date().getTime(),xt=L.bind(function(){var Rt=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();j<q;j++){if(Z&&j%200===0){var ze=new Date().getTime()-Rt;if(ze>G)break}if(Q=x[j],Q instanceof L.LayerGroup){rt&&(x=x.slice(),rt=!1),this._extractNonGroupLayers(Q,x),q=x.length;continue}if(!Q.getLatLng){O.addLayer(Q),C||this.fire("layeradd",{layer:Q});continue}if(!this.hasLayer(Q)&&(this._addLayer(Q,this._maxZoom),C||this.fire("layeradd",{layer:Q}),Q.__parent&&Q.__parent.getChildCount()===2)){var ae=Q.__parent.getAllChildMarkers(),Ei=ae[0]===Q?ae[1]:ae[0];T.removeLayer(Ei)}}R&&R(j,q,new Date().getTime()-Ot),j===q?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(xt,this.options.chunkDelay)},this);xt()}else for(var Nt=this._needsClustering;j<q;j++){if(Q=x[j],Q instanceof L.LayerGroup){rt&&(x=x.slice(),rt=!1),this._extractNonGroupLayers(Q,x),q=x.length;continue}if(!Q.getLatLng){O.addLayer(Q);continue}this.hasLayer(Q)||Nt.push(Q)}return this},removeLayers:function(x){var C,T,O=x.length,Z=this._featureGroup,G=this._nonPointGroup,R=!0;if(!this._map){for(C=0;C<O;C++){if(T=x[C],T instanceof L.LayerGroup){R&&(x=x.slice(),R=!1),this._extractNonGroupLayers(T,x),O=x.length;continue}this._arraySplice(this._needsClustering,T),G.removeLayer(T),this.hasLayer(T)&&this._needsRemoving.push({layer:T,latlng:T._latlng}),this.fire("layerremove",{layer:T})}return this}if(this._unspiderfy){this._unspiderfy();var q=x.slice(),j=O;for(C=0;C<j;C++){if(T=q[C],T instanceof L.LayerGroup){this._extractNonGroupLayers(T,q),j=q.length;continue}this._unspiderfyLayer(T)}}for(C=0;C<O;C++){if(T=x[C],T instanceof L.LayerGroup){R&&(x=x.slice(),R=!1),this._extractNonGroupLayers(T,x),O=x.length;continue}if(!T.__parent){G.removeLayer(T),this.fire("layerremove",{layer:T});continue}this._removeLayer(T,!0,!0),this.fire("layerremove",{layer:T}),Z.hasLayer(T)&&(Z.removeLayer(T),T.clusterShow&&T.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(x){x.off(this._childMarkerEventHandlers,this),delete x.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var x=new L.LatLngBounds;this._topClusterLevel&&x.extend(this._topClusterLevel._bounds);for(var C=this._needsClustering.length-1;C>=0;C--)x.extend(this._needsClustering[C].getLatLng());return x.extend(this._nonPointGroup.getBounds()),x},eachLayer:function(x,C){var T=this._needsClustering.slice(),O=this._needsRemoving,Z,G,R;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(T),G=T.length-1;G>=0;G--){for(Z=!0,R=O.length-1;R>=0;R--)if(O[R].layer===T[G]){Z=!1;break}Z&&x.call(C,T[G])}this._nonPointGroup.eachLayer(x,C)},getLayers:function(){var x=[];return this.eachLayer(function(C){x.push(C)}),x},getLayer:function(x){var C=null;return x=parseInt(x,10),this.eachLayer(function(T){L.stamp(T)===x&&(C=T)}),C},hasLayer:function(x){if(!x)return!1;var C,T=this._needsClustering;for(C=T.length-1;C>=0;C--)if(T[C]===x)return!0;for(T=this._needsRemoving,C=T.length-1;C>=0;C--)if(T[C].layer===x)return!1;return!!(x.__parent&&x.__parent._group===this)||this._nonPointGroup.hasLayer(x)},zoomToShowLayer:function(x,C){var T=this._map;typeof C!="function"&&(C=function(){});var O=function(){(T.hasLayer(x)||T.hasLayer(x.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",O,this),this.off("animationend",O,this),T.hasLayer(x)?C():x.__parent._icon&&(this.once("spiderfied",C,this),x.__parent.spiderfy()))};x._icon&&this._map.getBounds().contains(x.getLatLng())?C():x.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",O,this),this._map.panTo(x.getLatLng())):(this._map.on("moveend",O,this),this.on("animationend",O,this),x.__parent.zoomToBounds())},onAdd:function(x){this._map=x;var C,T,O;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(x),this._nonPointGroup.addTo(x),this._gridClusters||this._generateInitialClusters(),this._maxLat=x.options.crs.projection.MAX_LATITUDE,C=0,T=this._needsRemoving.length;C<T;C++)O=this._needsRemoving[C],O.newlatlng=O.layer._latlng,O.layer._latlng=O.latlng;for(C=0,T=this._needsRemoving.length;C<T;C++)O=this._needsRemoving[C],this._removeLayer(O.layer,!0),O.layer._latlng=O.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),T=this._needsClustering,this._needsClustering=[],this.addLayers(T,!0)},onRemove:function(x){x.off("zoomend",this._zoomEnd,this),x.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(x){for(var C=x;C&&!C._icon;)C=C.__parent;return C||null},_arraySplice:function(x,C){for(var T=x.length-1;T>=0;T--)if(x[T]===C)return x.splice(T,1),!0},_removeFromGridUnclustered:function(x,C){for(var T=this._map,O=this._gridUnclustered,Z=Math.floor(this._map.getMinZoom());C>=Z&&O[C].removeObject(x,T.project(x.getLatLng(),C));C--);},_childMarkerDragStart:function(x){x.target.__dragStart=x.target._latlng},_childMarkerMoved:function(x){if(!this._ignoreMove&&!x.target.__dragStart){var C=x.target._popup&&x.target._popup.isOpen();this._moveChild(x.target,x.oldLatLng,x.latlng),C&&x.target.openPopup()}},_moveChild:function(x,C,T){x._latlng=C,this.removeLayer(x),x._latlng=T,this.addLayer(x)},_childMarkerDragEnd:function(x){var C=x.target.__dragStart;delete x.target.__dragStart,C&&this._moveChild(x.target,C,x.target._latlng)},_removeLayer:function(x,C,T){var O=this._gridClusters,Z=this._gridUnclustered,G=this._featureGroup,R=this._map,q=Math.floor(this._map.getMinZoom());C&&this._removeFromGridUnclustered(x,this._maxZoom);var j=x.__parent,rt=j._markers,Q;for(this._arraySplice(rt,x);j&&(j._childCount--,j._boundsNeedUpdate=!0,!(j._zoom<q));)C&&j._childCount<=1?(Q=j._markers[0]===x?j._markers[1]:j._markers[0],O[j._zoom].removeObject(j,R.project(j._cLatLng,j._zoom)),Z[j._zoom].addObject(Q,R.project(Q.getLatLng(),j._zoom)),this._arraySplice(j.__parent._childClusters,j),j.__parent._markers.push(Q),Q.__parent=j.__parent,j._icon&&(G.removeLayer(j),T||G.addLayer(Q))):j._iconNeedsUpdate=!0,j=j.__parent;delete x.__parent},_isOrIsParent:function(x,C){for(;C;){if(x===C)return!0;C=C.parentNode}return!1},fire:function(x,C,T){if(C&&C.layer instanceof L.MarkerCluster){if(C.originalEvent&&this._isOrIsParent(C.layer._icon,C.originalEvent.relatedTarget))return;x="cluster"+x}L.FeatureGroup.prototype.fire.call(this,x,C,T)},listens:function(x,C){return L.FeatureGroup.prototype.listens.call(this,x,C)||L.FeatureGroup.prototype.listens.call(this,"cluster"+x,C)},_defaultIconCreateFunction:function(x){var C=x.getChildCount(),T=" marker-cluster-";return C<10?T+="small":C<100?T+="medium":T+="large",new L.DivIcon({html:"<div><span>"+C+"</span></div>",className:"marker-cluster"+T,iconSize:new L.Point(40,40)})},_bindEvents:function(){var x=this._map,C=this.options.spiderfyOnMaxZoom,T=this.options.showCoverageOnHover,O=this.options.zoomToBoundsOnClick,Z=this.options.spiderfyOnEveryZoom;(C||O||Z)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),T&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),x.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(x){var C=x.layer,T=C;if(!(x.type==="clusterkeypress"&&x.originalEvent&&x.originalEvent.keyCode!==13)){for(;T._childClusters.length===1;)T=T._childClusters[0];T._zoom===this._maxZoom&&T._childCount===C._childCount&&this.options.spiderfyOnMaxZoom?C.spiderfy():this.options.zoomToBoundsOnClick&&C.zoomToBounds(),this.options.spiderfyOnEveryZoom&&C.spiderfy(),x.originalEvent&&x.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(x){var C=this._map;this._inZoomAnimation||(this._shownPolygon&&C.removeLayer(this._shownPolygon),x.layer.getChildCount()>2&&x.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(x.layer.getConvexHull(),this.options.polygonOptions),C.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var x=this.options.spiderfyOnMaxZoom,C=this.options.showCoverageOnHover,T=this.options.zoomToBoundsOnClick,O=this.options.spiderfyOnEveryZoom,Z=this._map;(x||T||O)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),C&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),Z.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var x=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,x),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),x),this._currentShownBounds=x}},_generateInitialClusters:function(){var x=Math.ceil(this._map.getMaxZoom()),C=Math.floor(this._map.getMinZoom()),T=this.options.maxClusterRadius,O=T;typeof T!="function"&&(O=function(){return T}),this.options.disableClusteringAtZoom!==null&&(x=this.options.disableClusteringAtZoom-1),this._maxZoom=x,this._gridClusters={},this._gridUnclustered={};for(var Z=x;Z>=C;Z--)this._gridClusters[Z]=new L.DistanceGrid(O(Z)),this._gridUnclustered[Z]=new L.DistanceGrid(O(Z));this._topClusterLevel=new this._markerCluster(this,C-1)},_addLayer:function(x,C){var T=this._gridClusters,O=this._gridUnclustered,Z=Math.floor(this._map.getMinZoom()),G,R;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(x),x.on(this._childMarkerEventHandlers,this);C>=Z;C--){G=this._map.project(x.getLatLng(),C);var q=T[C].getNearObject(G);if(q){q._addChild(x),x.__parent=q;return}if(q=O[C].getNearObject(G),q){var j=q.__parent;j&&this._removeLayer(q,!1);var rt=new this._markerCluster(this,C,q,x);T[C].addObject(rt,this._map.project(rt._cLatLng,C)),q.__parent=rt,x.__parent=rt;var Q=rt;for(R=C-1;R>j._zoom;R--)Q=new this._markerCluster(this,R,Q),T[R].addObject(Q,this._map.project(q.getLatLng(),R));j._addChild(Q),this._removeFromGridUnclustered(q,C);return}O[C].addObject(x,G)}this._topClusterLevel._addChild(x),x.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(x){x instanceof L.MarkerCluster&&x._iconNeedsUpdate&&x._updateIcon()})},_enqueue:function(x){this._queue.push(x),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var x=0;x<this._queue.length;x++)this._queue[x].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var x=Math.round(this._map._zoom);this._processQueue(),this._zoom<x&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,x)):this._zoom>x?(this._animationStart(),this._animationZoomOut(this._zoom,x)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(x){var C=this._maxLat;return C!==void 0&&(x.getNorth()>=C&&(x._northEast.lat=1/0),x.getSouth()<=-C&&(x._southWest.lat=-1/0)),x},_animationAddLayerNonAnimated:function(x,C){if(C===x)this._featureGroup.addLayer(x);else if(C._childCount===2){C._addToMap();var T=C.getAllChildMarkers();this._featureGroup.removeLayer(T[0]),this._featureGroup.removeLayer(T[1])}else C._updateIcon()},_extractNonGroupLayers:function(x,C){var T=x.getLayers(),O=0,Z;for(C=C||[];O<T.length;O++){if(Z=T[O],Z instanceof L.LayerGroup){this._extractNonGroupLayers(Z,C);continue}C.push(Z)}return C},_overrideMarkerIcon:function(x){var C=x.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[x]}});return C}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(x,C){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),x),this._topClusterLevel._recursivelyAddChildrenToMap(null,C,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(x,C){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),x),this._topClusterLevel._recursivelyAddChildrenToMap(null,C,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(x,C){this._animationAddLayerNonAnimated(x,C)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(x,C){var T=this._getExpandedVisibleBounds(),O=this._featureGroup,Z=Math.floor(this._map.getMinZoom()),G;this._ignoreMove=!0,this._topClusterLevel._recursively(T,x,Z,function(R){var q=R._latlng,j=R._markers,rt;for(T.contains(q)||(q=null),R._isSingleParent()&&x+1===C?(O.removeLayer(R),R._recursivelyAddChildrenToMap(null,C,T)):(R.clusterHide(),R._recursivelyAddChildrenToMap(q,C,T)),G=j.length-1;G>=0;G--)rt=j[G],T.contains(rt._latlng)||O.removeLayer(rt)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(T,C),O.eachLayer(function(R){!(R instanceof L.MarkerCluster)&&R._icon&&R.clusterShow()}),this._topClusterLevel._recursively(T,x,C,function(R){R._recursivelyRestoreChildPositions(C)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(T,x,Z,function(R){O.removeLayer(R),R.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(x,C){this._animationZoomOutSingle(this._topClusterLevel,x-1,C),this._topClusterLevel._recursivelyAddChildrenToMap(null,C,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),x,this._getExpandedVisibleBounds())},_animationAddLayer:function(x,C){var T=this,O=this._featureGroup;O.addLayer(x),C!==x&&(C._childCount>2?(C._updateIcon(),this._forceLayout(),this._animationStart(),x._setPos(this._map.latLngToLayerPoint(C.getLatLng())),x.clusterHide(),this._enqueue(function(){O.removeLayer(x),x.clusterShow(),T._animationEnd()})):(this._forceLayout(),T._animationStart(),T._animationZoomOutSingle(C,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(x,C,T){var O=this._getExpandedVisibleBounds(),Z=Math.floor(this._map.getMinZoom());x._recursivelyAnimateChildrenInAndAddSelfToMap(O,Z,C+1,T);var G=this;this._forceLayout(),x._recursivelyBecomeVisible(O,T),this._enqueue(function(){if(x._childCount===1){var R=x._markers[0];this._ignoreMove=!0,R.setLatLng(R.getLatLng()),this._ignoreMove=!1,R.clusterShow&&R.clusterShow()}else x._recursively(O,T,Z,function(q){q._recursivelyRemoveChildrenFromMap(O,Z,C+1)});G._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(x){return new L.MarkerClusterGroup(x)};var V=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(x,C,T,O){L.Marker.prototype.initialize.call(this,T?T._cLatLng||T.getLatLng():new L.LatLng(0,0),{icon:this,pane:x.options.clusterPane}),this._group=x,this._zoom=C,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,T&&this._addChild(T),O&&this._addChild(O)},getAllChildMarkers:function(x,C){x=x||[];for(var T=this._childClusters.length-1;T>=0;T--)this._childClusters[T].getAllChildMarkers(x,C);for(var O=this._markers.length-1;O>=0;O--)C&&this._markers[O].__dragStart||x.push(this._markers[O]);return x},getChildCount:function(){return this._childCount},zoomToBounds:function(x){for(var C=this._childClusters.slice(),T=this._group._map,O=T.getBoundsZoom(this._bounds),Z=this._zoom+1,G=T.getZoom(),R;C.length>0&&O>Z;){Z++;var q=[];for(R=0;R<C.length;R++)q=q.concat(C[R]._childClusters);C=q}O>Z?this._group._map.setView(this._latlng,Z):O<=G?this._group._map.setView(this._latlng,G+1):this._group._map.fitBounds(this._bounds,x)},getBounds:function(){var x=new L.LatLngBounds;return x.extend(this._bounds),x},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(x,C){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(x),x instanceof L.MarkerCluster?(C||(this._childClusters.push(x),x.__parent=this),this._childCount+=x._childCount):(C||this._markers.push(x),this._childCount++),this.__parent&&this.__parent._addChild(x,!0)},_setClusterCenter:function(x){this._cLatLng||(this._cLatLng=x._cLatLng||x._latlng)},_resetBounds:function(){var x=this._bounds;x._southWest&&(x._southWest.lat=1/0,x._southWest.lng=1/0),x._northEast&&(x._northEast.lat=-1/0,x._northEast.lng=-1/0)},_recalculateBounds:function(){var x=this._markers,C=this._childClusters,T=0,O=0,Z=this._childCount,G,R,q,j;if(Z!==0){for(this._resetBounds(),G=0;G<x.length;G++)q=x[G]._latlng,this._bounds.extend(q),T+=q.lat,O+=q.lng;for(G=0;G<C.length;G++)R=C[G],R._boundsNeedUpdate&&R._recalculateBounds(),this._bounds.extend(R._bounds),q=R._wLatLng,j=R._childCount,T+=q.lat*j,O+=q.lng*j;this._latlng=this._wLatLng=new L.LatLng(T/Z,O/Z),this._boundsNeedUpdate=!1}},_addToMap:function(x){x&&(this._backupLatlng=this._latlng,this.setLatLng(x)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(x,C,T){this._recursively(x,this._group._map.getMinZoom(),T-1,function(O){var Z=O._markers,G,R;for(G=Z.length-1;G>=0;G--)R=Z[G],R._icon&&(R._setPos(C),R.clusterHide())},function(O){var Z=O._childClusters,G,R;for(G=Z.length-1;G>=0;G--)R=Z[G],R._icon&&(R._setPos(C),R.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(x,C,T,O){this._recursively(x,O,C,function(Z){Z._recursivelyAnimateChildrenIn(x,Z._group._map.latLngToLayerPoint(Z.getLatLng()).round(),T),Z._isSingleParent()&&T-1===O?(Z.clusterShow(),Z._recursivelyRemoveChildrenFromMap(x,C,T)):Z.clusterHide(),Z._addToMap()})},_recursivelyBecomeVisible:function(x,C){this._recursively(x,this._group._map.getMinZoom(),C,null,function(T){T.clusterShow()})},_recursivelyAddChildrenToMap:function(x,C,T){this._recursively(T,this._group._map.getMinZoom()-1,C,function(O){if(C!==O._zoom)for(var Z=O._markers.length-1;Z>=0;Z--){var G=O._markers[Z];T.contains(G._latlng)&&(x&&(G._backupLatlng=G.getLatLng(),G.setLatLng(x),G.clusterHide&&G.clusterHide()),O._group._featureGroup.addLayer(G))}},function(O){O._addToMap(x)})},_recursivelyRestoreChildPositions:function(x){for(var C=this._markers.length-1;C>=0;C--){var T=this._markers[C];T._backupLatlng&&(T.setLatLng(T._backupLatlng),delete T._backupLatlng)}if(x-1===this._zoom)for(var O=this._childClusters.length-1;O>=0;O--)this._childClusters[O]._restorePosition();else for(var Z=this._childClusters.length-1;Z>=0;Z--)this._childClusters[Z]._recursivelyRestoreChildPositions(x)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(x,C,T,O){var Z,G;this._recursively(x,C-1,T-1,function(R){for(G=R._markers.length-1;G>=0;G--)Z=R._markers[G],(!O||!O.contains(Z._latlng))&&(R._group._featureGroup.removeLayer(Z),Z.clusterShow&&Z.clusterShow())},function(R){for(G=R._childClusters.length-1;G>=0;G--)Z=R._childClusters[G],(!O||!O.contains(Z._latlng))&&(R._group._featureGroup.removeLayer(Z),Z.clusterShow&&Z.clusterShow())})},_recursively:function(x,C,T,O,Z){var G=this._childClusters,R=this._zoom,q,j;if(C<=R&&(O&&O(this),Z&&R===T&&Z(this)),R<C||R<T)for(q=G.length-1;q>=0;q--)j=G[q],j._boundsNeedUpdate&&j._recalculateBounds(),x.intersects(j._bounds)&&j._recursively(x,C,T,O,Z)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var x=this.options.opacity;return this.setOpacity(0),this.options.opacity=x,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(x){this._cellSize=x,this._sqCellSize=x*x,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(x,C){var T=this._getCoord(C.x),O=this._getCoord(C.y),Z=this._grid,G=Z[O]=Z[O]||{},R=G[T]=G[T]||[],q=L.Util.stamp(x);this._objectPoint[q]=C,R.push(x)},updateObject:function(x,C){this.removeObject(x),this.addObject(x,C)},removeObject:function(x,C){var T=this._getCoord(C.x),O=this._getCoord(C.y),Z=this._grid,G=Z[O]=Z[O]||{},R=G[T]=G[T]||[],q,j;for(delete this._objectPoint[L.Util.stamp(x)],q=0,j=R.length;q<j;q++)if(R[q]===x)return R.splice(q,1),j===1&&delete G[T],!0},eachObject:function(x,C){var T,O,Z,G,R,q,j,rt=this._grid;for(T in rt){R=rt[T];for(O in R)for(q=R[O],Z=0,G=q.length;Z<G;Z++)j=x.call(C,q[Z]),j&&(Z--,G--)}},getNearObject:function(x){var C=this._getCoord(x.x),T=this._getCoord(x.y),O,Z,G,R,q,j,rt,Q,Ot=this._objectPoint,xt=this._sqCellSize,Nt=null;for(O=T-1;O<=T+1;O++)if(R=this._grid[O],R){for(Z=C-1;Z<=C+1;Z++)if(q=R[Z],q)for(G=0,j=q.length;G<j;G++)rt=q[G],Q=this._sqDist(Ot[L.Util.stamp(rt)],x),(Q<xt||Q<=xt&&Nt===null)&&(xt=Q,Nt=rt)}return Nt},_getCoord:function(x){var C=Math.floor(x/this._cellSize);return isFinite(C)?C:x},_sqDist:function(x,C){var T=C.x-x.x,O=C.y-x.y;return T*T+O*O}},function(){L.QuickHull={getDistant:function(x,C){var T=C[1].lat-C[0].lat,O=C[0].lng-C[1].lng;return O*(x.lat-C[0].lat)+T*(x.lng-C[0].lng)},findMostDistantPointFromBaseLine:function(x,C){var T=0,O=null,Z=[],G,R,q;for(G=C.length-1;G>=0;G--){if(R=C[G],q=this.getDistant(R,x),q>0)Z.push(R);else continue;q>T&&(T=q,O=R)}return{maxPoint:O,newPoints:Z}},buildConvexHull:function(x,C){var T=[],O=this.findMostDistantPointFromBaseLine(x,C);return O.maxPoint?(T=T.concat(this.buildConvexHull([x[0],O.maxPoint],O.newPoints)),T=T.concat(this.buildConvexHull([O.maxPoint,x[1]],O.newPoints)),T):[x[0]]},getConvexHull:function(x){var C=!1,T=!1,O=!1,Z=!1,G=null,R=null,q=null,j=null,rt=null,Q=null,Ot;for(Ot=x.length-1;Ot>=0;Ot--){var xt=x[Ot];(C===!1||xt.lat>C)&&(G=xt,C=xt.lat),(T===!1||xt.lat<T)&&(R=xt,T=xt.lat),(O===!1||xt.lng>O)&&(q=xt,O=xt.lng),(Z===!1||xt.lng<Z)&&(j=xt,Z=xt.lng)}T!==C?(Q=R,rt=G):(Q=j,rt=q);var Nt=[].concat(this.buildConvexHull([Q,rt],x),this.buildConvexHull([rt,Q],x));return Nt}}}(),L.MarkerCluster.include({getConvexHull:function(){var x=this.getAllChildMarkers(),C=[],T,O;for(O=x.length-1;O>=0;O--)T=x[O].getLatLng(),C.push(T);return L.QuickHull.getConvexHull(C)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var x=this.getAllChildMarkers(null,!0),C=this._group,T=C._map,O=T.latLngToLayerPoint(this._latlng),Z;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?Z=this._group.options.spiderfyShapePositions(x.length,O):x.length>=this._circleSpiralSwitchover?Z=this._generatePointsSpiral(x.length,O):(O.y+=10,Z=this._generatePointsCircle(x.length,O)),this._animationSpiderfy(x,Z)}},unspiderfy:function(x){this._group._inZoomAnimation||(this._animationUnspiderfy(x),this._group._spiderfied=null)},_generatePointsCircle:function(x,C){var T=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+x),O=T/this._2PI,Z=this._2PI/x,G=[],R,q;for(O=Math.max(O,35),G.length=x,R=0;R<x;R++)q=this._circleStartAngle+R*Z,G[R]=new L.Point(C.x+O*Math.cos(q),C.y+O*Math.sin(q))._round();return G},_generatePointsSpiral:function(x,C){var T=this._group.options.spiderfyDistanceMultiplier,O=T*this._spiralLengthStart,Z=T*this._spiralFootSeparation,G=T*this._spiralLengthFactor*this._2PI,R=0,q=[],j;for(q.length=x,j=x;j>=0;j--)j<x&&(q[j]=new L.Point(C.x+O*Math.cos(R),C.y+O*Math.sin(R))._round()),R+=Z/O+j*5e-4,O+=G/R;return q},_noanimationUnspiderfy:function(){var x=this._group,C=x._map,T=x._featureGroup,O=this.getAllChildMarkers(null,!0),Z,G;for(x._ignoreMove=!0,this.setOpacity(1),G=O.length-1;G>=0;G--)Z=O[G],T.removeLayer(Z),Z._preSpiderfyLatlng&&(Z.setLatLng(Z._preSpiderfyLatlng),delete Z._preSpiderfyLatlng),Z.setZIndexOffset&&Z.setZIndexOffset(0),Z._spiderLeg&&(C.removeLayer(Z._spiderLeg),delete Z._spiderLeg);x.fire("unspiderfied",{cluster:this,markers:O}),x._ignoreMove=!1,x._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(x,C){var T=this._group,O=T._map,Z=T._featureGroup,G=this._group.options.spiderLegPolylineOptions,R,q,j,rt;for(T._ignoreMove=!0,R=0;R<x.length;R++)rt=O.layerPointToLatLng(C[R]),q=x[R],j=new L.Polyline([this._latlng,rt],G),O.addLayer(j),q._spiderLeg=j,q._preSpiderfyLatlng=q._latlng,q.setLatLng(rt),q.setZIndexOffset&&q.setZIndexOffset(1e6),Z.addLayer(q);this.setOpacity(.3),T._ignoreMove=!1,T.fire("spiderfied",{cluster:this,markers:x})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(x,C){var T=this,O=this._group,Z=O._map,G=O._featureGroup,R=this._latlng,q=Z.latLngToLayerPoint(R),j=L.Path.SVG,rt=L.extend({},this._group.options.spiderLegPolylineOptions),Q=rt.opacity,Ot,xt,Nt,Rt,ze,ae;for(Q===void 0&&(Q=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),j?(rt.opacity=0,rt.className=(rt.className||"")+" leaflet-cluster-spider-leg"):rt.opacity=Q,O._ignoreMove=!0,Ot=0;Ot<x.length;Ot++)xt=x[Ot],ae=Z.layerPointToLatLng(C[Ot]),Nt=new L.Polyline([R,ae],rt),Z.addLayer(Nt),xt._spiderLeg=Nt,j&&(Rt=Nt._path,ze=Rt.getTotalLength()+.1,Rt.style.strokeDasharray=ze,Rt.style.strokeDashoffset=ze),xt.setZIndexOffset&&xt.setZIndexOffset(1e6),xt.clusterHide&&xt.clusterHide(),G.addLayer(xt),xt._setPos&&xt._setPos(q);for(O._forceLayout(),O._animationStart(),Ot=x.length-1;Ot>=0;Ot--)ae=Z.layerPointToLatLng(C[Ot]),xt=x[Ot],xt._preSpiderfyLatlng=xt._latlng,xt.setLatLng(ae),xt.clusterShow&&xt.clusterShow(),j&&(Nt=xt._spiderLeg,Rt=Nt._path,Rt.style.strokeDashoffset=0,Nt.setStyle({opacity:Q}));this.setOpacity(.3),O._ignoreMove=!1,setTimeout(function(){O._animationEnd(),O.fire("spiderfied",{cluster:T,markers:x})},200)},_animationUnspiderfy:function(x){var C=this,T=this._group,O=T._map,Z=T._featureGroup,G=x?O._latLngToNewLayerPoint(this._latlng,x.zoom,x.center):O.latLngToLayerPoint(this._latlng),R=this.getAllChildMarkers(null,!0),q=L.Path.SVG,j,rt,Q,Ot,xt,Nt;for(T._ignoreMove=!0,T._animationStart(),this.setOpacity(1),rt=R.length-1;rt>=0;rt--)j=R[rt],j._preSpiderfyLatlng&&(j.closePopup(),j.setLatLng(j._preSpiderfyLatlng),delete j._preSpiderfyLatlng,Nt=!0,j._setPos&&(j._setPos(G),Nt=!1),j.clusterHide&&(j.clusterHide(),Nt=!1),Nt&&Z.removeLayer(j),q&&(Q=j._spiderLeg,Ot=Q._path,xt=Ot.getTotalLength()+.1,Ot.style.strokeDashoffset=xt,Q.setStyle({opacity:0})));T._ignoreMove=!1,setTimeout(function(){var Rt=0;for(rt=R.length-1;rt>=0;rt--)j=R[rt],j._spiderLeg&&Rt++;for(rt=R.length-1;rt>=0;rt--)j=R[rt],j._spiderLeg&&(j.clusterShow&&j.clusterShow(),j.setZIndexOffset&&j.setZIndexOffset(0),Rt>1&&Z.removeLayer(j),O.removeLayer(j._spiderLeg),delete j._spiderLeg);T._animationEnd(),T.fire("unspiderfied",{cluster:C,markers:R})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(x){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(x))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(x){this._spiderfied&&this._spiderfied.unspiderfy(x)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(x){x._spiderLeg&&(this._featureGroup.removeLayer(x),x.clusterShow&&x.clusterShow(),x.setZIndexOffset&&x.setZIndexOffset(0),this._map.removeLayer(x._spiderLeg),delete x._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(x){return x?x instanceof L.MarkerClusterGroup?x=x._topClusterLevel.getAllChildMarkers():x instanceof L.LayerGroup?x=x._layers:x instanceof L.MarkerCluster?x=x.getAllChildMarkers():x instanceof L.Marker&&(x=[x]):x=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(x),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(x),this},_flagParentsIconsNeedUpdate:function(x){var C,T;for(C in x)for(T=x[C].__parent;T;)T._iconNeedsUpdate=!0,T=T.__parent},_refreshSingleMarkerModeMarkers:function(x){var C,T;for(C in x)T=x[C],this.hasLayer(T)&&T.setIcon(this._overrideMarkerIcon(T))}}),L.Marker.include({refreshIconOptions:function(x,C){var T=this.options.icon;return L.setOptions(T,x),this.setIcon(T),C&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),W.MarkerClusterGroup=$,W.MarkerCluster=V,Object.defineProperty(W,"__esModule",{value:!0})})})(Ll,Ll.exports);var zu={exports:{}};/*!
 Leaflet.MarkerCluster.Freezable 1.0.0+9db80a3
 (c) 2015-2016 Boris Seang
 License MIT
 */(function(K){(function(nt,W){W(K.exports?Ml():nt.L)})(Or,function(nt,W){nt.MarkerClusterGroup.include({_originalOnAddFreezable:nt.MarkerClusterGroup.prototype.onAdd,onAdd:function($){var V=this._zoom;this._originalOnAddFreezable($),this._frozen&&(V>=0&&V!==this._zoom&&(this._featureGroup.clearLayers(),this._zoom=V,this.addLayers([])),$.off("zoomend",this._zoomEnd,this),$.off("moveend",this._moveEnd,this),$.on("zoomend moveend",this._viewChangeEndNotClustering,this))},_originalOnRemove:nt.MarkerClusterGroup.prototype.onRemove,onRemove:function($){$.off("zoomend moveend",this._viewChangeEndNotClustering,this),this._originalOnRemove($)},disableClustering:function(){return this.freezeAtZoom(this._maxZoom+1)},disableClusteringKeepSpiderfy:function(){return this.freezeAtZoom(this._maxZoom)},enableClustering:function(){return this.unfreeze()},unfreeze:function(){return this.freezeAtZoom(!1)},freezeAtZoom:function($){this._processQueue();var V=this._map;$===W||$===!0||$!==$?$=V?Math.round(V.getZoom()):-1:$==="max"?$=this._maxZoom+1:$==="maxKeepSpiderfy"&&($=this._maxZoom);var x=typeof $=="number";if(this._frozen){if(!x)return this._unfreeze(),this}else{if(!x)return this;this._initiateFreeze()}return this._artificialZoomSafe(this._zoom,$),this},_initiateFreeze:function(){var $=this._map;this._frozen=!0,$&&($.off("zoomend",this._zoomEnd,this),$.off("moveend",this._moveEnd,this),$.on("zoomend moveend",this._viewChangeEndNotClustering,this))},_unfreeze:function(){var $=this._map;this._frozen=!1,$&&($.off("zoomend moveend",this._viewChangeEndNotClustering,this),$.on("zoomend",this._zoomEnd,this),$.on("moveend",this._moveEnd,this),this._executeAfterUnspiderfy(function(){this._zoomEnd()},this))},_executeAfterUnspiderfy:function($,V){return this._unspiderfy&&this._spiderfied?(this.once("animationend",function(){$.call(V)}),void this._unspiderfy()):void $.call(V)},_artificialZoomSafe:function($,V){this._zoom=V,this._map&&$!==V&&this._executeAfterUnspiderfy(function(){this._artificialZoom($,V)},this)},_artificialZoom:function($,V){$<V?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),$,this._getExpandedVisibleBounds()),this._animationZoomIn($,V)):$>V&&(this._animationStart(),this._animationZoomOut($,V))},_viewChangeEndNotClustering:function(){var $=this._featureGroup,V=this._getExpandedVisibleBounds(),x=this._zoom;$.eachLayer(function(C){!V.contains(C._latlng)&&C.__parent&&C.__parent._zoom<x&&$.removeLayer(C)}),this._topClusterLevel._recursively(V,-1,x,function(C){if(C._zoom!==x)for(var T,O=C._markers,Z=0;Z<O.length;Z++)T=C._markers[Z],V.contains(T._latlng)&&$.addLayer(T)},function(C){C._addToMap()}),this._currentShownBounds=V},_originalZoomOrSpiderfy:nt.MarkerClusterGroup.prototype._zoomOrSpiderfy,_zoomOrSpiderfy:function($){this._frozen&&this.options.spiderfyOnMaxZoom?($.layer.spiderfy(),$.originalEvent&&$.originalEvent.keyCode===13&&map._container.focus()):this._originalZoomOrSpiderfy($)}})})})(zu);let _i=10,oi={};oi.init=async function(){await ri.init(),document.querySelector("#postbac").addEventListener("change",oi.handler_CheckBox),document.querySelector("#neobacheliers").addEventListener("change",oi.handler_CheckBox),document.querySelector("#threshold").addEventListener("input",oi.handler_SliderThreshold),document.querySelector("#radius").addEventListener("input",oi.handler_SliderRadius),Er.renderChart(vi.formatChart(vi.getDepartements(0),10)),oi.handler_SliderRadius()};let ri={header:document.querySelector("#header")};ri.clearMap=function(){document.querySelector("#map").remove();const nt=document.createElement("div");nt.id="map",document.querySelector("#mapDiv").appendChild(nt)};ri.init=async function(){ri.renderHeader(),zs.init};ri.renderHeader=function(){ri.header.innerHTML=Cl.render()};oi.handler_ClickPostBac=function(){ri.clearMap(),zs.render(ue.getPostBac())};oi.handler_CheckBox=function(){let K=document.querySelector("#postbac").checked,nt=document.querySelector("#neobacheliers").checked;Sl(K,nt)};oi.handler_SliderThreshold=function(){let K=document.querySelector("#threshold").value;Er.renderChart(vi.formatChart(vi.getDepartements(0),K));let nt=document.querySelector("#thresholdValue");nt.innerHTML=K};oi.handler_SliderRadius=function(){_i=document.querySelector("#radius").value;let K=document.querySelector("#radiusValue");K.innerHTML=_i,Sl(document.querySelector("#postbac").checked,document.querySelector("#neobacheliers").checked)};let Sl=function(K,nt){K&&nt?(ri.clearMap(),_i=document.querySelector("#radius").value,zs.render(ue.filtrerParDistance(ue.getAllLieux(),_i),_i)):nt?(ri.clearMap(),zs.render(ue.filtrerParDistance(ue.getNeoBacheliers(),_i),_i)):K?(ri.clearMap(),zs.render(ue.filtrerParDistance(ue.getPostBac(),_i),_i)):(ri.clearMap(),zs.render([],_i))};oi.init();
